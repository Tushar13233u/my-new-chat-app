/*! For license information please see main.c8cb65a2.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),o=n(43),i=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),_=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var N=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===N?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case C:return"Suspense";case k:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case _:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return A(e(t))}catch(hw){}}return null}var O=Array.isArray,M=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},F=[],j=-1;function z(e){return{current:e}}function U(e){0>j||(e.current=F[j],F[j]=null,j--)}function V(e,t){j++,F[j]=e.current,e.current=t}var B=z(null),W=z(null),q=z(null),H=z(null);function K(e,t){switch(V(q,t),V(W,e),V(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?od(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=od(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(B),V(B,e)}function G(){U(B),U(W),U(q)}function Y(e){null!==e.memoizedState&&V(H,e);var t=B.current,n=id(t,e.type);t!==n&&(V(W,e),V(B,n))}function Q(e){W.current===e&&(U(B),U(W)),H.current===e&&(U(H),Yd._currentValue=L)}var $=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,oe=r.unstable_UserBlockingPriority,ie=r.unstable_NormalPriority,se=r.unstable_LowPriority,ae=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2;var ge=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,i=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~i)?o=ye(r):0!==(s&=a)?o=ye(s):n||0!==(n=a&~e)&&(o=ye(n)):0!==(a=r&~i)?o=ye(a):0!==s?o=ye(s):n||0!==(n=r&~e)&&(o=ye(n)),0===o?0:0!==t&&t!==o&&0===(t&i)&&((i=o&-o)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:o}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function _e(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Ce(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Te(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Re(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ne=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Ne,Oe="__reactProps$"+Ne,Me="__reactContainer$"+Ne,De="__reactEvents$"+Ne,Le="__reactListeners$"+Ne,Fe="__reactHandles$"+Ne,je="__reactResources$"+Ne,ze="__reactMarker$"+Ne;function Ue(e){delete e[Ae],delete e[Oe],delete e[De],delete e[Le],delete e[Fe]}function Ve(e){var t=e[Ae];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Me]||n[Ae]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Ae])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[Ae]||e[Me]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function We(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function qe(e){var t=e[je];return t||(t=e[je]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[ze]=!0}var Ke=new Set,Ge={};function Ye(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ge[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var $e,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(o=t,$.call(et,o)||!$.call(Ze,o)&&(Je.test(o)?et[o]=!0:(Ze[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ot(e){if(void 0===$e)try{throw Error()}catch(hw){var t=hw.stack.trim().match(/\n( *(at )?)/);$e=t&&t[1]||"",Xe=-1<hw.stack.indexOf("\n    at")?" (<anonymous>)":-1<hw.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+$e+e+Xe}var it=!1;function st(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(hw){var r=hw}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),s=i[0],a=i[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(o=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;o<c.length&&!c[o].includes("DetermineComponentFrameRoot");)o++;if(r===l.length||o===c.length)for(r=l.length-1,o=c.length-1;1<=r&&0<=o&&l[r]!==c[o];)o--;for(;1<=r&&0<=o;r--,o--)if(l[r]!==c[o]){if(1!==r||1!==o)do{if(r--,0>--o||l[r]!==c[o]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=o);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ot(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return ot("Activity");default:return""}}function lt(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(hw){return"\nError generating stack: "+hw.message+"\n"+hw.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,o,i,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?yt(e,s,ct(t)):null!=n?yt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ct(a):e.removeAttribute("name")}function vt(e,t,n,r,o,i,s,a){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:o)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function yt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function _t(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(O(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Ct.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&kt(e,o,r)}else for(var i in t)t.hasOwnProperty(i)&&kt(e,i,t[i])}function xt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Rt=null;function Nt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var At=null,Ot=null;function Mt(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[Oe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[Oe]||null;if(!o)throw Error(s(90));gt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Lt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==At||null!==Ot)&&(Vc(),At&&(t=At,e=Ot,Ot=At=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Oe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var jt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(jt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Oh){zt=!1}var Vt=null,Bt=null,Wt=null;function qt(){if(Wt)return Wt;var e,t,n=Bt,r=n.length,o="value"in Vt?Vt.value:Vt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return Wt=o.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Gt(){return!1}function Yt(e){function t(t,n,r,o,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Kt:Gt,this.isPropagationStopped=Gt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Qt,$t,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Yt(Jt),en=h({},Jt,{view:0,detail:0}),tn=Yt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Qt=e.screenX-Xt.screenX,$t=e.screenY-Xt.screenY):$t=Qt=0,Xt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),rn=Yt(nn),on=Yt(h({},nn,{dataTransfer:0})),sn=Yt(h({},en,{relatedTarget:0})),an=Yt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Yt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Yt(h({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function fn(){return pn}var mn=Yt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Yt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Yt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),yn=Yt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Yt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Yt(h({},Jt,{newState:0,oldState:0})),_n=[9,13,27,32],Sn=jt&&"CompositionEvent"in window,Cn=null;jt&&"documentMode"in document&&(Cn=document.documentMode);var kn=jt&&"TextEvent"in window&&!Cn,En=jt&&(!Sn||Cn&&8<Cn&&11>=Cn),xn=String.fromCharCode(32),Tn=!1;function In(e,t){switch(e){case"keyup":return-1!==_n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nn[e.type]:"textarea"===t}function On(e,t,n,r){At?Ot?Ot.push(r):Ot=[r]:At=r,0<(t=qu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,Dn=null;function Ln(e){Lu(e,0)}function Fn(e){if(ht(We(e)))return e}function jn(e,t){if("change"===e)return t}var zn=!1;if(jt){var Un;if(jt){var Vn="oninput"in document;if(!Vn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),Vn="function"===typeof Bn.oninput}Un=Vn}else Un=!1;zn=Un&&(!document.documentMode||9<document.documentMode)}function Wn(){Mn&&(Mn.detachEvent("onpropertychange",qn),Dn=Mn=null)}function qn(e){if("value"===e.propertyName&&Fn(Dn)){var t=[];On(t,Dn,e,Nt(e)),Lt(Ln,t)}}function Hn(e,t,n){"focusin"===e?(Wn(),Dn=n,(Mn=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Wn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Dn)}function Gn(e,t){if("click"===e)return Fn(t)}function Yn(e,t){if("input"===e||"change"===e)return Fn(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!$.call(t,o)||!Qn(e[o],t[o]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=jt&&"documentMode"in document&&11>=document.documentMode,rr=null,or=null,ir=null,sr=!1;function ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==pt(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&$n(ir,r)||(ir=r,0<(r=qu(or,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}jt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var pr=hr("animationend"),fr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),vr=hr("transitionstart"),yr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,_r="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){wr.set(e,t),Ye(t,[e])}_r.push("scrollEnd");var Cr=new WeakMap;function kr(e,t){if("object"===typeof e&&null!==e){var n=Cr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Cr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Er=[],xr=0,Tr=0;function Ir(){for(var e=xr,t=Tr=xr=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var o=Er[t];Er[t++]=null;var i=Er[t];if(Er[t++]=null,null!==r&&null!==o){var s=r.pending;null===s?o.next=o:(o.next=s.next,s.next=o),r.pending=o}0!==i&&Ar(n,o,i)}}function Pr(e,t,n,r){Er[xr++]=e,Er[xr++]=t,Er[xr++]=n,Er[xr++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Pr(e,t,n,r),Or(e)}function Nr(e,t){return Pr(e,null,null,t),Or(e)}function Ar(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,o&&null!==t&&(o=31-pe(n),null===(r=(e=i.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),i):null}function Or(e){if(50<Ac)throw Ac=0,Oc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mr={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new Dr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jr(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,o,i){var a=0;if(r=e,"function"===typeof e)Fr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Lr(31,n,t,o)).elementType=T,e.lanes=i,e;case g:return Vr(n.children,o,i,t);case v:a=8,o|=24;break;case y:return(e=Lr(12,n,t,2|o)).elementType=y,e.lanes=i,e;case C:return(e=Lr(13,n,t,o)).elementType=C,e.lanes=i,e;case k:return(e=Lr(19,n,t,o)).elementType=k,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case _:a=10;break e;case w:a=9;break e;case S:a=11;break e;case E:a=14;break e;case x:a=16,r=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Lr(a,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function Vr(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function Br(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function Wr(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Hr=0,Kr=null,Gr=0,Yr=[],Qr=0,$r=null,Xr=1,Jr="";function Zr(e,t){qr[Hr++]=Gr,qr[Hr++]=Kr,Kr=e,Gr=t}function eo(e,t,n){Yr[Qr++]=Xr,Yr[Qr++]=Jr,Yr[Qr++]=$r,$r=e;var r=Xr;e=Jr;var o=32-pe(r)-1;r&=~(1<<o),n+=1;var i=32-pe(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Xr=1<<32-pe(t)+o|n<<o|r,Jr=i+e}else Xr=1<<i|n<<o|r,Jr=e}function to(e){null!==e.return&&(Zr(e,1),eo(e,1,0))}function no(e){for(;e===Kr;)Kr=qr[--Hr],qr[Hr]=null,Gr=qr[--Hr],qr[Hr]=null;for(;e===$r;)$r=Yr[--Qr],Yr[Qr]=null,Jr=Yr[--Qr],Yr[Qr]=null,Xr=Yr[--Qr],Yr[Qr]=null}var ro=null,oo=null,io=!1,so=null,ao=!1,lo=Error(s(519));function co(e){throw go(kr(Error(s(418,"")),e)),lo}function uo(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ae]=e,t[Oe]=r,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Mu.length;n++)Fu(Mu[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),_t(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||$u(t.textContent,n)?(null!=r.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=r.onScroll&&Fu("scroll",t),null!=r.onScrollEnd&&Fu("scrollend",t),null!=r.onClick&&(t.onclick=Xu),t=!0):t=!1,t||co(e)}function ho(e){for(ro=e.return;ro;)switch(ro.tag){case 5:case 13:return void(ao=!1);case 27:case 3:return void(ao=!0);default:ro=ro.return}}function po(e){if(e!==ro)return!1;if(!io)return ho(e),io=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&oo&&co(e),ho(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){oo=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}oo=null}}else 27===n?(n=oo,pd(e.type)?(e=yd,yd=null,oo=e):oo=n):oo=ro?vd(e.stateNode.nextSibling):null;return!0}function fo(){oo=ro=null,io=!1}function mo(){var e=so;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),so=null),e}function go(e){null===so?so=[e]:so.push(e)}var vo=z(null),yo=null,bo=null;function wo(e,t,n){V(vo,t._currentValue),t._currentValue=n}function _o(e){e._currentValue=vo.current,U(vo)}function So(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Co(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var i=o.dependencies;if(null!==i){var a=o.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=o;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),So(i.return,n,e),r||(a=null);break e}i=l.next}}else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(i=a.alternate)&&(i.lanes|=n),So(a,n,e),a=null}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}}function ko(e,t,n,r){e=null;for(var o=t,i=!1;null!==o;){if(!i)if(0!==(524288&o.flags))i=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var a=o.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=o.type;Qn(o.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(o===H.current){if(null===(a=o.alternate))throw Error(s(387));a.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(Yd):e=[Yd])}o=o.return}null!==e&&Co(t,e,n,r),t.flags|=262144}function Eo(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xo(e){yo=e,bo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function To(e){return Po(yo,e)}function Io(e,t){return null===yo&&xo(e),Po(e,t)}function Po(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===bo){if(null===e)throw Error(s(308));bo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bo=bo.next=t;return n}var Ro="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},No=r.unstable_scheduleCallback,Ao=r.unstable_NormalPriority,Oo={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mo(){return{controller:new Ro,data:new Map,refCount:0}}function Do(e){e.refCount--,0===e.refCount&&No(Ao,function(){e.controller.abort()})}var Lo=null,Fo=0,jo=0,zo=null;function Uo(){if(0===--Fo&&null!==Lo){null!==zo&&(zo.status="fulfilled");var e=Lo;Lo=null,jo=0,zo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vo=M.S;M.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Lo){var n=Lo=[];Fo=0,jo=Pu(),zo={status:"pending",value:void 0,then:function(e){n.push(e)}}}Fo++,t.then(Uo,Uo)}(0,t),null!==Vo&&Vo(e,t)};var Bo=z(null);function Wo(){var e=Bo.current;return null!==e?e:rc.pooledCache}function qo(e,t){V(Bo,null===t?Bo.current:t.pool)}function Ho(){var e=Wo();return null===e?null:{parent:Oo._currentValue,pool:e}}var Ko=Error(s(460)),Go=Error(s(474)),Yo=Error(s(542)),Qo={then:function(){}};function $o(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xo(){}function Jo(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xo,Xo),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e;default:if("string"===typeof t.status)t.then(Xo,Xo);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e}throw Zo=t,Ko}}var Zo=null;function ei(){if(null===Zo)throw Error(s(459));var e=Zo;return Zo=null,e}function ti(e){if(e===Ko||e===Yo)throw Error(s(483))}var ni=!1;function ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ii(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function si(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Or(e),Ar(e,null,n),t}return Pr(e,r,t,n),Or(e)}function ai(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}function li(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ci=!1;function ui(){if(ci){if(null!==zo)throw zo}}function di(e,t,n,r){ci=!1;var o=e.updateQueue;ni=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(s=0,u=c=l=null,a=i;;){var p=-536870913&a.lane,f=p!==a.lane;if(f?(ic&p)===p:(r&p)===p){0!==p&&p===jo&&(ci=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;p=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=g.payload)?m.call(v,d,p):m)||void 0===p)break e;d=h({},d,p);break e;case 2:ni=!0}}null!==(p=a.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=o.callbacks)?o.callbacks=[p]:f.push(p))}else f={lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=p;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(f=a).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null===i&&(o.shared.lanes=0),pc|=s,e.lanes=s,e.memoizedState=d}}function hi(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function pi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)hi(n[e],t)}var fi=z(null),mi=z(0);function gi(e,t){V(mi,e=dc),V(fi,t),dc=e|t.baseLanes}function vi(){V(mi,dc),V(fi,fi.current)}function yi(){dc=mi.current,U(fi),U(mi)}var bi=0,wi=null,_i=null,Si=null,Ci=!1,ki=!1,Ei=!1,xi=0,Ti=0,Ii=null,Pi=0;function Ri(){throw Error(s(321))}function Ni(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Ai(e,t,n,r,o,i){return bi=i,wi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?Ks:Gs,Ei=!1,i=n(r,o),Ei=!1,ki&&(i=Mi(t,n,r,o)),Oi(e),i}function Oi(e){M.H=Hs;var t=null!==_i&&null!==_i.next;if(bi=0,Si=_i=wi=null,Ci=!1,Ti=0,Ii=null,t)throw Error(s(300));null===e||Ta||null!==(e=e.dependencies)&&Eo(e)&&(Ta=!0)}function Mi(e,t,n,r){wi=e;var o=0;do{if(ki&&(Ii=null),Ti=0,ki=!1,25<=o)throw Error(s(301));if(o+=1,Si=_i=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}M.H=Ys,i=t(n,r)}while(ki);return i}function Di(){var e=M.H,t=e.useState()[0];return t="function"===typeof t.then?Vi(t):t,e=e.useState()[0],(null!==_i?_i.memoizedState:null)!==e&&(wi.flags|=1024),t}function Li(){var e=0!==xi;return xi=0,e}function Fi(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ji(e){if(Ci){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ci=!1}bi=0,Si=_i=wi=null,ki=!1,Ti=xi=0,Ii=null}function zi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Si?wi.memoizedState=Si=e:Si=Si.next=e,Si}function Ui(){if(null===_i){var e=wi.alternate;e=null!==e?e.memoizedState:null}else e=_i.next;var t=null===Si?wi.memoizedState:Si.next;if(null!==t)Si=t,_i=e;else{if(null===e){if(null===wi.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(_i=e).memoizedState,baseState:_i.baseState,baseQueue:_i.baseQueue,queue:_i.queue,next:null},null===Si?wi.memoizedState=Si=e:Si=Si.next=e}return Si}function Vi(e){var t=Ti;return Ti+=1,null===Ii&&(Ii=[]),e=Jo(Ii,e,t),t=wi,null===(null===Si?t.memoizedState:Si.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?Ks:Gs),e}function Bi(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Vi(e);if(e.$$typeof===_)return To(e)}throw Error(s(438,String(e)))}function Wi(e){var t=null,n=wi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function qi(e,t){return"function"===typeof t?t(e):t}function Hi(e){return Ki(Ui(),_i,e)}function Ki(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var o=e.baseQueue,i=r.pending;if(null!==i){if(null!==o){var a=o.next;o.next=i.next,i.next=a}t.baseQueue=o=i,r.pending=null}if(i=e.baseState,null===o)e.memoizedState=i;else{var l=a=null,c=null,u=t=o.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(bi&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===jo&&(d=!0);else{if((bi&p)===p){u=u.next,p===jo&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=i):c=c.next=h,wi.lanes|=p,pc|=p}h=u.action,Ei&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else p={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,a=i):c=c.next=p,wi.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=i:c.next=l,!Qn(i,e.memoizedState)&&(Ta=!0,d&&null!==(n=zo)))throw n;e.memoizedState=i,e.baseState=a,e.baseQueue=c,r.lastRenderedState=i}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Gi(e){var t=Ui(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{i=e(i,a.action),a=a.next}while(a!==o);Qn(i,t.memoizedState)||(Ta=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Yi(e,t,n){var r=wi,o=Ui(),i=io;if(i){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Qn((_i||o).memoizedState,n);if(a&&(o.memoizedState=n,Ta=!0),o=o.queue,vs(2048,8,Xi.bind(null,r,o,e),[e]),o.getSnapshot!==t||a||null!==Si&&1&Si.memoizedState.tag){if(r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},$i.bind(null,r,o,n,t),null),null===rc)throw Error(s(349));i||0!==(124&bi)||Qi(r,t,n)}return n}function Qi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function $i(e,t,n,r){t.value=n,t.getSnapshot=r,Ji(t)&&Zi(e)}function Xi(e,t,n){return n(function(){Ji(t)&&Zi(e)})}function Ji(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(Df){return!0}}function Zi(e){var t=Nr(e,2);null!==t&&Lc(t,e,2)}function es(e){var t=zi();if("function"===typeof e){var n=e;if(e=n(),Ei){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},t}function ts(e,t,n,r){return e.baseState=n,Ki(e,_i,"function"===typeof r?r:qi)}function ns(e,t,n,r,o){if(Bs(e))throw Error(s(485));if(null!==(e=t.action)){var i={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==M.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,rs(t,i)):(i.next=n.next,t.pending=n.next=i)}}function rs(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=M.T,s={};M.T=s;try{var a=n(o,r),l=M.S;null!==l&&l(s,a),os(e,t,a)}catch(Df){ss(e,t,Df)}finally{M.T=i}}else try{os(e,t,i=n(o,r))}catch(c){ss(e,t,c)}}function os(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){is(e,t,n)},function(n){return ss(e,t,n)}):is(e,t,n)}function is(e,t,n){t.status="fulfilled",t.value=n,as(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,rs(e,n)))}function ss(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,as(t),t=t.next}while(t!==r)}e.action=null}function as(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ls(e,t){return t}function cs(e,t){if(io){var n=rc.formState;if(null!==n){e:{var r=wi;if(io){if(oo){t:{for(var o=oo,i=ao;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=vd(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){oo=vd(o.nextSibling),r="F!"===o.data;break e}}co(r)}r=!1}r&&(t=n[0])}}return(n=zi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n.queue=r,n=zs.bind(null,wi,r),r.dispatch=n,r=es(!1),i=Vs.bind(null,wi,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=zi()).queue=o,n=ns.bind(null,wi,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function us(e){return ds(Ui(),_i,e)}function ds(e,t,n){if(t=Ki(e,t,ls)[0],e=Hi(qi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Vi(t)}catch(hw){if(hw===Ko)throw Yo;throw hw}else r=t;var o=(t=Ui()).queue,i=o.dispatch;return n!==t.memoizedState&&(wi.flags|=2048,fs(9,{destroy:void 0,resource:void 0},hs.bind(null,o,n),null)),[r,i,e]}function hs(e,t){e.action=t}function ps(e){var t=Ui(),n=_i;if(null!==n)return ds(t,n,e);Ui(),t=t.memoizedState;var r=(n=Ui()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ms(){return Ui().memoizedState}function gs(e,t,n,r){var o=zi();r=void 0===r?null:r,wi.flags|=e,o.memoizedState=fs(1|t,{destroy:void 0,resource:void 0},n,r)}function vs(e,t,n,r){var o=Ui();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==_i&&null!==r&&Ni(r,_i.memoizedState.deps)?o.memoizedState=fs(t,i,n,r):(wi.flags|=e,o.memoizedState=fs(1|t,i,n,r))}function ys(e,t){gs(8390656,8,e,t)}function bs(e,t){vs(2048,8,e,t)}function ws(e,t){return vs(4,2,e,t)}function _s(e,t){return vs(4,4,e,t)}function Ss(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Cs(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,vs(4,4,Ss.bind(null,t,e),n)}function ks(){}function Es(e,t){var n=Ui();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ni(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xs(e,t){var n=Ui();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ni(t,r[1]))return r[0];if(r=e(),Ei){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Ts(e,t,n){return void 0===n||0!==(1073741824&bi)?e.memoizedState=t:(e.memoizedState=n,e=Dc(),wi.lanes|=e,pc|=e,n)}function Is(e,t,n,r){return Qn(n,t)?n:null!==fi.current?(e=Ts(e,n,r),Qn(e,t)||(Ta=!0),e):0===(42&bi)?(Ta=!0,e.memoizedState=n):(e=Dc(),wi.lanes|=e,pc|=e,t)}function Ps(e,t,n,r,o){var i=D.p;D.p=0!==i&&8>i?i:8;var s=M.T,a={};M.T=a,Vs(e,!1,t,n);try{var l=o(),c=M.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r);Us(e,t,u,Mc())}else Us(e,t,r,Mc())}catch(Df){Us(e,t,{then:function(){},status:"rejected",reason:Df},Mc())}finally{D.p=i,M.T=s}}function Rs(){}function Ns(e,t,n,r){if(5!==e.tag)throw Error(s(476));var o=As(e).queue;Ps(e,o,t,L,null===n?Rs:function(){return Os(e),n(r)})}function As(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Os(e){Us(e,As(e).next.queue,{},Mc())}function Ms(){return To(Yd)}function Ds(){return Ui().memoizedState}function Ls(){return Ui().memoizedState}function Fs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Mc(),r=si(t,e=ii(n),n);return null!==r&&(Lc(r,t,n),ai(r,t,n)),t={cache:Mo()},void(e.payload=t)}t=t.return}}function js(e,t,n){var r=Mc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bs(e)?Ws(t,n):null!==(n=Rr(e,t,n,r))&&(Lc(n,e,r),qs(n,t,r))}function zs(e,t,n){Us(e,t,n,Mc())}function Us(e,t,n,r){var o={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bs(e))Ws(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Qn(a,s))return Pr(e,t,o,0),null===rc&&Ir(),!1}catch(Df){}if(null!==(n=Rr(e,t,o,r)))return Lc(n,e,r),qs(n,t,r),!0}return!1}function Vs(e,t,n,r){if(r={lane:2,revertLane:Pu(),action:r,hasEagerState:!1,eagerState:null,next:null},Bs(e)){if(t)throw Error(s(479))}else null!==(t=Rr(e,n,r,2))&&Lc(t,e,2)}function Bs(e){var t=e.alternate;return e===wi||null!==t&&t===wi}function Ws(e,t){ki=Ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qs(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}var Hs={readContext:To,use:Bi,useCallback:Ri,useContext:Ri,useEffect:Ri,useImperativeHandle:Ri,useLayoutEffect:Ri,useInsertionEffect:Ri,useMemo:Ri,useReducer:Ri,useRef:Ri,useState:Ri,useDebugValue:Ri,useDeferredValue:Ri,useTransition:Ri,useSyncExternalStore:Ri,useId:Ri,useHostTransitionStatus:Ri,useFormState:Ri,useActionState:Ri,useOptimistic:Ri,useMemoCache:Ri,useCacheRefresh:Ri},Ks={readContext:To,use:Bi,useCallback:function(e,t){return zi().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:ys,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4194308,4,Ss.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gs(4194308,4,e,t)},useInsertionEffect:function(e,t){gs(4,2,e,t)},useMemo:function(e,t){var n=zi();t=void 0===t?null:t;var r=e();if(Ei){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=zi();if(void 0!==n){var o=n(t);if(Ei){he(!0);try{n(t)}finally{he(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=js.bind(null,wi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},zi().memoizedState=e},useState:function(e){var t=(e=es(e)).queue,n=zs.bind(null,wi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ks,useDeferredValue:function(e,t){return Ts(zi(),e,t)},useTransition:function(){var e=es(!1);return e=Ps.bind(null,wi,e.queue,!0,!1),zi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=wi,o=zi();if(io){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===rc)throw Error(s(349));0!==(124&ic)||Qi(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,ys(Xi.bind(null,r,i,e),[e]),r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},$i.bind(null,r,i,n,t),null),n},useId:function(){var e=zi(),t=rc.identifierPrefix;if(io){var n=Jr;t="\xab"+t+"R"+(n=(Xr&~(1<<32-pe(Xr)-1)).toString(32)+n),0<(n=xi++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Pi++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ms,useFormState:cs,useActionState:cs,useOptimistic:function(e){var t=zi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Vs.bind(null,wi,!0,n),n.dispatch=t,[e,t]},useMemoCache:Wi,useCacheRefresh:function(){return zi().memoizedState=Fs.bind(null,wi)}},Gs={readContext:To,use:Bi,useCallback:Es,useContext:To,useEffect:bs,useImperativeHandle:Cs,useInsertionEffect:ws,useLayoutEffect:_s,useMemo:xs,useReducer:Hi,useRef:ms,useState:function(){return Hi(qi)},useDebugValue:ks,useDeferredValue:function(e,t){return Is(Ui(),_i.memoizedState,e,t)},useTransition:function(){var e=Hi(qi)[0],t=Ui().memoizedState;return["boolean"===typeof e?e:Vi(e),t]},useSyncExternalStore:Yi,useId:Ds,useHostTransitionStatus:Ms,useFormState:us,useActionState:us,useOptimistic:function(e,t){return ts(Ui(),0,e,t)},useMemoCache:Wi,useCacheRefresh:Ls},Ys={readContext:To,use:Bi,useCallback:Es,useContext:To,useEffect:bs,useImperativeHandle:Cs,useInsertionEffect:ws,useLayoutEffect:_s,useMemo:xs,useReducer:Gi,useRef:ms,useState:function(){return Gi(qi)},useDebugValue:ks,useDeferredValue:function(e,t){var n=Ui();return null===_i?Ts(n,e,t):Is(n,_i.memoizedState,e,t)},useTransition:function(){var e=Gi(qi)[0],t=Ui().memoizedState;return["boolean"===typeof e?e:Vi(e),t]},useSyncExternalStore:Yi,useId:Ds,useHostTransitionStatus:Ms,useFormState:ps,useActionState:ps,useOptimistic:function(e,t){var n=Ui();return null!==_i?ts(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Wi,useCacheRefresh:Ls},Qs=null,$s=0;function Xs(e){var t=$s;return $s+=1,null===Qs&&(Qs=[]),Jo(Qs,e,t)}function Js(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zs(e,t){if(t.$$typeof===p)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){return(0,e._init)(e._payload)}function ta(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=jr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Br(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===x&&ea(i)===t.type)?(Js(t=o(t,n.props),n),t.return=e,t):(Js(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wr(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Vr(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Br(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Js(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Wr(t,e.mode,n)).return=e,t;case x:return h(e,t=(0,t._init)(t._payload),n)}if(O(t)||R(t))return(t=Vr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Xs(t),n);if(t.$$typeof===_)return h(e,Io(e,t),n);Zs(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===o?c(e,t,n,r):null;case m:return n.key===o?u(e,t,n,r):null;case x:return p(e,t,n=(o=n._init)(n._payload),r)}if(O(n)||R(n))return null!==o?null:d(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,Xs(n),r);if(n.$$typeof===_)return p(e,t,Io(e,n),r);Zs(e,n)}return null}function v(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case x:return v(e,t,n,r=(0,r._init)(r._payload),o)}if(O(r)||R(r))return d(t,e=e.get(n)||null,r,o,null);if("function"===typeof r.then)return v(e,t,n,Xs(r),o);if(r.$$typeof===_)return v(e,t,n,Io(t,r),o);Zs(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=o(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===x&&ea(b)===c.type){n(l,c.sibling),Js(d=o(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Vr(u.props.children,l.mode,d,u.key)).return=l,l=d):(Js(d=Ur(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return a(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=o(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Wr(u,l.mode,d)).return=l,l=d}return a(l);case x:return y(l,c,u=(b=u._init)(u._payload),d)}if(O(u))return function(o,s,a,l){for(var c=null,u=null,d=s,f=s=0,m=null;null!==d&&f<a.length;f++){d.index>f?(m=d,d=null):m=d.sibling;var g=p(o,d,a[f],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(o,d),s=i(g,s,f),null===u?c=g:u.sibling=g,u=g,d=m}if(f===a.length)return n(o,d),io&&Zr(o,f),c;if(null===d){for(;f<a.length;f++)null!==(d=h(o,a[f],l))&&(s=i(d,s,f),null===u?c=d:u.sibling=d,u=d);return io&&Zr(o,f),c}for(d=r(d);f<a.length;f++)null!==(m=v(d,o,f,a[f],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?f:m.key),s=i(m,s,f),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(o,e)}),io&&Zr(o,f),c}(l,c,u,d);if(R(u)){if("function"!==typeof(b=R(u)))throw Error(s(150));return function(o,a,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,f=a,m=a=0,g=null,y=l.next();null!==f&&!y.done;m++,y=l.next()){f.index>m?(g=f,f=null):g=f.sibling;var b=p(o,f,y.value,c);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(o,f),a=i(b,a,m),null===d?u=b:d.sibling=b,d=b,f=g}if(y.done)return n(o,f),io&&Zr(o,m),u;if(null===f){for(;!y.done;m++,y=l.next())null!==(y=h(o,y.value,c))&&(a=i(y,a,m),null===d?u=y:d.sibling=y,d=y);return io&&Zr(o,m),u}for(f=r(f);!y.done;m++,y=l.next())null!==(y=v(f,o,m,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?m:y.key),a=i(y,a,m),null===d?u=y:d.sibling=y,d=y);return e&&f.forEach(function(e){return t(o,e)}),io&&Zr(o,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,Xs(u),d);if(u.$$typeof===_)return y(l,c,Io(l,u),d);Zs(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=o(c,u)).return=l,l=d):(n(l,c),(d=Br(u,l.mode,d)).return=l,l=d),a(l)):n(l,c)}return function(e,t,n,r){try{$s=0;var o=y(e,t,n,r);return Qs=null,o}catch(hw){if(hw===Ko||hw===Yo)throw hw;var i=Lr(29,hw,null,e.mode);return i.lanes=r,i.return=e,i}}}var na=ta(!0),ra=ta(!1),oa=z(null),ia=null;function sa(e){var t=e.alternate;V(ua,1&ua.current),V(oa,e),null===ia&&(null===t||null!==fi.current||null!==t.memoizedState)&&(ia=e)}function aa(e){if(22===e.tag){if(V(ua,ua.current),V(oa,e),null===ia){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ia=e)}}else la()}function la(){V(ua,ua.current),V(oa,oa.current)}function ca(e){U(oa),ia===e&&(ia=null),U(ua)}var ua=z(0);function da(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ha(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Mc(),o=ii(r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=si(e,o,r))&&(Lc(t,e,r),ai(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Mc(),o=ii(r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=si(e,o,r))&&(Lc(t,e,r),ai(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mc(),r=ii(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=si(e,r,n))&&(Lc(t,e,n),ai(t,e,n))}};function fa(e,t,n,r,o,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,r)||!$n(o,i))}function ma(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function ga(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=h({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}var va="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function ya(e){va(e)}function ba(e){console.error(e)}function wa(e){va(e)}function _a(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Sa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ca(e,t,n){return(n=ii(n)).tag=3,n.payload={element:null},n.callback=function(){_a(e,t)},n}function ka(e){return(e=ii(e)).tag=3,e}function Ea(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){Sa(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Sa(t,n,r),"function"!==typeof o&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var xa=Error(s(461)),Ta=!1;function Ia(e,t,n,r){t.child=null===e?ra(t,null,n,r):na(t,e.child,n,r)}function Pa(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return xo(t),r=Ai(e,t,n,s,i,o),a=Li(),null===e||Ta?(io&&a&&to(t),t.flags|=1,Ia(e,t,r,o),t.child):(Fi(e,t,o),Qa(e,t,o))}function Ra(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Fr(i)||void 0!==i.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Na(e,t,i,r,o))}if(i=e.child,!$a(e,o)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(s,r)&&e.ref===t.ref)return Qa(e,t,o)}return t.flags|=1,(e=jr(i,r)).ref=t.ref,e.return=t,t.child=e}function Na(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if($n(i,r)&&e.ref===t.ref){if(Ta=!1,t.pendingProps=r=i,!$a(e,o))return t.lanes=e.lanes,Qa(e,t,o);0!==(131072&e.flags)&&(Ta=!0)}}return Da(e,t,n,r,o)}function Aa(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==i?i.baseLanes|n:n,null!==e){for(o=t.child=e.child,i=0;null!==o;)i=i|o.lanes|o.childLanes,o=o.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Oa(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Oa(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qo(0,null!==i?i.cachePool:null),null!==i?gi(t,i):vi(),aa(t)}else null!==i?(qo(0,i.cachePool),gi(t,i),la(),t.memoizedState=null):(null!==e&&qo(0,null),vi(),la());return Ia(e,t,o,n),t.child}function Oa(e,t,n,r){var o=Wo();return o=null===o?null:{parent:Oo._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&qo(0,null),vi(),aa(t),null!==e&&ko(e,t,r,!0),null}function Ma(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Da(e,t,n,r,o){return xo(t),n=Ai(e,t,n,r,void 0,o),r=Li(),null===e||Ta?(io&&r&&to(t),t.flags|=1,Ia(e,t,n,o),t.child):(Fi(e,t,o),Qa(e,t,o))}function La(e,t,n,r,o,i){return xo(t),t.updateQueue=null,n=Mi(t,r,n,o),Oi(e),r=Li(),null===e||Ta?(io&&r&&to(t),t.flags|=1,Ia(e,t,n,i),t.child):(Fi(e,t,i),Qa(e,t,i))}function Fa(e,t,n,r,o){if(xo(t),null===t.stateNode){var i=Mr,s=n.contextType;"object"===typeof s&&null!==s&&(i=To(s)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=pa,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},ri(t),s=n.contextType,i.context="object"===typeof s&&null!==s?To(s):Mr,i.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ha(t,n,s,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(s=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),s!==i.state&&pa.enqueueReplaceState(i,i.state,null),di(t,r,i,o),ui(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var a=t.memoizedProps,l=ga(n,a);i.props=l;var c=i.context,u=n.contextType;s=Mr,"object"===typeof u&&null!==u&&(s=To(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a||c!==s)&&ma(t,i,r,s),ni=!1;var h=t.memoizedState;i.state=h,di(t,r,i,o),ui(),c=t.memoizedState,a||h!==c||ni?("function"===typeof d&&(ha(t,n,d,r),c=t.memoizedState),(l=ni||fa(t,n,l,r,h,c,s))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=s,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,oi(e,t),u=ga(n,s=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Mr,"object"===typeof c&&null!==c&&(l=To(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||h!==l)&&ma(t,i,r,l),ni=!1,h=t.memoizedState,i.state=h,di(t,r,i,o),ui();var p=t.memoizedState;s!==d||h!==p||ni||null!==e&&null!==e.dependencies&&Eo(e.dependencies)?("function"===typeof a&&(ha(t,n,a,r),p=t.memoizedState),(u=ni||fa(t,n,u,r,h,p,l)||null!==e&&null!==e.dependencies&&Eo(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Ma(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=na(t,e.child,null,o),t.child=na(t,null,n,o)):Ia(e,t,n,o),t.memoizedState=i.state,e=t.child):e=Qa(e,t,o),e}function ja(e,t,n,r){return fo(),t.flags|=256,Ia(e,t,n,r),t.child}var za={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ua(e){return{baseLanes:e,cachePool:Ho()}}function Va(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Ba(e,t,n){var r,o=t.pendingProps,i=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&ua.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(io){if(i?sa(t):la(),io){var l,c=oo;if(l=c){e:{for(l=c,c=ao;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==$r?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Lr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ro=t,oo=null,l=!0):l=!1}l||co(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;ca(t)}return c=o.children,o=o.fallback,i?(la(),c=qa({mode:"hidden",children:c},i=t.mode),o=Vr(o,i,n,null),c.return=t,o.return=t,c.sibling=o,t.child=c,(i=t.child).memoizedState=Ua(n),i.childLanes=Va(e,r,n),t.memoizedState=za,o):(sa(t),Wa(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(sa(t),t.flags&=-257,t=Ha(e,t,n)):null!==t.memoizedState?(la(),t.child=e.child,t.flags|=128,t=null):(la(),i=o.fallback,c=t.mode,o=qa({mode:"visible",children:o.children},c),(i=Vr(i,c,n,null)).flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,na(t,e.child,null,n),(o=t.child).memoizedState=Ua(n),o.childLanes=Va(e,r,n),t.memoizedState=za,t=i);else if(sa(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(o=Error(s(419))).stack="",o.digest=r,go({value:o,source:null,stack:null}),t=Ha(e,t,n)}else if(Ta||ko(e,t,n,!1),r=0!==(n&e.childLanes),Ta||r){if(null!==(r=rc)&&(0!==(o=0!==((o=0!==(42&(o=n&-n))?1:Ie(o))&(r.suspendedLanes|n))?0:o)&&o!==l.retryLane))throw l.retryLane=o,Nr(e,o),Lc(r,e,o),xa;"$?"===c.data||Gc(),t=Ha(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,oo=vd(c.nextSibling),ro=t,io=!0,so=null,ao=!1,null!==e&&(Yr[Qr++]=Xr,Yr[Qr++]=Jr,Yr[Qr++]=$r,Xr=e.id,Jr=e.overflow,$r=t),(t=Wa(t,o.children)).flags|=4096);return t}return i?(la(),i=o.fallback,c=t.mode,u=(l=e.child).sibling,(o=jr(l,{mode:"hidden",children:o.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?i=jr(u,i):(i=Vr(i,c,n,null)).flags|=2,i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,null===(c=e.child.memoizedState)?c=Ua(n):(null!==(l=c.cachePool)?(u=Oo._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Ho(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=Va(e,r,n),t.memoizedState=za,o):(sa(t),e=(n=e.child).sibling,(n=jr(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Wa(e,t){return(t=qa({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qa(e,t){return(e=Lr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ha(e,t,n){return na(t,e.child,null,n),(e=Wa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ka(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),So(e.return,t,n)}function Ga(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Ya(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ia(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ka(e,n,t);else if(19===e.tag)Ka(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(V(ua,r),o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===da(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ga(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===da(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ga(t,!0,n,null,i);break;case"together":Ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ko(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=jr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $a(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Eo(e))}function Xa(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ta=!0;else{if(!$a(e,n)&&0===(128&t.flags))return Ta=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),wo(0,Oo,e.memoizedState.cache),fo();break;case 27:case 5:Y(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:wo(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(sa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ba(e,t,n):(sa(t),null!==(e=Qa(e,t,n))?e.sibling:null);sa(t);break;case 19:var o=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ko(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return Ya(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),V(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Aa(e,t,n);case 24:wo(0,Oo,e.memoizedState.cache)}return Qa(e,t,n)}(e,t,n);Ta=0!==(131072&e.flags)}else Ta=!1,io&&0!==(1048576&t.flags)&&eo(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,o=r._init;if(r=o(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((o=r.$$typeof)===S){t.tag=11,t=Pa(null,t,r,e,n);break e}if(o===E){t.tag=14,t=Ra(null,t,r,e,n);break e}}throw t=A(r)||r,Error(s(306,t,""))}Fr(r)?(e=ga(r,e),t.tag=1,t=Fa(null,t,r,e,n)):(t.tag=0,t=Da(null,t,r,e,n))}return t;case 0:return Da(e,t,t.type,t.pendingProps,n);case 1:return Fa(e,t,r=t.type,o=ga(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var i=t.memoizedState;o=i.element,oi(e,t),di(t,r,null,n);var a=t.memoizedState;if(r=a.cache,wo(0,Oo,r),r!==i.cache&&Co(t,[Oo],n,!0),ui(),r=a.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=ja(e,t,r,n);break e}if(r!==o){go(o=kr(Error(s(424)),t)),t=ja(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(oo=vd(e.firstChild),ro=t,io=!0,so=null,ao=!0,n=ra(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===o){t=Qa(e,t,n);break e}Ia(e,t,r,n)}t=t.child}return t;case 26:return Ma(e,t),null===e?(n=Id(t.type,null,t.pendingProps,null))?t.memoizedState=n:io||(n=t.type,e=t.pendingProps,(r=rd(q.current).createElement(n))[Ae]=t,r[Oe]=e,ed(r,n,e),He(r),t.stateNode=r):t.memoizedState=Id(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&io&&(r=t.stateNode=wd(t.type,t.pendingProps,q.current),ro=t,ao=!0,o=oo,pd(t.type)?(yd=o,oo=vd(r.firstChild)):oo=o),Ia(e,t,t.pendingProps.children,n),Ma(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&io&&((o=r=oo)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=vd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ao))?(t.stateNode=r,ro=t,oo=vd(r.firstChild),ao=!1,o=!0):o=!1),o||co(t)),Y(t),o=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,r=i.children,sd(o,i)?r=null:null!==a&&sd(o,a)&&(t.flags|=32),null!==t.memoizedState&&(o=Ai(e,t,Di,null,null,n),Yd._currentValue=o),Ma(e,t),Ia(e,t,r,n),t.child;case 6:return null===e&&io&&((e=n=oo)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,ao))?(t.stateNode=n,ro=t,oo=null,e=!0):e=!1),e||co(t)),null;case 13:return Ba(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=na(t,null,r,n):Ia(e,t,r,n),t.child;case 11:return Pa(e,t,t.type,t.pendingProps,n);case 7:return Ia(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ia(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,wo(0,t.type,r.value),Ia(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,xo(t),r=r(o=To(o)),t.flags|=1,Ia(e,t,r,n),t.child;case 14:return Ra(e,t,t.type,t.pendingProps,n);case 15:return Na(e,t,t.type,t.pendingProps,n);case 19:return Ya(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=qa(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=jr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Aa(e,t,n);case 24:return xo(t),r=To(Oo),null===e?(null===(o=Wo())&&(o=rc,i=Mo(),o.pooledCache=i,i.refCount++,null!==i&&(o.pooledCacheLanes|=n),o=i),t.memoizedState={parent:r,cache:o},ri(t),wo(0,Oo,o)):(0!==(e.lanes&n)&&(oi(e,t),di(t,null,null,n),ui()),o=e.memoizedState,i=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),wo(0,Oo,r)):(r=i.cache,wo(0,Oo,r),r!==o.cache&&Co(t,[Oo],n,!0))),Ia(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Ja(e){e.flags|=4}function Za(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Vd(t)){if(null!==(t=oa.current)&&((4194048&ic)===ic?null!==ia:(62914560&ic)!==ic&&0===(536870912&ic)||t!==ia))throw Zo=Qo,Go;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ce():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(no(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),_o(Oo),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(po(t)?Ja(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,mo())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Ja(t),null!==n?(nl(t),Za(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ja(t),nl(t),Za(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Ja(t),nl(t),t.flags&=-16777217),null;case 27:Q(t),n=q.current;var o=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ja(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=B.current,po(t)?uo(t):(e=wd(o,r,n),t.stateNode=e,Ja(t))}return nl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ja(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=B.current,po(t))uo(t);else{switch(o=rd(q.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?o.createElement(n,{is:r.is}):o.createElement(n)}}e[Ae]=t,e[Oe]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ja(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Ja(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=q.current,po(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=ro))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Ae]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||$u(e.nodeValue,n)))||co(t)}else(e=rd(e).createTextNode(r))[Ae]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=po(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[Ae]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),o=!1}else o=mo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(ca(t),t):(ca(t),null)}if(ca(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==o&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&Uu(t.stateNode.containerInfo),nl(t),null;case 10:return _o(t.type),nl(t),null;case 19:if(U(ua),null===(o=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(i=o.rendering))if(r)tl(o,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=da(e))){for(t.flags|=128,tl(o,!1),e=i.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return V(ua,1&ua.current|2),t.child}e=e.sibling}null!==o.tail&&te()>Sc&&(t.flags|=128,r=!0,tl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=da(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!i.alternate&&!io)return nl(t),null}else 2*te()-o.renderingStartTime>Sc&&536870912!==n&&(t.flags|=128,r=!0,tl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=o.last)?e.sibling=i:t.child=i,o.last=i)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=te(),t.sibling=null,e=ua.current,V(ua,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return ca(t),yi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Bo),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_o(Oo),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function ol(e,t){switch(no(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return _o(Oo),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(ca(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(ua),null;case 4:return G(),null;case 10:return _o(t.type),null;case 22:case 23:return ca(t),yi(),null!==e&&U(Bo),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return _o(Oo),null;default:return null}}function il(e,t){switch(no(t),t.tag){case 3:_o(Oo),G();break;case 26:case 27:case 5:Q(t);break;case 4:G();break;case 13:ca(t);break;case 19:U(ua);break;case 10:_o(t.type);break;case 22:case 23:ca(t),yi(),null!==e&&U(Bo);break;case 24:_o(Oo)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,s=n.inst;r=i(),s.destroy=r}n=n.next}while(n!==o)}}catch(Df){uu(t,t.return,Df)}}function al(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,o=t;var l=n,c=a;try{c()}catch(Df){uu(o,l,Df)}}}r=r.next}while(r!==i)}}catch(Df){uu(t,t.return,Df)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{pi(t,n)}catch(Df){uu(e,e.return,Df)}}}function cl(e,t,n){n.props=ga(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(Df){uu(e,t,Df)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(Df){uu(e,t,Df)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(Df){uu(e,t,Df)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){uu(e,t,o)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(Df){uu(e,e.return,Df)}}function pl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,i=null,a=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(f)||Ju(e,t,f,null,r,h)}}for(var p in r){var f=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":i=f;break;case"name":o=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":a=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:f!==h&&Ju(e,t,p,f,r,h)}}return void gt(e,a,l,c,u,d,i,o);case"select":for(i in f=a=l=p=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(i)||Ju(e,t,i,null,r,c)}for(o in r)if(i=r[o],c=n[o],r.hasOwnProperty(o)&&(null!=i||null!=c))switch(o){case"value":p=i;break;case"defaultValue":l=i;break;case"multiple":a=i;default:i!==c&&Ju(e,t,o,i,r,c)}return t=l,n=a,r=f,void(null!=p?bt(e,!!n,p,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,r,o)}for(a in r)if(o=r[a],i=n[a],r.hasOwnProperty(a)&&(null!=o||null!=i))switch(a){case"value":p=o;break;case"defaultValue":f=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(s(91));break;default:o!==i&&Ju(e,t,a,o,r,i)}return void wt(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Ju(e,t,m,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Ju(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&Ju(e,t,g,null,r,p);for(u in r)if(p=r[u],f=n[u],r.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:Ju(e,t,u,p,r,f)}return;default:if(xt(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!r.hasOwnProperty(v)&&Zu(e,t,v,void 0,r,p);for(d in r)p=r[d],f=n[d],!r.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||Zu(e,t,d,p,r,f);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!r.hasOwnProperty(y)&&Ju(e,t,y,null,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||null==p&&null==f||Ju(e,t,h,p,r,f)}(r,e.type,n,t),r[Oe]=t}catch(Df){uu(e,e.return,Df)}}function fl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xu));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ed(t,r,n),t[Ae]=e,t[Oe]=n}catch(Df){uu(e,e.return,Df)}}var bl=!1,wl=!1,_l=!1,Sl="function"===typeof WeakSet?WeakSet:Set,Cl=null;function kl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&r&&sl(5,n);break;case 1:if(Fl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(Df){uu(n,n.return,Df)}else{var o=ga(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){uu(n,n.return,s)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Fl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{pi(e,t)}catch(Df){uu(n,n.return,Df)}}break;case 27:null===t&&4&r&&yl(n);case 26:case 5:Fl(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&r&&Rl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=fu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||wl,o=bl;var i=wl;bl=r,(wl=t)&&!i?zl(e,n,0!==(8772&n.subtreeFlags)):Fl(e,n),bl=o,wl=i}break;case 30:break;default:Fl(e,n)}}function El(e){var t=e.alternate;null!==t&&(e.alternate=null,El(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xl=null,Tl=!1;function Il(e,t,n){for(n=n.child;null!==n;)Pl(e,t,n),n=n.sibling}function Pl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(i){}switch(n.tag){case 26:wl||dl(n,t),Il(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||dl(n,t);var r=xl,o=Tl;pd(n.type)&&(xl=n.stateNode,Tl=!1),Il(e,t,n),_d(n.stateNode),xl=r,Tl=o;break;case 5:wl||dl(n,t);case 6:if(r=xl,o=Tl,xl=null,Il(e,t,n),Tl=o,null!==(xl=r))if(Tl)try{(9===xl.nodeType?xl.body:"HTML"===xl.nodeName?xl.ownerDocument.body:xl).removeChild(n.stateNode)}catch(Df){uu(n,t,Df)}else try{xl.removeChild(n.stateNode)}catch(Df){uu(n,t,Df)}break;case 18:null!==xl&&(Tl?(fd(9===(e=xl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Th(e)):fd(xl,n.stateNode));break;case 4:r=xl,o=Tl,xl=n.stateNode.containerInfo,Tl=!0,Il(e,t,n),xl=r,Tl=o;break;case 0:case 11:case 14:case 15:wl||al(2,n,t),wl||al(4,n,t),Il(e,t,n);break;case 1:wl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Il(e,t,n);break;case 21:Il(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Il(e,t,n),wl=r;break;default:Il(e,t,n)}}function Rl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Th(e)}catch(Df){uu(t,t.return,Df)}}function Nl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Al(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],i=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){xl=l.stateNode,Tl=!1;break e}break;case 5:xl=l.stateNode,Tl=!1;break e;case 3:case 4:xl=l.stateNode.containerInfo,Tl=!0;break e}l=l.return}if(null===xl)throw Error(s(160));Pl(i,a,o),xl=null,Tl=!1,null!==(i=o.alternate)&&(i.return=null),o.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ml(t,e),t=t.sibling}var Ol=null;function Ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Al(t,e),Dl(e),4&r&&(al(3,e,e.return),sl(3,e),al(5,e,e.return));break;case 1:Al(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=Ol;if(Al(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(i=o.getElementsByTagName("title")[0])||i[ze]||i[Ae]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=o.createElement(r),o.head.insertBefore(i,o.querySelector("head > title"))),ed(i,r,n),i[Ae]=e,He(i),r=i;break e;case"link":var a=zd("link","href",o).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((i=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}ed(i=o.createElement(r),r,n),o.head.appendChild(i);break;case"meta":if(a=zd("meta","content",o).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((i=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}ed(i=o.createElement(r),r,n),o.head.appendChild(i);break;default:throw Error(s(468,r))}i[Ae]=e,He(i),r=i}e.stateNode=r}else Ud(o,e.type,e.stateNode);else e.stateNode=Md(o,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?Ud(o,e.type,e.stateNode):Md(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Al(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),null!==n&&4&r&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Al(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),32&e.flags){o=e.stateNode;try{St(o,"")}catch(Df){uu(e,e.return,Df)}}4&r&&null!=e.stateNode&&pl(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(_l=!0);break;case 6:if(Al(t,e),Dl(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(Df){uu(e,e.return,Df)}}break;case 3:if(jd=null,o=Ol,Ol=kd(t.containerInfo),Al(t,e),Ol=o,Dl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Th(t.containerInfo)}catch(Df){uu(e,e.return,Df)}_l&&(_l=!1,Ll(e));break;case 4:r=Ol,Ol=kd(e.stateNode.containerInfo),Al(t,e),Dl(e),Ol=r;break;case 12:default:Al(t,e),Dl(e);break;case 13:Al(t,e),Dl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(_c=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Nl(e,r)));break;case 22:o=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=wl;if(bl=u||o,wl=d||c,Al(t,e),wl=d,bl=u,Dl(e),8192&r)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||c||bl||wl||jl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,o)"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(Df){uu(c,c.return,Df)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(Df){uu(c,c.return,Df)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Nl(e,n))));break;case 19:Al(t,e),Dl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Nl(e,r)));case 30:case 21:}}function Dl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(fl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var o=n.stateNode;vl(e,ml(e),o);break;case 5:var i=n.stateNode;32&n.flags&&(St(i,""),n.flags&=-33),vl(e,ml(e),i);break;case 3:case 4:var a=n.stateNode.containerInfo;gl(e,ml(e),a);break;default:throw Error(s(161))}}catch(Df){uu(e,e.return,Df)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ll(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t.alternate,t),t=t.sibling}function jl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:al(4,t,t.return),jl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),jl(t);break;case 27:_d(t.stateNode);case 26:case 5:dl(t,t.return),jl(t);break;case 22:null===t.memoizedState&&jl(t);break;default:jl(t)}e=e.sibling}}function zl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,s=i.flags;switch(i.tag){case 0:case 11:case 15:zl(o,i,n),sl(4,i);break;case 1:if(zl(o,i,n),"function"===typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(Df){uu(r,r.return,Df)}if(null!==(o=(r=i).updateQueue)){var a=r.stateNode;try{var l=o.shared.hiddenCallbacks;if(null!==l)for(o.shared.hiddenCallbacks=null,o=0;o<l.length;o++)hi(l[o],a)}catch(Df){uu(r,r.return,Df)}}n&&64&s&&ll(i),ul(i,i.return);break;case 27:yl(i);case 26:case 5:zl(o,i,n),n&&null===r&&4&s&&hl(i),ul(i,i.return);break;case 12:zl(o,i,n);break;case 13:zl(o,i,n),n&&4&s&&Rl(o,i);break;case 22:null===i.memoizedState&&zl(o,i,n),ul(i,i.return);break;case 30:break;default:zl(o,i,n)}t=t.sibling}}function Ul(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Do(n))}function Vl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Do(e))}function Bl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Wl(e,t,n,r),t=t.sibling}function Wl(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Bl(e,t,n,r),2048&o&&sl(9,t);break;case 1:case 13:default:Bl(e,t,n,r);break;case 3:Bl(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Do(e)));break;case 12:if(2048&o){Bl(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,s=i.id,a=i.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(Df){uu(t,t.return,Df)}}else Bl(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,s=t.alternate,null!==t.memoizedState?2&i._visibility?Bl(e,t,n,r):Hl(e,t):2&i._visibility?Bl(e,t,n,r):(i._visibility|=2,ql(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&o&&Ul(s,t);break;case 24:Bl(e,t,n,r),2048&o&&Vl(t.alternate,t)}}function ql(e,t,n,r,o){for(o=o&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,s=t,a=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:ql(i,s,a,l,o),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?ql(i,s,a,l,o):Hl(i,s):(u._visibility|=2,ql(i,s,a,l,o)),o&&2048&c&&Ul(s.alternate,s);break;case 24:ql(i,s,a,l,o),o&&2048&c&&Vl(s.alternate,s);break;default:ql(i,s,a,l,o)}t=t.sibling}}function Hl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:Hl(n,r),2048&o&&Ul(r.alternate,r);break;case 24:Hl(n,r),2048&o&&Vl(r.alternate,r);break;default:Hl(n,r)}t=t.sibling}}var Kl=8192;function Gl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 26:Gl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Bd)throw Error(s(475));var r=Bd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var o=Pd(n.href),i=e.querySelector(Rd(o));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=qd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void He(i);i=e.ownerDocument||e,n=Nd(n),(o=Sd.get(o))&&Ld(n,o),He(i=i.createElement("link"));var a=i;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=qd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ol,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Ol;Ol=kd(e.stateNode.containerInfo),Gl(e),Ol=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Gl(e),Kl=t):Gl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function $l(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Cl=r,Zl(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:$l(e),2048&e.flags&&al(9,e,e.return);break;case 3:case 12:default:$l(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):$l(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Cl=r,Zl(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:al(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==Cl;){var n=Cl;switch(n.tag){case 0:case 11:case 15:al(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Do(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Cl=r;else e:for(n=e;null!==Cl;){var o=(r=Cl).sibling,i=r.return;if(El(r),r===n){Cl=null;break e}if(null!==o){o.return=i,Cl=o;break e}Cl=i}}}var ec={getCacheForType:function(e){var t=To(Oo),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,oc=null,ic=0,sc=0,ac=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,pc=0,fc=0,mc=0,gc=0,vc=0,yc=null,bc=null,wc=!1,_c=0,Sc=1/0,Cc=null,kc=null,Ec=0,xc=null,Tc=null,Ic=0,Pc=0,Rc=null,Nc=null,Ac=0,Oc=null;function Mc(){if(0!==(2&nc)&&0!==ic)return ic&-ic;if(null!==M.T){return 0!==jo?jo:Pu()}return Re()}function Dc(){0===gc&&(gc=0===(536870912&ic)||io?Se():536870912);var e=oa.current;return null!==e&&(e.flags|=32),gc}function Lc(e,t,n){(e!==rc||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(Wc(e,0),Uc(e,ic,gc,!1)),Ee(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(fc|=n),4===hc&&Uc(e,ic,gc,!1)),Su(e))}function Fc(e,t,n){if(0!==(6&nc))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),o=r?function(e,t){var n=nc;nc|=2;var r=Hc(),o=Kc();rc!==e||ic!==t?(Cc=null,Sc=te()+500,Wc(e,t)):cc=we(e,t);e:for(;;)try{if(0!==sc&&null!==oc){t=oc;var i=ac;t:switch(sc){case 1:sc=0,ac=null,Zc(e,t,i,1);break;case 2:case 9:if($o(i)){sc=0,ac=null,Jc(t);break}t=function(){2!==sc&&9!==sc||rc!==e||(sc=7),Su(e)},i.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:$o(i)?(sc=0,ac=null,Jc(t)):(sc=0,ac=null,Zc(e,t,i,7));break;case 5:var a=null;switch(oc.tag){case 26:a=oc.memoizedState;case 5:case 27:var l=oc;if(!a||Vd(a)){sc=0,ac=null;var c=l.sibling;if(null!==c)oc=c;else{var u=l.return;null!==u?(oc=u,eu(u)):oc=null}break t}}sc=0,ac=null,Zc(e,t,i,5);break;case 6:sc=0,ac=null,Zc(e,t,i,6);break;case 8:Bc(),hc=6;break e;default:throw Error(s(462))}}$c();break}catch(d){qc(e,d)}return bo=yo=null,M.H=r,M.A=o,nc=n,null!==oc?0:(rc=null,ic=0,Ir(),hc)}(e,t):Yc(e,t,!0),i=r;;){if(0===o){cc&&!r&&Uc(e,t,0,!1);break}if(n=e.current.alternate,!i||zc(n)){if(2===o){if(i=t,e.errorRecoveryDisabledLanes&i)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;o=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(Wc(l,a).flags|=256),2!==(a=Yc(l,a,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=i,fc|=i,o=4;break e}i=bc,bc=o,null!==i&&(null===bc?bc=i:bc.push.apply(bc,i))}o=a}if(i=!1,2!==o)continue}}if(1===o){Wc(e,0),Uc(e,t,0,!0);break}e:{switch(r=e,i=o){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Uc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(o=_c+300-te())){if(Uc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(jc.bind(null,r,n,bc,Cc,wc,t,gc,fc,vc,lc,i,2,-0,0),o)}else jc(r,n,bc,Cc,wc,t,gc,fc,vc,lc,i,0,-0,0)}break}o=Yc(e,t,!1),i=!1}Su(e)}function jc(e,t,n,r,o,i,a,l,c,u,d,h,p,f){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Bd={stylesheets:null,count:0,unsuspend:Wd},Yl(t),null!==(h=function(){if(null===Bd)throw Error(s(475));var e=Bd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,i,n,r,o,a,l,c,d,1,p,f)),void Uc(e,i,a,!u);nu(e,t,i,n,r,o,a,l,c)}function zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Qn(i(),o))return!1}catch(Df){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,n,r){t&=~mc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-pe(o),s=1<<i;r[i]=-1,o&=~s}0!==n&&xe(e,n,t)}function Vc(){return 0!==(6&nc)||(Cu(0,!1),!1)}function Bc(){if(null!==oc){if(0===sc)var e=oc.return;else bo=yo=null,ji(e=oc),Qs=null,$s=0,e=oc;for(;null!==e;)il(e.alternate,e),e=e.return;oc=null}}function Wc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc(),rc=e,oc=n=jr(e.current,null),ic=t,sc=0,ac=null,lc=!1,cc=we(e,t),uc=!1,vc=gc=mc=fc=pc=hc=0,bc=yc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-pe(r),i=1<<o;t|=e[o],r&=~i}return dc=t,Ir(),n}function qc(e,t){wi=null,M.H=Hs,t===Ko||t===Yo?(t=ei(),sc=3):t===Go?(t=ei(),sc=4):sc=t===xa?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ac=t,null===oc&&(hc=1,_a(e,kr(t,e.current)))}function Hc(){var e=M.H;return M.H=Hs,null===e?Hs:e}function Kc(){var e=M.A;return M.A=ec,e}function Gc(){hc=4,lc||(4194048&ic)!==ic&&null!==oa.current||(cc=!0),0===(134217727&pc)&&0===(134217727&fc)||null===rc||Uc(rc,ic,gc,!1)}function Yc(e,t,n){var r=nc;nc|=2;var o=Hc(),i=Kc();rc===e&&ic===t||(Cc=null,Wc(e,t)),t=!1;var s=hc;e:for(;;)try{if(0!==sc&&null!==oc){var a=oc,l=ac;switch(sc){case 8:Bc(),s=6;break e;case 3:case 2:case 9:case 6:null===oa.current&&(t=!0);var c=sc;if(sc=0,ac=null,Zc(e,a,l,c),n&&cc){s=0;break e}break;default:c=sc,sc=0,ac=null,Zc(e,a,l,c)}}Qc(),s=hc;break}catch(u){qc(e,u)}return t&&e.shellSuspendCounter++,bo=yo=null,nc=r,M.H=o,M.A=i,null===oc&&(rc=null,ic=0,Ir()),s}function Qc(){for(;null!==oc;)Xc(oc)}function $c(){for(;null!==oc&&!Z();)Xc(oc)}function Xc(e){var t=Xa(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):oc=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=La(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=La(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:ji(t);default:il(n,t),t=Xa(n,t=oc=zr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):oc=t}function Zc(e,t,n,r){bo=yo=null,ji(t),Qs=null,$s=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ko(t,n,o,!0),null!==(n=oa.current)){switch(n.tag){case 13:return null===ia?Gc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===Qo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,o)),!1;case 22:return n.flags|=65536,r===Qo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,o)),!1}throw Error(s(435,n.tag))}return du(e,r,o),Gc(),!1}if(io)return null!==(t=oa.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==lo&&go(kr(e=Error(s(422),{cause:r}),n))):(r!==lo&&go(kr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=kr(r,n),li(e,o=Ca(e.stateNode,r,o)),4!==hc&&(hc=2)),!1;var i=Error(s(520),{cause:r});if(i=kr(i,n),null===yc?yc=[i]:yc.push(i),4!==hc&&(hc=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,li(n,e=Ca(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===kc||!kc.has(i))))return n.flags|=65536,o&=-o,n.lanes|=o,Ea(o=ka(o),e,n,r),li(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,ic))return hc=1,_a(e,kr(n,e.current)),void(oc=null)}catch(Df){if(null!==o)throw oc=o,Df;return hc=1,_a(e,kr(n,e.current)),void(oc=null)}32768&t.flags?(io||1===r?e=!0:cc||0!==(536870912&ic)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=oa.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(oc=n);if(null!==(t=t.sibling))return void(oc=t);oc=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=ol(e.alternate,e);if(null!==n)return n.flags&=32767,void(oc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(oc=e);oc=e=n}while(null!==e);hc=6,oc=null}function nu(e,t,n,r,o,i,a,l,c){e.cancelPendingCommit=null;do{au()}while(0!==Ec);if(0!==(6&nc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,o,i){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-pe(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&xe(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(s&~t))}(e,n,i|=Tr,a,l,c),e===rc&&(oc=rc=null,ic=0),Tc=t,xc=e,Ic=n,Pc=i,Rc=o,Nc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(ie,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=M.T,M.T=null,o=D.p,D.p=2,a=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==o&&3!==h.nodeType||(l=a+o),h!==i||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===o&&(l=a),p===i&&++d===r&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,Cl=t;null!==Cl;)if(e=(t=Cl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Cl=e;else for(;null!==Cl;){switch(i=(t=Cl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,o=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=ga(n.type,o,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(Df){uu(n,n.return,Df)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Cl=e;break}Cl=t.return}}(e,t)}finally{nc=a,D.p=o,M.T=r}}Ec=1,ru(),ou(),iu()}}function ru(){if(1===Ec){Ec=0;var e=xc,t=Tc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=M.T,M.T=null;var r=D.p;D.p=2;var o=nc;nc|=4;try{Ml(t,e);var i=nd,s=er(e.containerInfo),a=i.focusedElem,l=i.selectionRange;if(s!==a&&a&&a.ownerDocument&&Zn(a.ownerDocument.documentElement,a)){if(null!==l&&tr(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=a.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>g&&(s=g,g=m,m=s);var v=Jn(a,m),y=Jn(a,g);if(v&&y&&(1!==p.rangeCount||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),p.removeAllRanges(),m>g?(p.addRange(b),p.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),p.addRange(b))}}}}for(d=[],p=a;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<d.length;a++){var w=d[a];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}nh=!!td,nd=td=null}finally{nc=o,D.p=r,M.T=n}}e.current=t,Ec=2}}function ou(){if(2===Ec){Ec=0;var e=xc,t=Tc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=M.T,M.T=null;var r=D.p;D.p=2;var o=nc;nc|=4;try{kl(e,t.alternate,t)}finally{nc=o,D.p=r,M.T=n}}Ec=3}}function iu(){if(4===Ec||3===Ec){Ec=0,ee();var e=xc,t=Tc,n=Ic,r=Nc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ec=5:(Ec=0,Tc=xc=null,su(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(kc=null),Pe(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=M.T,o=D.p,D.p=2,M.T=null;try{for(var i=e.onRecoverableError,s=0;s<r.length;s++){var a=r[s];i(a.value,{componentStack:a.stack})}}finally{M.T=t,D.p=o}}0!==(3&Ic)&&au(),Su(e),o=e.pendingLanes,0!==(4194090&n)&&0!==(42&o)?e===Oc?Ac++:(Ac=0,Oc=e):Ac=0,Cu(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Do(t)))}function au(e){return ru(),ou(),iu(),lu()}function lu(){if(5!==Ec)return!1;var e=xc,t=Pc;Pc=0;var n=Pe(Ic),r=M.T,o=D.p;try{D.p=32>n?32:n,M.T=null,n=Rc,Rc=null;var i=xc,a=Ic;if(Ec=0,Tc=xc=null,Ic=0,0!==(6&nc))throw Error(s(331));var l=nc;if(nc|=4,Xl(i.current),Wl(i,i.current,a,n),nc=l,Cu(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,i)}catch(c){}return!0}finally{D.p=o,M.T=r,su(e,t)}}function cu(e,t,n){t=kr(n,t),null!==(e=si(e,t=Ca(e.stateNode,t,2),2))&&(Ee(e,2),Su(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=kr(n,e),null!==(r=si(t,n=ka(2),2))&&(Ea(n,r,t,e),Ee(r,2),Su(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(uc=!0,o.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ic&n)===n&&(4===hc||3===hc&&(62914560&ic)===ic&&300>te()-_c?0===(2&nc)&&Wc(e,0):mc|=n,vc===ic&&(vc=0)),Su(e)}function pu(e,t){0===t&&(t=Ce()),null!==(e=Nr(e,t))&&(Ee(e,t),Su(e))}function fu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),pu(e,n)}var gu=null,vu=null,yu=!1,bu=!1,wu=!1,_u=0;function Su(e){e!==vu&&null===e.next&&(null===vu?gu=vu=e:vu=vu.next=e),bu=!0,yu||(yu=!0,dd(function(){0!==(6&nc)?X(re,ku):Eu()}))}function Cu(e,t){if(!wu&&bu){wu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var s=r.suspendedLanes,a=r.pingedLanes;i=(1<<31-pe(42|e)+1)-1,i=201326741&(i&=o&~(s&~a))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Iu(r,i))}else i=ic,0===(3&(i=be(r,r===rc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,i)||(n=!0,Iu(r,i));r=r.next}}while(n);wu=!1}}function ku(){Eu()}function Eu(){bu=yu=!1;var e=0;0!==_u&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ad&&(ad=e,!0);return ad=null,!1}()&&(e=_u),_u=0);for(var t=te(),n=null,r=gu;null!==r;){var o=r.next,i=xu(r,t);0===i?(r.next=null,null===n?gu=o:n.next=o,null===o&&(vu=n)):(n=r,(0!==e||0!==(3&i))&&(bu=!0)),r=o}Cu(e,!1)}function xu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var s=31-pe(i),a=1<<s,l=o[s];-1===l?0!==(a&n)&&0===(a&r)||(o[s]=_e(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}if(n=ic,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Pe(n)){case 2:case 8:n=oe;break;case 32:default:n=ie;break;case 268435456:n=ae}return r=Tu.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Tu(e,t){if(0!==Ec&&5!==Ec)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(au()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,r,t),xu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Tu.bind(null,e):null)}function Iu(e,t){if(au())return null;Fc(e,t,!0)}function Pu(){return 0===_u&&(_u=Se()),_u}function Ru(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Nu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Au=0;Au<_r.length;Au++){var Ou=_r[Au];Sr(Ou.toLowerCase(),"on"+(Ou[0].toUpperCase()+Ou.slice(1)))}Sr(pr,"onAnimationEnd"),Sr(fr,"onAnimationIteration"),Sr(mr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(gr,"onTransitionRun"),Sr(vr,"onTransitionStart"),Sr(yr,"onTransitionCancel"),Sr(br,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Du=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function Lu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;i=a,o.currentTarget=c;try{i(o)}catch(Df){va(Df)}o.currentTarget=null,i=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;i=a,o.currentTarget=c;try{i(o)}catch(Df){va(Df)}o.currentTarget=null,i=l}}}}function Fu(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||(Vu(t,e,2,!1),n.add(r))}function ju(e,t,n){var r=0;t&&(r|=4),Vu(n,e,r,t)}var zu="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[zu]){e[zu]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Du.has(t)||ju(t,!1,e),ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zu]||(t[zu]=!0,ju("selectionchange",!1,t))}}function Vu(e,t,n,r){switch(ch(t)){case 2:var o=rh;break;case 8:o=oh;break;default:o=ih}n=o.bind(null,t,n,e),o=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Bu(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===o)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===o)return;s=s.return}for(;null!==a;){if(null===(s=Ve(a)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=i=s;continue e}a=a.parentNode}}r=r.return}Lt(function(){var r=i,o=Nt(n),s=[];e:{var a=wr.get(e);if(void 0!==a){var c=Zt,u=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case pr:case fr:case mr:c=an;break;case br:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=wn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==a?a+"Capture":null:a;d=[];for(var f,m=r;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=Ft(m,p))&&d.push(Wu(m,g,f)),h)break;m=m.return}0<d.length&&(a=new c(a,u,null,n,o),s.push({event:a,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Rt||!(u=n.relatedTarget||n.fromElement)||!Ve(u)&&!u[Me])&&(c||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ve(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",p="onPointerEnter",m="pointer"),h=null==c?a:We(c),f=null==u?a:We(u),(a=new d(g,m+"leave",c,n,o)).target=h,a.relatedTarget=f,g=null,Ve(o)===r&&((d=new d(p,m+"enter",u,n,o)).target=f,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(p=u,m=0,f=d=c;f;f=Hu(f))m++;for(f=0,g=p;g;g=Hu(g))f++;for(;0<m-f;)d=Hu(d),m--;for(;0<f-m;)p=Hu(p),f--;for(;m--;){if(d===p||null!==p&&d===p.alternate)break e;d=Hu(d),p=Hu(p)}d=null}else d=null;null!==c&&Ku(s,a,c,d,!1),null!==u&&null!==h&&Ku(s,h,u,d,!0)}if("select"===(c=(a=r?We(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var v=jn;else if(An(a))if(zn)v=Yn;else{v=Kn;var y=Hn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&xt(r.elementType)&&(v=jn):v=Gn;switch(v&&(v=v(e,r))?On(s,v,n,o):(y&&y(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&yt(a,"number",a.value)),y=r?We(r):window,e){case"focusin":(An(y)||"true"===y.contentEditable)&&(rr=y,or=r,ir=null);break;case"focusout":ir=or=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,ar(s,n,o);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ar(s,n,o)}var b;if(Sn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Rn?In(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(En&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Rn&&(b=qt()):(Bt="value"in(Vt=o)?Vt.value:Vt.textContent,Rn=!0)),0<(y=qu(r,w)).length&&(w=new cn(w,e,null,n,o),s.push({event:w,listeners:y}),b?w.data=b:null!==(b=Pn(n))&&(w.data=b))),(b=kn?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(Tn=!0,xn);case"textInput":return(e=t.data)===xn&&Tn?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!Sn&&In(e,t)?(e=qt(),Wt=Bt=Vt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=qu(r,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,o),s.push({event:y,listeners:w}),y.data=b)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=Ru((o[Oe]||null).action),s=r.submitter;s&&null!==(t=(t=s[Oe]||null)?Ru(t.formAction):s.getAttribute("formAction"))&&(i=t,s=null);var a=new Zt("action","action",null,r,o);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==_u){var e=s?Nu(o,s):new FormData(o);Ns(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"===typeof i&&(a.preventDefault(),e=s?Nu(o,s):new FormData(o),Ns(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(s,e,r,n,o)}Lu(s,t)})}function Wu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=Ft(e,n))&&r.unshift(Wu(e,o,i)),null!=(o=Ft(e,t))&&r.push(Wu(e,o,i))),3===e.tag)return r;e=e.return}return[]}function Hu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,r,o){for(var i=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,o?null!=(c=Ft(n,i))&&s.unshift(Wu(n,c,l)):o||null!=(c=Ft(n,i))&&s.push(Wu(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gu=/\r\n?/g,Yu=/\u0000|\uFFFD/g;function Qu(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Yu,"")}function $u(e,t){return t=Qu(t),Qu(e)===t}function Xu(){}function Ju(e,t,n,r,o,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Et(e,r,i);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Ju(e,t,"name",o.name,o,null),Ju(e,t,"formEncType",o.formEncType,o,null),Ju(e,t,"formMethod",o.formMethod,o,null),Ju(e,t,"formTarget",o.formTarget,o,null)):(Ju(e,t,"encType",o.encType,o,null),Ju(e,t,"method",o.method,o,null),Ju(e,t,"target",o.target,o,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Tt.get(n)||n,r)}}function Zu(e,t,n,r,o,i){switch(n){case"style":Et(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Oe]||null)?i[n]:null)&&e.removeEventListener(t,i,o),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var r,o=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":o=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ju(e,t,r,a,n,null)}}return i&&Ju(e,t,"srcSet",n.srcSet,n,null),void(o&&Ju(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=r=a=i=null,c=null,u=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":i=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Ju(e,t,o,d,n,null)}}return vt(e,r,l,c,u,a,i,!1),void dt(e);case"select":for(i in Fu("invalid",e),o=a=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":o=l;default:Ju(e,t,i,l,n,null)}return t=r,n=a,e.multiple=!!o,void(null!=t?bt(e,!!o,t,!1):null!=n&&bt(e,!!o,n,!0));case"textarea":for(a in Fu("invalid",e),r=i=o=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":o=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Ju(e,t,a,l,n,null)}return _t(e,o,i,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))if("selected"===c)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else Ju(e,t,c,o,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(o=0;o<Mu.length;o++)Fu(Mu[o],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ju(e,t,u,o,n,null)}return;default:if(xt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&Zu(e,t,d,o,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(o=n[l])&&Ju(e,t,l,o,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function od(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ad=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function fd(e,t){var n=t,r=0,o=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&_d(s.documentElement),2&n&&_d(s.body),4&n)for(_d(n=s.head),s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}if(0===o)return e.removeChild(i),void Th(t);o--}else"$"===n||"$?"===n||"$!"===n?o++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Th(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function _d(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var Sd=new Map,Cd=new Set;function kd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ed=D.d;D.d={f:function(){var e=Ed.f(),t=Vc();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Os(t):Ed.r(e)},D:function(e){Ed.D(e),Td("dns-prefetch",e,null)},C:function(e,t){Ed.C(e,t),Td("preconnect",e,t)},L:function(e,t,n){Ed.L(e,t,n);var r=xd;if(r&&e&&t){var o='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+mt(n.imageSizes)+'"]')):o+='[href="'+mt(e)+'"]';var i=o;switch(t){case"style":i=Pd(e);break;case"script":i=Ad(e)}Sd.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Sd.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Rd(i))||"script"===t&&r.querySelector(Od(i))||(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){Ed.m(e,t);var n=xd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ad(e)}if(!Sd.has(i)&&(e=h({rel:"modulepreload",href:e},t),Sd.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Od(i)))return}ed(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){Ed.X(e,t);var n=xd;if(n&&e){var r=qe(n).hoistableScripts,o=Ad(e),i=r.get(o);i||((i=n.querySelector(Od(o)))||(e=h({src:e,async:!0},t),(t=Sd.get(o))&&Fd(e,t),He(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){Ed.S(e,t,n);var r=xd;if(r&&e){var o=qe(r).hoistableStyles,i=Pd(e);t=t||"default";var s=o.get(i);if(!s){var a={loading:0,preload:null};if(s=r.querySelector(Rd(i)))a.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sd.get(i))&&Ld(e,n);var l=s=r.createElement("link");He(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Dd(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},o.set(i,s)}}},M:function(e,t){Ed.M(e,t);var n=xd;if(n&&e){var r=qe(n).hoistableScripts,o=Ad(e),i=r.get(o);i||((i=n.querySelector(Od(o)))||(e=h({src:e,async:!0,type:"module"},t),(t=Sd.get(o))&&Fd(e,t),He(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var xd="undefined"===typeof document?null:document;function Td(e,t,n){var r=xd;if(r&&"string"===typeof t&&t){var o=mt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),Cd.has(o)||(Cd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function Id(e,t,n,r){var o=(o=q.current)?kd(o):null;if(!o)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Pd(n.href),(r=(n=qe(o).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Pd(n.href);var i=qe(o).hoistableStyles,a=i.get(e);if(a||(o=o.ownerDocument||o,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,a),(i=o.querySelector(Rd(e)))&&!i._p&&(a.instance=i,a.state.loading=5),Sd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sd.set(e,n),i||function(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),ed(t,"link",n),He(t),e.head.appendChild(t))}(o,e,n,a.state))),t&&null===r)throw Error(s(528,""));return a}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Ad(n),(r=(n=qe(o).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Pd(e){return'href="'+mt(e)+'"'}function Rd(e){return'link[rel="stylesheet"]['+e+"]"}function Nd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Ad(e){return'[src="'+mt(e)+'"]'}function Od(e){return"script[async]"+e}function Md(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,He(r),r;var o=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",o),Dd(r,n.precedence,e),t.instance=r;case"stylesheet":o=Pd(n.href);var i=e.querySelector(Rd(o));if(i)return t.state.loading|=4,t.instance=i,He(i),i;r=Nd(n),(o=Sd.get(o))&&Ld(r,o),He(i=(e.ownerDocument||e).createElement("link"));var a=i;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(i,"link",r),t.state.loading|=4,Dd(i,n.precedence,e),t.instance=i;case"script":return i=Ad(n.src),(o=e.querySelector(Od(i)))?(t.instance=o,He(o),o):(r=n,(o=Sd.get(i))&&Fd(r=h({},n),o),He(o=(e=e.ownerDocument||e).createElement("script")),ed(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Dd(r,n.precedence,e));return t.instance}function Dd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)i=a;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var jd=null;function zd(e,t,n){if(null===jd){var r=new Map,o=jd=new Map;o.set(n,r)}else(r=(o=jd).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[ze]||i[Ae]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var s=i.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(i):r.set(s,[i])}}return r}function Ud(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Vd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Bd=null;function Wd(){}function qd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hd=new Map,t.forEach(Gd,e),Hd=null,qd.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Hd.get(e);if(n)var r=n.get(null);else{n=new Map,Hd.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var s=o[i];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(o=t.instance).getAttribute("data-precedence"),(i=n.get(s)||r)===r&&n.set(null,o),n.set(s,o),this.count++,r=qd.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var Yd={$$typeof:_,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Qd(e,t,n,r,o,i,s,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function $d(e,t,n,r,o,i,s,a,l,c,u,d){return e=new Qd(e,t,n,s,a,l,c,d),t=1,!0===i&&(t|=24),i=Lr(3,null,null,t),e.current=i,i.stateNode=e,(t=Mo()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},ri(i),e}function Xd(e){return e?e=Mr:Mr}function Jd(e,t,n,r,o,i){o=Xd(o),null===r.context?r.context=o:r.pendingContext=o,(r=ii(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=si(e,r,t))&&(Lc(n,0,t),ai(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=Nr(e,67108864);null!==t&&Lc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var o=M.T;M.T=null;var i=D.p;try{D.p=2,ih(e,t,n,r)}finally{D.p=i,M.T=o}}function oh(e,t,n,r){var o=M.T;M.T=null;var i=D.p;try{D.p=8,ih(e,t,n,r)}finally{D.p=i,M.T=o}}function ih(e,t,n,r){if(nh){var o=sh(r);if(null===o)Bu(e,t,r,ah,n),yh(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,o),!0;case"dragenter":return hh=bh(hh,e,t,n,r,o),!0;case"mouseover":return ph=bh(ph,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return fh.set(i,bh(fh.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,mh.set(i,bh(mh.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(yh(e,r),4&t&&-1<vh.indexOf(e)){for(;null!==o;){var i=Be(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var s=ye(i.pendingLanes);if(0!==s){var a=i;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-pe(s);a.entanglements[1]|=l,s&=~l}Su(i),0===(6&nc)&&(Sc=te()+500,Cu(0,!1))}}break;case 13:null!==(a=Nr(i,2))&&Lc(a,0,2),Vc(),eh(i,2)}if(null===(i=sh(r))&&Bu(e,t,r,ah,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Bu(e,t,r,null,n)}}function sh(e){return lh(e=Nt(e))}var ah=null;function lh(e){if(ah=null,null!==(e=Ve(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ah=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case oe:return 8;case ie:case se:return 32;case ae:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,ph=null,fh=new Map,mh=new Map,gh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":fh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function bh(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=Be(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function wh(e){var t=Ve(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,function(){if(13===n.tag){var e=Mc();e=Ie(e);var t=Nr(n,e);null!==t&&Lc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function _h(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function Sh(e,t,n){_h(e)&&n.delete(t)}function Ch(){uh=!1,null!==dh&&_h(dh)&&(dh=null),null!==hh&&_h(hh)&&(hh=null),null!==ph&&_h(ph)&&(ph=null),fh.forEach(Sh),mh.forEach(Sh)}function kh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ch)))}var Eh=null;function xh(e){Eh!==e&&(Eh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Eh===e&&(Eh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var i=Be(n);null!==i&&(e.splice(t,3),t-=3,Ns(i,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function Th(e){function t(t){return kh(t,e)}null!==dh&&kh(dh,e),null!==hh&&kh(hh,e),null!==ph&&kh(ph,e),fh.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)wh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],s=o[Oe]||null;if("function"===typeof i)s||xh(n);else if(s){var a=null;if(i&&i.hasAttribute("formAction")){if(o=i,s=i[Oe]||null)a=s.formAction;else if(null!==lh(o))continue}else a=s.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),xh(n)}}}function Ih(e){this._internalRoot=e}function Ph(e){this._internalRoot=e}Ph.prototype.render=Ih.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Jd(t.current,Mc(),e,t,null,null)},Ph.prototype.unmount=Ih.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),Vc(),t[Me]=null}},Ph.prototype.unstable_scheduleHydration=function(e){if(e){var t=Re();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&wh(e)}};var Rh=o.version;if("19.1.1"!==Rh)throw Error(s(527,Rh,"19.1.1"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return u(o),e;if(i===r)return u(o),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a){for(c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Nh={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{ue=Ah.inject(Nh),de=Ah}catch(Mh){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",o=ya,i=ba,l=wa;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=$d(e,1,!1,null,0,n,r,o,i,l,0,null),e[Me]=t.current,Uu(e),new Ih(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var r=!1,o="",i=ya,l=ba,c=wa,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=$d(e,1,!0,t,0,r,o,i,l,c,0,u)).context=Xd(null),n=t.current,(o=ii(r=Ie(r=Mc()))).callback=null,si(n,o,r),n=r,t.current.lanes=n,Ee(t,n),Su(t),e[Me]=t.current,Uu(e),new Ph(t)},t.version="19.1.1"},43:(e,t,n)=>{e.exports=n(288)},191:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler");Symbol.for("react.provider");var a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case s:case i:case u:case d:case f:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case h:case a:return e;default:return t}}case r:return t}}}t.Hy=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===s||e===i||e===u||e===d||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===l||e.$$typeof===a||e.$$typeof===c||e.$$typeof===m||void 0!==e.getModuleId)}},219:(e,t,n)=>{var r=n(763),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||o}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var o=p(n);o&&o!==f&&e(t,o,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!i[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},C=Object.prototype.hasOwnProperty;function k(e,t,r,o,i,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(){}function P(e,t,o,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return P((u=e._init)(e._payload),t,o,i,s)}}if(u)return s=s(e),u=""===i?"."+T(e,0):i,_(s)?(o="",null!=u&&(o=u.replace(x,"$&/")+"/"),P(s,t,o,"",function(e){return e})):null!=s&&(E(s)&&(l=s,c=o+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(x,"$&/")+"/")+u,s=k(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,f=""===i?".":i+":";if(_(e))for(var m=0;m<e.length;m++)u+=P(i=e[m],t,o,a=f+T(i,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)u+=P(i=i.value,t,o,a=f+T(i,m++),s);else if("object"===a){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(I,I):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function R(e,t,n){if(null==e)return e;var r=[],o=0;return P(e,r,"","",function(e){return t.call(n,e,o++)}),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function O(){}t.Children={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),o=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(o=""+t.key),t)!C.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var s=Array(i),a=0;a<i;a++)s[a]=arguments[a+2];r.children=s}return k(e.type,o,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)C.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];o.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return k(e,i,void 0,0,0,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),o=S.S;null!==o&&o(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(O,A)}catch(Df){A(Df)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=S.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.1"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(o(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:i}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},763:(e,t,n)=>{e.exports=n(983)},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=o,t.jsxs=o},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(g=!1,_(e),!m)if(null!==r(c))m=!0,k||(k=!0,C());else{var t=r(u);null!==t&&A(S,t.startTime-e)}}var C,k=!1,E=-1,x=5,T=-1;function I(){return!!v||!(t.unstable_now()-T<x)}function P(){if(v=!1,k){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(E),E=-1),f=!0;var i=p;try{t:{for(_(e),h=r(c);null!==h&&!(h.expirationTime>e&&I());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,_(e),n=!0;break t}h===r(c)&&o(c),_(e)}else o(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&A(S,l.startTime-e),n=!1}}break e}finally{h=null,p=i,f=!1}n=void 0}}finally{n?C():k=!1}}}if("function"===typeof w)C=function(){w(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,N=R.port2;R.port1.onmessage=P,C=function(){N.postMessage(null)}}else C=function(){y(P,0)};function A(e,n){E=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(b(E),E=-1):g=!0,A(S,i-s))):(e.sortIndex=a,n(c,e),m||f||(m=!0,k||(k=!0,C()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},983:(e,t)=>{var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case o:return t}}}function S(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||_(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===i},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===o},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===a||e===s||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r=n(43),o=n.t(r,2),i=n(391);function s(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function a(e,t){if(null==e)return{};var n,r,o=s(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}function u(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const p=["sri"],f=["page"],m=["page","matches"],g=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],v=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],y=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var b="popstate";function w(){return T(function(e,t){let{pathname:n="/",search:r="",hash:o=""}=x(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),k("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:E(t))},function(e,t){S("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push(".concat(JSON.stringify(t),")"))},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function _(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function S(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function C(e,t){return{usr:e.state,key:e.key,idx:t}}function k(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return h(h({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?x(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function E(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function x(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function T(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a="POP",l=null,c=u();function u(){return(s.state||{idx:null}).idx}function d(){a="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:f.location,delta:t})}function p(e){return I(e)}null==c&&(c=0,s.replaceState(h(h({},s.state),{},{idx:c}),""));let f={get action(){return a},get location(){return e(o,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(b,d),l=e,()=>{o.removeEventListener(b,d),l=null}},createHref:e=>t(o,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a="PUSH";let r=k(f.location,e,t);n&&n(r,e),c=u()+1;let d=C(r,c),h=f.createHref(r);try{s.pushState(d,"",h)}catch(Df){if(Df instanceof DOMException&&"DataCloneError"===Df.name)throw Df;o.location.assign(h)}i&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a="REPLACE";let r=k(f.location,e,t);n&&n(r,e),c=u();let o=C(r,c),d=f.createHref(r);s.replaceState(o,"",d),i&&l&&l({action:a,location:f.location,delta:0})},go:e=>s.go(e)};return f}function I(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),_(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:E(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function P(e,t){return R(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function R(e,t,n,r){let o=H(("string"===typeof t?x(t):t).pathname||"/",n);if(null==o)return null;let i=N(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a){let e=q(o);s=V(i[a],e,r)}return s}function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=function(e,i){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,a=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&s)return;_(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=$([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(_(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),N(e.children,t,u,c,s)),(null!=e.path||e.index)&&t.push({path:c,score:U(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of A(e.path))i(e,t,!0,r);else i(e,t)}),t}function A(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let s=A(r.join("/")),a=[];return a.push(...s.map(e=>""===e?i:[i,e].join("/"))),o&&a.push(...s),a.map(t=>e.startsWith("/")&&""===t?"/":t)}var O=/^:[\w-]+$/,M=3,D=2,L=1,F=10,j=-2,z=e=>"*"===e;function U(e,t){let n=e.split("/"),r=n.length;return n.some(z)&&(r+=j),t&&(r+=D),n.filter(e=>!z(e)).reduce((e,t)=>e+(O.test(t)?M:""===t?L:F),r)}function V(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,o={},i="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(o,u.params),s.push({params:o,pathname:$([i,u.pathname]),pathnameBase:X($([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=$([i,u.pathnameBase]))}return s}function B(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=W(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=a[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:s,pattern:e}}function W(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];S("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function q(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(Df){return S(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(Df,").")),e}}function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function K(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function G(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function Y(e){let t=G(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Q(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=x(e):(r=h({},e),_(!r.pathname||!r.pathname.includes("?"),K("?","pathname","search",r)),_(!r.pathname||!r.pathname.includes("#"),K("#","pathname","hash",r)),_(!r.search||!r.search.includes("#"),K("#","search","hash",r)));let i,s=""===e||""===r.pathname,a=s?"/":r.pathname;if(null==a)i=n;else{let e=t.length-1;if(!o&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:o=""}="string"===typeof e?x(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:J(r),hash:Z(o)}}(r,i),c=a&&"/"!==a&&a.endsWith("/"),u=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var $=e=>e.join("/").replace(/\/\/+/g,"/"),X=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),J=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function ee(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var te=["POST","PUT","PATCH","DELETE"],ne=(new Set(te),["GET",...te]);new Set(ne),Symbol("ResetLoaderData");var re=r.createContext(null);re.displayName="DataRouter";var oe=r.createContext(null);oe.displayName="DataRouterState";var ie=r.createContext(!1);var se=r.createContext({isTransitioning:!1});se.displayName="ViewTransition";var ae=r.createContext(new Map);ae.displayName="Fetchers";var le=r.createContext(null);le.displayName="Await";var ce=r.createContext(null);ce.displayName="Navigation";var ue=r.createContext(null);ue.displayName="Location";var de=r.createContext({outlet:null,matches:[],isDataRoute:!1});de.displayName="Route";var he=r.createContext(null);he.displayName="RouteError";function pe(){return null!=r.useContext(ue)}function fe(){return _(pe(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(ue).location}var me="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ge(e){r.useContext(ce).static||r.useLayoutEffect(e)}function ve(){let{isDataRoute:e}=r.useContext(de);return e?function(){let{router:e}=Te("useNavigate"),t=Pe("useNavigate"),n=r.useRef(!1);ge(()=>{n.current=!0});let o=r.useCallback(async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};S(n.current,me),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,h({fromRouteId:t},o)))},[e,t]);return o}():function(){_(pe(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(re),{basename:t,navigator:n}=r.useContext(ce),{matches:o}=r.useContext(de),{pathname:i}=fe(),s=JSON.stringify(Y(o)),a=r.useRef(!1);ge(()=>{a.current=!0});let l=r.useCallback(function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(S(a.current,me),!a.current)return;if("number"===typeof r)return void n.go(r);let l=Q(r,JSON.parse(s),i,"path"===o.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:$([t,l.pathname])),(o.replace?n.replace:n.push)(l,o.state,o)},[t,n,s,i,e]);return l}()}r.createContext(null);function ye(){let{matches:e}=r.useContext(de),t=e[e.length-1];return t?t.params:{}}function be(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(de),{pathname:o}=fe(),i=JSON.stringify(Y(n));return r.useMemo(()=>Q(e,JSON.parse(i),o,"path"===t),[e,i,o,t])}function we(e,t,n,o,i){_(pe(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=r.useContext(ce),{matches:a}=r.useContext(de),l=a[a.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",p=l&&l.route;{let e=p&&p.path||"";Ae(u,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,m=fe();if(t){var g;let e="string"===typeof t?x(t):t;_("/"===d||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=m;let v=f.pathname||"/",y=v;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=P(e,{pathname:y});S(p||null!=b,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),S(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let w=Ee(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:$([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:$([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n,o,i);return t&&w?r.createElement(ue.Provider,{value:{location:h({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},w):w}function _e(){let e=Re(),t=ee(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o},s={padding:"2px 4px",backgroundColor:o},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:s},"ErrorBoundary")," or"," ",r.createElement("code",{style:s},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:i},n):null,a)}var Se=r.createElement(_e,null),Ce=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?r.createElement(de.Provider,{value:this.props.routeContext},r.createElement(he.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ke(e){let{routeContext:t,match:n,children:o}=e,i=r.useContext(re);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(de.Provider,{value:t},o)}function Ee(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,s=null===n||void 0===n?void 0:n.errors;if(null!=s){let e=i.findIndex(e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id]));_(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),i=i.slice(0,Math.min(i.length,e+1))}let a=!1,l=-1;if(n)for(let r=0;r<i.length;r++){let e=i[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||o){a=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}return i.reduceRight((e,c,u)=>{let d,h=!1,p=null,f=null;n&&(d=s&&c.route.id?s[c.route.id]:void 0,p=c.route.errorElement||Se,a&&(l<0&&0===u?(Ae("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):l===u&&(h=!0,f=c.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,u+1)),g=()=>{let t;return t=d?p:h?f:c.route.Component?r.createElement(c.route.Component,null):c.route.element?c.route.element:e,r.createElement(ke,{match:c,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(c.route.ErrorBoundary||c.route.errorElement||0===u)?r.createElement(Ce,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:o}):g()},null)}function xe(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Te(e){let t=r.useContext(re);return _(t,xe(e)),t}function Ie(e){let t=r.useContext(oe);return _(t,xe(e)),t}function Pe(e){let t=function(e){let t=r.useContext(de);return _(t,xe(e)),t}(e),n=t.matches[t.matches.length-1];return _(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Re(){var e;let t=r.useContext(he),n=Ie("useRouteError"),o=Pe("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[o]}var Ne={};function Ae(e,t,n){t||Ne[e]||(Ne[e]=!0,S(!1,n))}var Oe={};function Me(e,t){e||Oe[t]||(Oe[t]=!0,console.warn(t))}r.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:o}=e;return we(t,void 0,r,o,n)});function De(e){let{to:t,replace:n,state:o,relative:i}=e;_(pe(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=r.useContext(ce);S(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=r.useContext(de),{pathname:l}=fe(),c=ve(),u=Q(t,Y(a),l,"path"===i),d=JSON.stringify(u);return r.useEffect(()=>{c(JSON.parse(d),{replace:n,state:o,relative:i})},[c,d,i,n,o]),null}function Le(e){_(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Fe(e){let{basename:t="/",children:n=null,location:o,navigationType:i="POP",navigator:s,static:a=!1}=e;_(!pe(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=r.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);"string"===typeof o&&(o=x(o));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:f="default"}=o,m=r.useMemo(()=>{let e=H(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:f},navigationType:i}},[l,u,d,h,p,f,i]);return S(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:r.createElement(ce.Provider,{value:c},r.createElement(ue.Provider,{children:n,value:m}))}function je(e){let{children:t,location:n}=e;return we(ze(t),n)}r.Component;function ze(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,o)=>{if(!r.isValidElement(e))return;let i=[...t,o];if(e.type===r.Fragment)return void n.push.apply(n,ze(e.props.children,i));_(e.type===Le,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),_(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ze(e.props.children,i)),n.push(s)}),n}var Ue="get",Ve="application/x-www-form-urlencoded";function Be(e){return null!=e&&"string"===typeof e.tagName}var We=null;var qe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function He(e){return null==e||qe.has(e)?e:(S(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ve,'"')),null)}function Ke(e,t){let n,r,o,i,s;if(Be(a=e)&&"form"===a.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?H(s,t):null,n=e.getAttribute("method")||Ue,o=He(e.getAttribute("enctype"))||Ve,i=new FormData(e)}else if(function(e){return Be(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Be(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||s.getAttribute("action");if(r=a?H(a,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Ue,o=He(e.getAttribute("formenctype"))||He(s.getAttribute("enctype"))||Ve,i=new FormData(s,e),!function(){if(null===We)try{new FormData(document.createElement("form"),0),We=!1}catch(e){We=!0}return We}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,r)}}else{if(Be(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ue,r=null,o=Ve,s=e}var a;return i&&"text/plain"===o&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ge(e){return{__html:e}}function Ye(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Qe(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===H(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function $e(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(Df){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(Df),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Xe(e){return null!=e&&"string"===typeof e.page}function Je(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ze(e,t,n,r,o,i){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter((e,t)=>s(e,t)||a(e,t)):"data"===i?t.filter((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,i)||a(t,i))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function et(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1),[...new Set(r)];var r}function tt(e,t){let n=new Set,r=new Set(t);return e.reduce((e,o)=>{if(t&&!Xe(o)&&"script"===o.as&&o.href&&r.has(o.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(o));return n.has(i)||(n.add(i),e.push({key:i,link:o})),e},[])}function nt(e,t){return"lazy"===e.mode&&!0===t}function rt(){let e=r.useContext(re);return Ye(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ot(){let e=r.useContext(oe);return Ye(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var it=r.createContext(void 0);function st(){let e=r.useContext(it);return Ye(e,"You must render this element inside a <HydratedRouter> element"),e}function at(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function lt(e,t,n){if(n&&!ht)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}it.displayName="FrameworkContext";function ct(e){let{page:t}=e,n=a(e,f),{router:o}=rt(),i=r.useMemo(()=>P(o.routes,t,o.basename),[o.routes,t,o.basename]);return i?r.createElement(dt,h({page:t,matches:i},n)):null}function ut(e){let{manifest:t,routeModules:n}=st(),[o,i]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){return tt((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await $e(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Je).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?h(h({},e),{},{rel:"prefetch",as:"style"}):h(h({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),o}function dt(e){let{page:t,matches:n}=e,o=a(e,m),i=fe(),{manifest:s,routeModules:l}=st(),{basename:c}=rt(),{loaderData:u,matches:d}=ot(),p=r.useMemo(()=>Ze(t,n,d,s,i,"data"),[t,n,d,s,i]),f=r.useMemo(()=>Ze(t,n,d,s,i,"assets"),[t,n,d,s,i]),g=r.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let o=s.routes[t.route.id];o&&o.hasLoader&&(!p.some(e=>e.route.id===t.route.id)&&t.route.id in u&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||o.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let o=Qe(t,c,"data");return r&&e.size>0&&o.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[o.pathname+o.search]},[c,u,i,s,p,n,t,l]),v=r.useMemo(()=>et(f,s),[f,s]),y=ut(f);return r.createElement(r.Fragment,null,g.map(e=>r.createElement("link",h({key:e,rel:"prefetch",as:"fetch",href:e},o))),v.map(e=>r.createElement("link",h({key:e,rel:"modulepreload",href:e},o))),y.map(e=>{let{key:t,link:n}=e;return r.createElement("link",h({key:t,nonce:o.nonce},n))}))}var ht=!1;function pt(e){let{manifest:t,serverHandoffString:n,isSpaMode:o,renderMeta:i,routeDiscovery:s,ssr:l}=st(),{router:c,static:u,staticContext:d}=rt(),{matches:f}=ot(),m=r.useContext(ie),g=nt(s,l);i&&(i.didRenderScripts=!0);let v=lt(f,null,o);r.useEffect(()=>{ht=!0},[]);let y=r.useMemo(()=>{var o;if(m)return null;let i=d?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",s=u?"".concat(null!==(o=t.hmr)&&void 0!==o&&o.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(v.map((e,n)=>{let r="route".concat(n),o=t.routes[e.route.id];Ye(o,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:i,clientLoaderModule:s,clientMiddlewareModule:a,hydrateFallbackModule:l,module:c}=o,u=[...i?[{module:i,varName:"".concat(r,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(r,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=a(e,p),o=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(i.pop();i.length>0;)s.push("/".concat(i.join("/"))),i.pop();s.forEach(e=>{let n=P(t.routes,e,t.basename);n&&n.forEach(e=>o.add(e.route.id))});let l=[...o].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return h(h({},r),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",h(h({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ge(i),type:void 0})),r.createElement("script",h(h({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ge(s),type:"module",async:!0})))},[]),b=ht||m?[]:(w=t.entry.imports.concat(et(v,t,{includeHydrateFallback:!0})),[...new Set(w)]);var w;let _="object"===typeof t.sri?t.sri:{};return Me(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),ht||m?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:_})}}):null,g?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:_[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:_[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:_[t],suppressHydrationWarning:!0})),y)}function ft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function mt(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let o,i=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(ee(t))return r.createElement(gt,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),i);if(t instanceof Error)o=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);o=new Error(e)}return r.createElement(gt,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},o.stack),i)}function gt(e){var t;let{title:n,renderScripts:o,isOutsideRemixApp:i,children:s}=e,{routeModules:a}=st();return null!==(t=a.root)&&void 0!==t&&t.Layout&&!i?s:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,o?r.createElement(pt,null):null)))}var vt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{vt&&(window.__reactRouterVersion="7.8.2")}catch(gV){}function yt(e){let{basename:t,children:n,window:o}=e,i=r.useRef();null==i.current&&(i.current=w({window:o,v5Compat:!0}));let s=i.current,[a,l]=r.useState({action:s.action,location:s.location}),c=r.useCallback(e=>{r.startTransition(()=>l(e))},[l]);return r.useLayoutEffect(()=>s.listen(c),[s,c]),r.createElement(Fe,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s})}var bt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wt=r.forwardRef(function(e,t){let n,{onClick:o,discover:i="render",prefetch:s="none",relative:l,reloadDocument:c,replace:u,state:d,target:p,to:f,preventScrollReset:m,viewTransition:v}=e,y=a(e,g),{basename:b}=r.useContext(ce),w="string"===typeof f&&bt.test(f),C=!1;if("string"===typeof f&&w&&(n=f,vt))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),n=H(t.pathname,b);t.origin===e.origin&&null!=n?f=n+t.search+t.hash:C=!0}catch(gV){S(!1,'<Link to="'.concat(f,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let k=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_(pe(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=r.useContext(ce),{hash:i,pathname:s,search:a}=be(e,{relative:t}),l=s;return"/"!==n&&(l="/"===s?n:$([n,s])),o.createHref({pathname:l,search:a,hash:i})}(f,{relative:l}),[x,T,I]=function(e,t){let n=r.useContext(it),[o,i]=r.useState(!1),[s,a]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,p=r.useRef(null);r.useEffect(()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{a(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(o){let e=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(e)}}},[o]);let f=()=>{i(!0)},m=()=>{i(!1),a(!1)};return n?"intent"!==e?[s,p,{}]:[s,p,{onFocus:at(l,f),onBlur:at(c,m),onMouseEnter:at(u,f),onMouseLeave:at(d,m),onTouchStart:at(h,f)}]:[!1,p,{}]}(s,y),P=function(e){let{target:t,replace:n,state:o,preventScrollReset:i,relative:s,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ve(),c=fe(),u=be(e,{relative:s});return r.useCallback(r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:E(c)===E(u);l(e,{replace:t,state:o,preventScrollReset:i,relative:s,viewTransition:a})}},[c,l,u,n,o,t,e,i,s,a])}(f,{replace:u,state:d,target:p,preventScrollReset:m,relative:l,viewTransition:v});let R=r.createElement("a",h(h(h({},y),I),{},{href:n||k,onClick:C||c?o:function(e){o&&o(e),e.defaultPrevented||P(e)},ref:ft(t,T),target:p,"data-discover":w||"render"!==i?void 0:"true"}));return x&&!w?r.createElement(r.Fragment,null,R,r.createElement(ct,{page:k})):R});wt.displayName="Link";var _t=r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:o=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:u,children:d}=e,p=a(e,v),f=be(c,{relative:p.relative}),m=fe(),g=r.useContext(oe),{navigator:y,basename:b}=r.useContext(ce),w=null!=g&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(se);_(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=kt("useViewTransitionState"),i=be(e,{relative:t});if(!n.isTransitioning)return!1;let s=H(n.currentLocation.pathname,o)||n.currentLocation.pathname,a=H(n.nextLocation.pathname,o)||n.nextLocation.pathname;return null!=B(i.pathname,a)||null!=B(i.pathname,s)}(f)&&!0===u,S=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,C=m.pathname,k=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;o||(C=C.toLowerCase(),k=k?k.toLowerCase():null,S=S.toLowerCase()),k&&b&&(k=H(k,b)||k);const E="/"!==S&&S.endsWith("/")?S.length-1:S.length;let x,T=C===S||!s&&C.startsWith(S)&&"/"===C.charAt(E),I=null!=k&&(k===S||!s&&k.startsWith(S)&&"/"===k.charAt(S.length)),P={isActive:T,isPending:I,isTransitioning:w},R=T?n:void 0;x="function"===typeof i?i(P):[i,T?"active":null,I?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let N="function"===typeof l?l(P):l;return r.createElement(wt,h(h({},p),{},{"aria-current":R,className:x,ref:t,style:N,to:c,viewTransition:u}),"function"===typeof d?d(P):d)});_t.displayName="NavLink";var St=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:o,navigate:i,reloadDocument:s,replace:l,state:c,method:u=Ue,action:d,onSubmit:p,relative:f,preventScrollReset:m,viewTransition:g}=e,v=a(e,y),b=Tt(),w=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(ce),o=r.useContext(de);_(o,"useFormAction must be used inside a RouteContext");let[i]=o.matches.slice(-1),s=h({},be(e||".",{relative:t})),a=fe();if(null==e){s.search=a.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();s.search=n?"?".concat(n):""}}e&&"."!==e||!i.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:$([n,s.pathname]));return E(s)}(d,{relative:f}),S="get"===u.toLowerCase()?"get":"post",C="string"===typeof d&&bt.test(d);return r.createElement("form",h(h({ref:t,method:S,action:w,onSubmit:s?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u;b(t||e.currentTarget,{fetcherKey:o,method:n,navigate:i,replace:l,state:c,relative:f,preventScrollReset:m,viewTransition:g})}},v),{},{"data-discover":C||"render"!==n?void 0:"true"}))});function Ct(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function kt(e){let t=r.useContext(re);return _(t,Ct(e)),t}St.displayName="Form";var Et=0,xt=()=>"__".concat(String(++Et),"__");function Tt(){let{router:e}=kt("useSubmit"),{basename:t}=r.useContext(ce),n=Pe("useRouteId");return r.useCallback(async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:s,encType:a,formData:l,body:c}=Ke(r,t);if(!1===o.navigate){let t=o.fetcherKey||xt();await e.fetch(t,n,o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||s,formEncType:o.encType||a,flushSync:o.flushSync})}else await e.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||s,formEncType:o.encType||a,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function It(e){const t=new URL("https://mui.com/production-error/?code=".concat(e));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach(e=>t.searchParams.append("args[]",e)),"Minified MUI error #".concat(e,"; visit ").concat(t," for the full message.")}var Pt=n(191);function Rt(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Nt(e){if(r.isValidElement(e)||(0,Pt.Hy)(e)||!Rt(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=Nt(e[n])}),t}function At(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const o=n.clone?h({},e):e;return Rt(e)&&Rt(t)&&Object.keys(t).forEach(i=>{r.isValidElement(t[i])||(0,Pt.Hy)(t[i])?o[i]=t[i]:Rt(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Rt(e[i])?o[i]=At(e[i],t[i],n):n.clone?o[i]=Rt(t[i])?Nt(t[i]):t[i]:o[i]=t[i]}),o}const Ot=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))};function Mt(e){return Ot(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function Dt(e){if(e.type)return e;if("#"===e.charAt(0))return Dt(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map(e=>e+e)),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(It(9,e));let r,o=e.substring(t+1,e.length-1);if("color"===n){if(o=o.split(" "),r=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(It(10,r))}else o=o.split(",");return o=o.map(e=>parseFloat(e)),{type:n,values:o,colorSpace:r}}const Lt=(e,t)=>{try{return(e=>{const t=Dt(e);return t.values.slice(0,3).map((e,n)=>t.type.includes("hsl")&&0!==n?"".concat(e,"%"):e).join(" ")})(e)}catch(Df){return e}};function Ft(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((e,t)=>t<3?parseInt(e,10):e):t.includes("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=t.includes("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function jt(e){e=Dt(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-i*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",l.push(t[3])),Ft({type:a,values:l})}function zt(e){let t="hsl"===(e=Dt(e)).type||"hsla"===e.type?Dt(jt(e)).values:e.values;return t=t.map(t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Ut(e,t){return e=Dt(e),t=Mt(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,Ft(e)}function Vt(e,t,n){try{return Ut(e,t)}catch(Df){return e}}function Bt(e,t){if(e=Dt(e),t=Mt(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Ft(e)}function Wt(e,t,n){try{return Bt(e,t)}catch(Df){return e}}function qt(e,t){if(e=Dt(e),t=Mt(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Ft(e)}function Ht(e,t,n){try{return qt(e,t)}catch(Df){return e}}function Kt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return zt(e)>.5?Bt(e,t):qt(e,t)}function Gt(e,t,n){try{return Kt(e,t)}catch(Df){return e}}const Yt={black:"#000",white:"#fff"},Qt={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},$t={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Xt={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Jt={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Zt={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},en={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},tn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},nn=["mode","contrastThreshold","tonalOffset","colorSpace"];function rn(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Yt.white,default:Yt.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const on=rn();function sn(){return{text:{primary:Yt.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Yt.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const an=sn();function ln(e,t,n,r){const o=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=qt(e.main,o):"dark"===t&&(e.dark=Bt(e.main,i)))}function cn(e,t,n,r,o){const i=o.light||o,s=o.dark||1.5*o;t[n]||(t.hasOwnProperty(r)?t[n]=t[r]:"light"===n?t.light="color-mix(in ".concat(e,", ").concat(t.main,", #fff ").concat((100*i).toFixed(0),"%)"):"dark"===n&&(t.dark="color-mix(in ".concat(e,", ").concat(t.main,", #000 ").concat((100*s).toFixed(0),"%)")))}function un(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:o}=e,i=a(e,nn),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Zt[200],light:Zt[50],dark:Zt[400]}:{main:Zt[700],light:Zt[400],dark:Zt[800]}}(t),l=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:$t[200],light:$t[50],dark:$t[400]}:{main:$t[500],light:$t[300],dark:$t[700]}}(t),c=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Xt[500],light:Xt[300],dark:Xt[700]}:{main:Xt[700],light:Xt[400],dark:Xt[800]}}(t),u=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:en[400],light:en[300],dark:en[700]}:{main:en[700],light:en[500],dark:en[900]}}(t),d=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:tn[400],light:tn[300],dark:tn[700]}:{main:tn[800],light:tn[500],dark:tn[900]}}(t),p=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Jt[400],light:Jt[300],dark:Jt[700]}:{main:"#ed6c02",light:Jt[500],dark:Jt[900]}}(t);function f(e){if(o)return function(e){return"oklch(from ".concat(e," var(--__l) 0 h / var(--__a))")}(e);const t=function(e,t){const n=zt(e),r=zt(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,an.text.primary)>=n?an.text.primary:on.text.primary;return t}const m=e=>{let{color:t,name:n,mainShade:i=500,lightShade:s=300,darkShade:a=700}=e;if(t=h({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(It(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(It(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return o?(cn(o,t,"light",s,r),cn(o,t,"dark",a,r)):(ln(t,"light",s,r),ln(t,"dark",a,r)),t.contrastText||(t.contrastText=f(t.main)),t};let g;"light"===t?g=rn():"dark"===t&&(g=sn());return At(h({common:h({},Yt),mode:t,primary:m({color:s,name:"primary"}),secondary:m({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:c,name:"error"}),warning:m({color:p,name:"warning"}),info:m({color:u,name:"info"}),success:m({color:d,name:"success"}),grey:Qt,contrastThreshold:n,getContrastText:f,augmentColor:m,tonalOffset:r},g),i)}function dn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(!r.length)return"";const i=r[0];return"string"!==typeof i||i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?", ".concat(i):", var(--".concat(e?"".concat(e,"-"):"").concat(i).concat(t(...r.slice(1)),")")}return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return"var(--".concat(e?"".concat(e,"-"):"").concat(n).concat(t(...o),")")}}function hn(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(e=>e.startsWith("@container")).sort((e,t)=>{var n,r;const o=/min-width:\s*([0-9.]+)/;return+((null===(n=e.match(o))||void 0===n?void 0:n[1])||0)-+((null===(r=t.match(o))||void 0===r?void 0:r[1])||0)});return n.length?n.reduce((e,n)=>{const r=t[n];return delete e[n],e[n]=r,e},h({},t)):t}const pn={xs:0,sm:600,md:900,lg:1200,xl:1536},fn={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(pn[e],"px)")},mn={containerQueries:e=>({up:t=>{let n="number"===typeof t?t:pn[t]||t;return"number"===typeof n&&(n="".concat(n,"px")),e?"@container ".concat(e," (min-width:").concat(n,")"):"@container (min-width:".concat(n,")")}})};function gn(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||fn;return t.reduce((r,o,i)=>(r[e.up(e.keys[i])]=n(t[i]),r),{})}if("object"===typeof t){const e=r.breakpoints||fn;return Object.keys(t).reduce((o,i)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some(e=>t.startsWith("@".concat(e)))||!!t.match(/^@\d/))}(e.keys,i)){const e=function(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,o]=n,i=Number.isNaN(+r)?r||0:+r;return e.containerQueries(o).up(i)}(r.containerQueries?r:mn,i);e&&(o[e]=n(t[i],i))}else if(Object.keys(e.values||pn).includes(i)){o[e.up(i)]=n(t[i],i)}else{const e=i;o[e]=t[e]}return o},{})}return n(t)}function vn(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null===(e=t.keys)||void 0===e?void 0:e.reduce((e,n)=>(e[t.up(n)]={},e),{}))||{}}function yn(e,t){return e.reduce((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e},t)}function bn(e){if("string"!==typeof e)throw new Error(It(7));return e.charAt(0).toUpperCase()+e.slice(1)}function wn(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce((e,t)=>e&&e[t]?e[t]:null,e);if(null!=n)return n}return t.split(".").reduce((e,t)=>e&&null!=e[t]?e[t]:null,e)}function _n(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||o:wn(e,n)||o,t&&(r=t(r,o,e)),r}const Sn=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:o}=e,i=e=>{if(null==e[t])return null;const i=e[t],s=wn(e.theme,r)||{};return gn(e,i,e=>{let r=_n(s,o,e);return e===r&&"string"===typeof e&&(r=_n(s,o,"".concat(t).concat("default"===e?"":bn(e)),e)),!1===n?r:{[n]:r}})};return i.propTypes={},i.filterProps=[t],i};const Cn=function(e,t){return t?At(e,t,{clone:!1}):e};const kn={m:"margin",p:"padding"},En={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},xn={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Tn=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}(e=>{if(e.length>2){if(!xn[e])return[e];e=xn[e]}const[t,n]=e.split(""),r=kn[t],o=En[n]||"";return Array.isArray(o)?o.map(e=>r+e):[r+o]}),In=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Pn=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Rn=[...In,...Pn];function Nn(e,t,n,r){var o;const i=null!==(o=wn(e,t,!0))&&void 0!==o?o:n;return"number"===typeof i||"string"===typeof i?e=>"string"===typeof e?e:"string"===typeof i?i.startsWith("var(")&&0===e?0:i.startsWith("var(")&&1===e?i:"calc(".concat(e," * ").concat(i,")"):i*e:Array.isArray(i)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const n=i[t];return e>=0?n:"number"===typeof n?-n:"string"===typeof n&&n.startsWith("var(")?"calc(-1 * ".concat(n,")"):"-".concat(n)}:"function"===typeof i?i:()=>{}}function An(e){return Nn(e,"spacing",8)}function On(e,t){return"string"===typeof t||null==t?t:e(t)}function Mn(e,t,n,r){if(!t.includes(n))return null;const o=function(e,t){return n=>e.reduce((e,r)=>(e[r]=On(t,n),e),{})}(Tn(n),r);return gn(e,e[n],o)}function Dn(e,t){const n=An(e.theme);return Object.keys(e).map(r=>Mn(e,t,r,n)).reduce(Cn,{})}function Ln(e){return Dn(e,In)}function Fn(e){return Dn(e,Pn)}function jn(e){return Dn(e,Rn)}Ln.propTypes={},Ln.filterProps=In,Fn.propTypes={},Fn.filterProps=Pn,jn.propTypes={},jn.filterProps=Rn;function zn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:An({spacing:e});if(e.mui)return e;const n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map(e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n}).join(" ")};return n.mui=!0,n}function Un(e){const t={};return Object.entries(e).forEach(e=>{const[n,r]=e;"object"===typeof r&&(t[n]="".concat(r.fontStyle?"".concat(r.fontStyle," "):"").concat(r.fontVariant?"".concat(r.fontVariant," "):"").concat(r.fontWeight?"".concat(r.fontWeight," "):"").concat(r.fontStretch?"".concat(r.fontStretch," "):"").concat(r.fontSize||"").concat(r.lineHeight?"/".concat(r.lineHeight," "):"").concat(r.fontFamily||""))}),t}const Vn=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=e;t.forEach((e,i)=>{i===t.length-1?Array.isArray(o)?o[Number(e)]=n:o&&"object"===typeof o&&(o[e]=n):o&&"object"===typeof o&&(o[e]||(o[e]=r.includes(e)?[]:{}),o=o[e])})};function Bn(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},o={},i={},s={};var a,l;return a=(e,t,a)=>{if(("string"===typeof t||"number"===typeof t)&&(!r||!r(e,t))){const r="--".concat(n?"".concat(n,"-"):"").concat(e.join("-")),l=((e,t)=>"number"===typeof t?["lineHeight","fontWeight","opacity","zIndex"].some(t=>e.includes(t))||e[e.length-1].toLowerCase().includes("opacity")?t:"".concat(t,"px"):t)(e,t);Object.assign(o,{[r]:l}),Vn(i,e,"var(".concat(r,")"),a),Vn(s,e,"var(".concat(r,", ").concat(l,")"),a)}},l=e=>"vars"===e[0],function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(t).forEach(t=>{let[o,i]=t;(!l||l&&!l([...n,o]))&&void 0!==i&&null!==i&&("object"===typeof i&&Object.keys(i).length>0?e(i,[...n,o],Array.isArray(i)?[...r,o]:r):a([...n,o],i,r))})}(e),{css:o,vars:i,varsWithDefaults:s}}const Wn=["colorSchemes","components","defaultColorScheme"];const qn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=w,disableCssColorScheme:r,colorSchemeSelector:o,enableContrastVars:i}=t,{colorSchemes:s={},components:l,defaultColorScheme:u="light"}=e,d=a(e,Wn),{vars:p,css:f,varsWithDefaults:m}=Bn(d,t);let g=m;const v={},{[u]:y}=s,b=a(s,[u].map(c));if(Object.entries(b||{}).forEach(e=>{let[n,r]=e;const{vars:o,css:i,varsWithDefaults:s}=Bn(r,t);g=At(g,s),v[n]={css:i,vars:o}}),y){const{css:e,vars:n,varsWithDefaults:r}=Bn(y,t);g=At(g,r),v[u]={css:e,vars:n}}function w(t,n){let r=o;if("class"===o&&(r=".%s"),"data"===o&&(r="[data-%s]"),null!==o&&void 0!==o&&o.startsWith("data-")&&!o.includes("%s")&&(r="[".concat(o,'="%s"]')),t){if("media"===r){var i;if(e.defaultColorScheme===t)return":root";const r=(null===(i=s[t])||void 0===i||null===(i=i.palette)||void 0===i?void 0:i.mode)||t;return{["@media (prefers-color-scheme: ".concat(r,")")]:{":root":n}}}if(r)return e.defaultColorScheme===t?":root, ".concat(r.replace("%s",String(t))):r.replace("%s",String(t))}return":root"}return{vars:g,generateThemeVars:()=>{let e=h({},p);return Object.entries(v).forEach(t=>{let[,{vars:n}]=t;e=At(e,n)}),e},generateStyleSheets:()=>{const t=[],o=e.defaultColorScheme||"light";function l(e,n){Object.keys(n).length&&t.push("string"===typeof e?{[e]:h({},n)}:e)}l(n(void 0,h({},f)),f);const{[o]:u}=v,d=a(v,[o].map(c));if(u){var p;const{css:e}=u,t=null===(p=s[o])||void 0===p||null===(p=p.palette)||void 0===p?void 0:p.mode,i=h(!r&&t?{colorScheme:t}:{},e);l(n(o,h({},i)),i)}return Object.entries(d).forEach(e=>{var t;let[o,{css:i}]=e;const a=null===(t=s[o])||void 0===t||null===(t=t.palette)||void 0===t?void 0:t.mode,c=h(!r&&a?{colorScheme:a}:{},i);l(n(o,h({},c)),c)}),i&&t.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),t}}};const Hn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>(t.filterProps.forEach(n=>{e[n]=t}),e),{}),o=e=>Object.keys(e).reduce((t,n)=>r[n]?Cn(t,r[n](e)):t,{});return o.propTypes={},o.filterProps=t.reduce((e,t)=>e.concat(t.filterProps),[]),o};function Kn(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function Gn(e,t){return Sn({prop:e,themeKey:"borders",transform:t})}const Yn=Gn("border",Kn),Qn=Gn("borderTop",Kn),$n=Gn("borderRight",Kn),Xn=Gn("borderBottom",Kn),Jn=Gn("borderLeft",Kn),Zn=Gn("borderColor"),er=Gn("borderTopColor"),tr=Gn("borderRightColor"),nr=Gn("borderBottomColor"),rr=Gn("borderLeftColor"),or=Gn("outline",Kn),ir=Gn("outlineColor"),sr=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=Nn(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:On(t,e)});return gn(e,e.borderRadius,n)}return null};sr.propTypes={},sr.filterProps=["borderRadius"];Hn(Yn,Qn,$n,Xn,Jn,Zn,er,tr,nr,rr,sr,or,ir);const ar=e=>{if(void 0!==e.gap&&null!==e.gap){const t=Nn(e.theme,"spacing",8),n=e=>({gap:On(t,e)});return gn(e,e.gap,n)}return null};ar.propTypes={},ar.filterProps=["gap"];const lr=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=Nn(e.theme,"spacing",8),n=e=>({columnGap:On(t,e)});return gn(e,e.columnGap,n)}return null};lr.propTypes={},lr.filterProps=["columnGap"];const cr=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=Nn(e.theme,"spacing",8),n=e=>({rowGap:On(t,e)});return gn(e,e.rowGap,n)}return null};cr.propTypes={},cr.filterProps=["rowGap"];Hn(ar,lr,cr,Sn({prop:"gridColumn"}),Sn({prop:"gridRow"}),Sn({prop:"gridAutoFlow"}),Sn({prop:"gridAutoColumns"}),Sn({prop:"gridAutoRows"}),Sn({prop:"gridTemplateColumns"}),Sn({prop:"gridTemplateRows"}),Sn({prop:"gridTemplateAreas"}),Sn({prop:"gridArea"}));function ur(e,t){return"grey"===t?t:e}Hn(Sn({prop:"color",themeKey:"palette",transform:ur}),Sn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ur}),Sn({prop:"backgroundColor",themeKey:"palette",transform:ur}));function dr(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const hr=Sn({prop:"width",transform:dr}),pr=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const o=(null===(n=e.theme)||void 0===n||null===(n=n.breakpoints)||void 0===n||null===(n=n.values)||void 0===n?void 0:n[t])||pn[t];return o?"px"!==(null===(r=e.theme)||void 0===r||null===(r=r.breakpoints)||void 0===r?void 0:r.unit)?{maxWidth:"".concat(o).concat(e.theme.breakpoints.unit)}:{maxWidth:o}:{maxWidth:dr(t)}};return gn(e,e.maxWidth,t)}return null};pr.filterProps=["maxWidth"];const fr=Sn({prop:"minWidth",transform:dr}),mr=Sn({prop:"height",transform:dr}),gr=Sn({prop:"maxHeight",transform:dr}),vr=Sn({prop:"minHeight",transform:dr}),yr=(Sn({prop:"size",cssProperty:"width",transform:dr}),Sn({prop:"size",cssProperty:"height",transform:dr}),Hn(hr,pr,fr,mr,gr,vr,Sn({prop:"boxSizing"})),{border:{themeKey:"borders",transform:Kn},borderTop:{themeKey:"borders",transform:Kn},borderRight:{themeKey:"borders",transform:Kn},borderBottom:{themeKey:"borders",transform:Kn},borderLeft:{themeKey:"borders",transform:Kn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Kn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:sr},color:{themeKey:"palette",transform:ur},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ur},backgroundColor:{themeKey:"palette",transform:ur},p:{style:Fn},pt:{style:Fn},pr:{style:Fn},pb:{style:Fn},pl:{style:Fn},px:{style:Fn},py:{style:Fn},padding:{style:Fn},paddingTop:{style:Fn},paddingRight:{style:Fn},paddingBottom:{style:Fn},paddingLeft:{style:Fn},paddingX:{style:Fn},paddingY:{style:Fn},paddingInline:{style:Fn},paddingInlineStart:{style:Fn},paddingInlineEnd:{style:Fn},paddingBlock:{style:Fn},paddingBlockStart:{style:Fn},paddingBlockEnd:{style:Fn},m:{style:Ln},mt:{style:Ln},mr:{style:Ln},mb:{style:Ln},ml:{style:Ln},mx:{style:Ln},my:{style:Ln},margin:{style:Ln},marginTop:{style:Ln},marginRight:{style:Ln},marginBottom:{style:Ln},marginLeft:{style:Ln},marginX:{style:Ln},marginY:{style:Ln},marginInline:{style:Ln},marginInlineStart:{style:Ln},marginInlineEnd:{style:Ln},marginBlock:{style:Ln},marginBlockStart:{style:Ln},marginBlockEnd:{style:Ln},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ar},rowGap:{style:cr},columnGap:{style:lr},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:dr},maxWidth:{style:pr},minWidth:{transform:dr},height:{transform:dr},maxHeight:{transform:dr},minHeight:{transform:dr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const br=function(){function e(e,t,n,r){const o={[e]:t,theme:n},i=r[e];if(!i)return{[e]:t};const{cssProperty:s=e,themeKey:a,transform:l,style:c}=i;if(null==t)return null;if("typography"===a&&"inherit"===t)return{[e]:t};const u=wn(n,a)||{};if(c)return c(o);return gn(o,t,t=>{let n=_n(u,l,t);return t===n&&"string"===typeof t&&(n=_n(u,l,"".concat(e).concat("default"===t?"":bn(t)),t)),!1===s?n:{[s]:n}})}return function t(n){var r;const{sx:o,theme:i={},nested:s}=n||{};if(!o)return null;const a=null!==(r=i.unstable_sxConfig)&&void 0!==r?r:yr;function l(n){let r=n;if("function"===typeof n)r=n(i);else if("object"!==typeof n)return n;if(!r)return null;const o=vn(i.breakpoints),l=Object.keys(o);let c=o;return Object.keys(r).forEach(n=>{const o=function(e,t){return"function"===typeof e?e(t):e}(r[n],i);if(null!==o&&void 0!==o)if("object"===typeof o)if(a[n])c=Cn(c,e(n,o,i,a));else{const e=gn({theme:i},o,e=>({[n]:e}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>e.concat(Object.keys(t)),[]),o=new Set(r);return t.every(e=>o.size===Object.keys(e).length)}(e,o)?c=Cn(c,e):c[n]=t({sx:o,theme:i,nested:!0})}else c=Cn(c,e(n,o,i,a))}),!s&&i.modularCssLayers?{"@layer sx":hn(i,yn(l,c))}:hn(i,yn(l,c))}return Array.isArray(o)?o.map(l):l(o)}}();br.filterProps=["sx"];const wr=br,_r=["values","unit","step"];function Sr(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,o=a(e,_r),i=(e=>{const t=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return t.sort((e,t)=>e.val-t.val),t.reduce((e,t)=>h(h({},e),{},{[t.key]:t.val}),{})})(t),s=Object.keys(i);function l(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function c(e){const o="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(o-r/100).concat(n,")")}function u(e,o){const i=s.indexOf(o);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==i&&"number"===typeof t[s[i]]?t[s[i]]:o)-r/100).concat(n,")")}return h({keys:s,values:i,up:l,down:c,between:u,only:function(e){return s.indexOf(e)+1<s.length?u(e,s[s.indexOf(e)+1]):l(e)},not:function(e){const t=s.indexOf(e);return 0===t?l(s[1]):t===s.length-1?c(s[t]):u(e,s[s.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},o)}const Cr={borderRadius:4};function kr(e,t){const n=this;if(n.vars){var r;if(null===(r=n.colorSchemes)||void 0===r||!r[e]||"function"!==typeof n.getColorSchemeSelector)return{};let o=n.getColorSchemeSelector(e);return"&"===o?t:((o.includes("data-")||o.includes("."))&&(o="*:where(".concat(o.replace(/\s*&$/,""),") &")),{[o]:t})}return n.palette.mode===e?t:{}}const Er=["breakpoints","palette","spacing","shape"];const xr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:o={}}=e,i=a(e,Er),s=Sr(t),l=zn(r);let c=At({breakpoints:s,direction:"ltr",components:{},palette:h({mode:"light"},n),spacing:l,shape:h(h({},Cr),o)},i);c=function(e){const t=(e,t)=>e.replace("@media",t?"@container ".concat(t):"@container");function n(n,r){n.up=function(){return t(e.breakpoints.up(...arguments),r)},n.down=function(){return t(e.breakpoints.down(...arguments),r)},n.between=function(){return t(e.breakpoints.between(...arguments),r)},n.only=function(){return t(e.breakpoints.only(...arguments),r)},n.not=function(){const n=t(e.breakpoints.not(...arguments),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},o=e=>(n(r,e),r);return n(o),h(h({},e),{},{containerQueries:o})}(c),c.applyStyles=kr;for(var u=arguments.length,d=new Array(u>1?u-1:0),p=1;p<u;p++)d[p-1]=arguments[p];return c=d.reduce((e,t)=>At(e,t),c),c.unstable_sxConfig=h(h({},yr),null===i||void 0===i?void 0:i.unstable_sxConfig),c.unstable_sx=function(e){return wr({sx:e,theme:this})},c};function Tr(e,t){return h({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const Ir=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const Pr={textTransform:"uppercase"},Rr='"Roboto", "Helvetica", "Arial", sans-serif';function Nr(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=Rr,fontSize:o=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:u=16,allVariants:d,pxToRem:p}=n,f=a(n,Ir);const m=o/14,g=p||(e=>"".concat(e/u*m,"rem")),v=(e,t,n,o,i)=>{return h(h(h({fontFamily:r,fontWeight:e,fontSize:g(t),lineHeight:n},r===Rr?{letterSpacing:"".concat((s=o/t,Math.round(1e5*s)/1e5),"em")}:{}),i),d);var s},y={h1:v(i,96,1.167,-1.5),h2:v(i,60,1.2,-.5),h3:v(s,48,1.167,0),h4:v(s,34,1.235,.25),h5:v(s,24,1.334,0),h6:v(l,20,1.6,.15),subtitle1:v(s,16,1.75,.15),subtitle2:v(l,14,1.57,.1),body1:v(s,16,1.5,.15),body2:v(s,14,1.43,.15),button:v(l,14,1.75,.4,Pr),caption:v(s,12,1.66,.4),overline:v(s,12,2.66,1,Pr),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return At(h({htmlFontSize:u,pxToRem:g,fontFamily:r,fontSize:o,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:c},y),f,{clone:!1})}function Ar(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const Or=["none",Ar(0,2,1,-1,0,1,1,0,0,1,3,0),Ar(0,3,1,-2,0,2,2,0,0,1,5,0),Ar(0,3,3,-2,0,3,4,0,0,1,8,0),Ar(0,2,4,-1,0,4,5,0,0,1,10,0),Ar(0,3,5,-1,0,5,8,0,0,1,14,0),Ar(0,3,5,-1,0,6,10,0,0,1,18,0),Ar(0,4,5,-2,0,7,10,1,0,2,16,1),Ar(0,5,5,-3,0,8,10,1,0,3,14,2),Ar(0,5,6,-3,0,9,12,1,0,3,16,2),Ar(0,6,6,-3,0,10,14,1,0,4,18,3),Ar(0,6,7,-4,0,11,15,1,0,4,20,3),Ar(0,7,8,-4,0,12,17,2,0,5,22,4),Ar(0,7,8,-4,0,13,19,2,0,5,24,4),Ar(0,7,9,-4,0,14,21,2,0,5,26,4),Ar(0,8,9,-5,0,15,22,2,0,6,28,5),Ar(0,8,10,-5,0,16,24,2,0,6,30,5),Ar(0,8,11,-5,0,17,26,2,0,6,32,5),Ar(0,9,11,-5,0,18,28,2,0,7,34,6),Ar(0,9,12,-6,0,19,29,2,0,7,36,6),Ar(0,10,13,-6,0,20,31,3,0,8,38,7),Ar(0,10,13,-6,0,21,33,3,0,8,40,7),Ar(0,10,14,-6,0,22,35,3,0,8,42,7),Ar(0,11,14,-7,0,23,36,3,0,9,44,8),Ar(0,11,15,-7,0,24,38,3,0,9,46,8)],Mr=["duration","easing","delay"],Dr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Lr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Fr(e){return"".concat(Math.round(e),"ms")}function jr(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function zr(e){const t=h(h({},Dr),e.easing),n=h(h({},Lr),e.duration);return h(h({getAutoHeightDuration:jr,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:o=n.standard,easing:i=t.easeInOut,delay:s=0}=r;a(r,Mr);return(Array.isArray(e)?e:[e]).map(e=>"".concat(e," ").concat("string"===typeof o?o:Fr(o)," ").concat(i," ").concat("string"===typeof s?s:Fr(s))).join(",")}},e),{},{easing:t,duration:n})}const Ur={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Vr(e){return Rt(e)||"undefined"===typeof e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)}function Br(){const e=h({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return function e(t){const n=Object.entries(t);for(let r=0;r<n.length;r++){const[o,i]=n[r];!Vr(i)||o.startsWith("unstable_")?delete t[o]:Rt(i)&&(t[o]=h({},i),e(t[o]))}}(e),"import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ".concat(JSON.stringify(e,null,2),";\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;")}const Wr=["breakpoints","mixins","spacing","palette","transitions","typography","shape","colorSpace"];function qr(e){return"number"===typeof e?"".concat((100*e).toFixed(0),"%"):"calc((".concat(e,") * 100%)")}function Hr(e){Object.assign(e,{alpha(t,n){const r=this||e;return r.colorSpace?"oklch(from ".concat(t," l c h / ").concat("string"===typeof n?"calc(".concat(n,")"):n,")"):r.vars?"rgba(".concat(t.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")," / ").concat("string"===typeof n?"calc(".concat(n,")"):n,")"):Ut(t,(e=>{if(!Number.isNaN(+e))return+e;const t=e.match(/\d*\.?\d+/g);if(!t)return 0;let n=0;for(let r=0;r<t.length;r+=1)n+=+t[r];return n})(n))},lighten(t,n){const r=this||e;return r.colorSpace?"color-mix(in ".concat(r.colorSpace,", ").concat(t,", #fff ").concat(qr(n),")"):qt(t,n)},darken(t,n){const r=this||e;return r.colorSpace?"color-mix(in ".concat(r.colorSpace,", ").concat(t,", #000 ").concat(qr(n),")"):Bt(t,n)}})}const Kr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:n={},spacing:r,palette:o={},transitions:i={},typography:s={},shape:l,colorSpace:c}=e,u=a(e,Wr);if(e.vars&&void 0===e.generateThemeVars)throw new Error(It(20));const d=un(h(h({},o),{},{colorSpace:c})),p=xr(e);let f=At(p,{mixins:Tr(p.breakpoints,n),palette:d,shadows:Or.slice(),typography:Nr(d,s),transitions:zr(i),zIndex:h({},Ur)});f=At(f,u);for(var m=arguments.length,g=new Array(m>1?m-1:0),v=1;v<m;v++)g[v-1]=arguments[v];return f=g.reduce((e,t)=>At(e,t),f),f.unstable_sxConfig=h(h({},yr),null===u||void 0===u?void 0:u.unstable_sxConfig),f.unstable_sx=function(e){return wr({sx:e,theme:this})},f.toRuntimeSource=Br,Hr(f),f};function Gr(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}const Yr=["palette","opacity","overlays","colorSpace"],Qr=[...Array(25)].map((e,t)=>{if(0===t)return"none";const n=Gr(t);return"linear-gradient(rgba(255 255 255 / ".concat(n,"), rgba(255 255 255 / ").concat(n,"))")});function $r(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function Xr(e){return"dark"===e?Qr:[]}function Jr(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!(null===(t=e[1])||void 0===t||!t.match(/(mode|contrastThreshold|tonalOffset)/))}const Zr=e=>[...[...Array(25)].map((t,n)=>"--".concat(e?"".concat(e,"-"):"","overlays-").concat(n)),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkBg"),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkColor")],eo=e=>(t,n)=>{const r=e.rootSelector||":root",o=e.colorSchemeSelector;let i=o;if("class"===o&&(i=".%s"),"data"===o&&(i="[data-%s]"),null!==o&&void 0!==o&&o.startsWith("data-")&&!o.includes("%s")&&(i="[".concat(o,'="%s"]')),e.defaultColorScheme===t){if("dark"===t){const o={};return Zr(e.cssVarPrefix).forEach(e=>{o[e]=n[e],delete n[e]}),"media"===i?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:i?{[i.replace("%s",t)]:o,["".concat(r,", ").concat(i.replace("%s",t))]:n}:{[r]:h(h({},n),o)}}if(i&&"media"!==i)return"".concat(r,", ").concat(i.replace("%s",String(t)))}else if(t){if("media"===i)return{["@media (prefers-color-scheme: ".concat(String(t),")")]:{[r]:n}};if(i)return i.replace("%s",String(t))}return r},to=["palette"],no=["colorSchemes","defaultColorScheme","disableCssColorScheme","cssVarPrefix","nativeColor","shouldSkipGeneratingVar","colorSchemeSelector","rootSelector"];function ro(e,t,n){!e[t]&&n&&(e[t]=n)}function oo(e){return"string"===typeof e&&e.startsWith("hsl")?jt(e):e}function io(e,t){"".concat(t,"Channel")in e||(e["".concat(t,"Channel")]=Lt(oo(e[t]),("MUI: Can't create `palette.".concat(t,"Channel` because `palette.").concat(t,"` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()."),"To suppress this warning, you need to explicitly provide the `palette.".concat(t,'Channel` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.'))))}const so=e=>{try{return e()}catch(Df){}};function ao(e,t,n,r,o){var i,s,l;if(!n)return;n=!0===n?{}:n;const c="dark"===o?"dark":"light";var u;if(!r)return void(t[o]=function(e){const{palette:t={mode:"light"},opacity:n,overlays:r,colorSpace:o}=e,i=a(e,Yr),s=un(h(h({},t),{},{colorSpace:o}));return h({palette:s,opacity:h(h({},$r(s.mode)),n),overlays:r||Xr(s.mode)},i)}(h(h({},n),{},{palette:h({mode:c},null===(u=n)||void 0===u?void 0:u.palette),colorSpace:e})));const d=Kr(h(h({},r),{},{palette:h({mode:c},null===(i=n)||void 0===i?void 0:i.palette),colorSpace:e})),{palette:p}=d,f=a(d,to);return t[o]=h(h({},n),{},{palette:p,opacity:h(h({},$r(c)),null===(s=n)||void 0===s?void 0:s.opacity),overlays:(null===(l=n)||void 0===l?void 0:l.overlays)||Xr(c)}),f}function lo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:o="mui",nativeColor:i=!1,shouldSkipGeneratingVar:s=Jr,colorSchemeSelector:l=(t.light&&t.dark?"media":void 0),rootSelector:u=":root"}=e,d=a(e,no),p=Object.keys(t)[0],f=n||(t.light&&"light"!==p?"light":p),m=function(){return dn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(o),{[f]:g,light:v,dark:y}=t,b=h({},a(t,[f,"light","dark"].map(c)));let w,_=g;if(("dark"===f&&!("dark"in t)||"light"===f&&!("light"in t))&&(_=!0),!_)throw new Error(It(21,f));i&&(w="oklch");const S=ao(w,b,_,d,f);v&&!b.light&&ao(w,b,v,void 0,"light"),y&&!b.dark&&ao(w,b,y,void 0,"dark");let C=h(h({defaultColorScheme:f},S),{},{cssVarPrefix:o,colorSchemeSelector:l,rootSelector:u,getCssVar:m,colorSchemes:b,font:h(h({},Un(S.typography)),S.font),spacing:(k=d.spacing,"number"===typeof k?"".concat(k,"px"):"string"===typeof k||"function"===typeof k||Array.isArray(k)?k:"8px")});var k;Object.keys(C.colorSchemes).forEach(e=>{const t=C.colorSchemes[e].palette,n=e=>{const n=e.split("-"),r=n[1],o=n[2];return m(e,t[r][o])};function r(e,t,n){if(w){let r;return e===Vt&&(r="transparent ".concat((100*(1-n)).toFixed(0),"%")),e===Wt&&(r="#000 ".concat((100*n).toFixed(0),"%")),e===Ht&&(r="#fff ".concat((100*n).toFixed(0),"%")),"color-mix(in ".concat(w,", ").concat(t,", ").concat(r,")")}return e(t,n)}var o;if("light"===t.mode&&(ro(t.common,"background","#fff"),ro(t.common,"onBackground","#000")),"dark"===t.mode&&(ro(t.common,"background","#000"),ro(t.common,"onBackground","#fff")),o=t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach(e=>{o[e]||(o[e]={})}),"light"===t.mode){ro(t.Alert,"errorColor",r(Wt,t.error.light,.6)),ro(t.Alert,"infoColor",r(Wt,t.info.light,.6)),ro(t.Alert,"successColor",r(Wt,t.success.light,.6)),ro(t.Alert,"warningColor",r(Wt,t.warning.light,.6)),ro(t.Alert,"errorFilledBg",n("palette-error-main")),ro(t.Alert,"infoFilledBg",n("palette-info-main")),ro(t.Alert,"successFilledBg",n("palette-success-main")),ro(t.Alert,"warningFilledBg",n("palette-warning-main")),ro(t.Alert,"errorFilledColor",so(()=>t.getContrastText(t.error.main))),ro(t.Alert,"infoFilledColor",so(()=>t.getContrastText(t.info.main))),ro(t.Alert,"successFilledColor",so(()=>t.getContrastText(t.success.main))),ro(t.Alert,"warningFilledColor",so(()=>t.getContrastText(t.warning.main))),ro(t.Alert,"errorStandardBg",r(Ht,t.error.light,.9)),ro(t.Alert,"infoStandardBg",r(Ht,t.info.light,.9)),ro(t.Alert,"successStandardBg",r(Ht,t.success.light,.9)),ro(t.Alert,"warningStandardBg",r(Ht,t.warning.light,.9)),ro(t.Alert,"errorIconColor",n("palette-error-main")),ro(t.Alert,"infoIconColor",n("palette-info-main")),ro(t.Alert,"successIconColor",n("palette-success-main")),ro(t.Alert,"warningIconColor",n("palette-warning-main")),ro(t.AppBar,"defaultBg",n("palette-grey-100")),ro(t.Avatar,"defaultBg",n("palette-grey-400")),ro(t.Button,"inheritContainedBg",n("palette-grey-300")),ro(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),ro(t.Chip,"defaultBorder",n("palette-grey-400")),ro(t.Chip,"defaultAvatarColor",n("palette-grey-700")),ro(t.Chip,"defaultIconColor",n("palette-grey-700")),ro(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ro(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ro(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ro(t.LinearProgress,"primaryBg",r(Ht,t.primary.main,.62)),ro(t.LinearProgress,"secondaryBg",r(Ht,t.secondary.main,.62)),ro(t.LinearProgress,"errorBg",r(Ht,t.error.main,.62)),ro(t.LinearProgress,"infoBg",r(Ht,t.info.main,.62)),ro(t.LinearProgress,"successBg",r(Ht,t.success.main,.62)),ro(t.LinearProgress,"warningBg",r(Ht,t.warning.main,.62)),ro(t.Skeleton,"bg",w?r(Vt,t.text.primary,.11):"rgba(".concat(n("palette-text-primaryChannel")," / 0.11)")),ro(t.Slider,"primaryTrack",r(Ht,t.primary.main,.62)),ro(t.Slider,"secondaryTrack",r(Ht,t.secondary.main,.62)),ro(t.Slider,"errorTrack",r(Ht,t.error.main,.62)),ro(t.Slider,"infoTrack",r(Ht,t.info.main,.62)),ro(t.Slider,"successTrack",r(Ht,t.success.main,.62)),ro(t.Slider,"warningTrack",r(Ht,t.warning.main,.62));const e=w?r(Wt,t.background.default,.6825):Gt(t.background.default,.8);ro(t.SnackbarContent,"bg",e),ro(t.SnackbarContent,"color",so(()=>w?an.text.primary:t.getContrastText(e))),ro(t.SpeedDialAction,"fabHoverBg",Gt(t.background.paper,.15)),ro(t.StepConnector,"border",n("palette-grey-400")),ro(t.StepContent,"border",n("palette-grey-400")),ro(t.Switch,"defaultColor",n("palette-common-white")),ro(t.Switch,"defaultDisabledColor",n("palette-grey-100")),ro(t.Switch,"primaryDisabledColor",r(Ht,t.primary.main,.62)),ro(t.Switch,"secondaryDisabledColor",r(Ht,t.secondary.main,.62)),ro(t.Switch,"errorDisabledColor",r(Ht,t.error.main,.62)),ro(t.Switch,"infoDisabledColor",r(Ht,t.info.main,.62)),ro(t.Switch,"successDisabledColor",r(Ht,t.success.main,.62)),ro(t.Switch,"warningDisabledColor",r(Ht,t.warning.main,.62)),ro(t.TableCell,"border",r(Ht,r(Vt,t.divider,1),.88)),ro(t.Tooltip,"bg",r(Vt,t.grey[700],.92))}if("dark"===t.mode){ro(t.Alert,"errorColor",r(Ht,t.error.light,.6)),ro(t.Alert,"infoColor",r(Ht,t.info.light,.6)),ro(t.Alert,"successColor",r(Ht,t.success.light,.6)),ro(t.Alert,"warningColor",r(Ht,t.warning.light,.6)),ro(t.Alert,"errorFilledBg",n("palette-error-dark")),ro(t.Alert,"infoFilledBg",n("palette-info-dark")),ro(t.Alert,"successFilledBg",n("palette-success-dark")),ro(t.Alert,"warningFilledBg",n("palette-warning-dark")),ro(t.Alert,"errorFilledColor",so(()=>t.getContrastText(t.error.dark))),ro(t.Alert,"infoFilledColor",so(()=>t.getContrastText(t.info.dark))),ro(t.Alert,"successFilledColor",so(()=>t.getContrastText(t.success.dark))),ro(t.Alert,"warningFilledColor",so(()=>t.getContrastText(t.warning.dark))),ro(t.Alert,"errorStandardBg",r(Wt,t.error.light,.9)),ro(t.Alert,"infoStandardBg",r(Wt,t.info.light,.9)),ro(t.Alert,"successStandardBg",r(Wt,t.success.light,.9)),ro(t.Alert,"warningStandardBg",r(Wt,t.warning.light,.9)),ro(t.Alert,"errorIconColor",n("palette-error-main")),ro(t.Alert,"infoIconColor",n("palette-info-main")),ro(t.Alert,"successIconColor",n("palette-success-main")),ro(t.Alert,"warningIconColor",n("palette-warning-main")),ro(t.AppBar,"defaultBg",n("palette-grey-900")),ro(t.AppBar,"darkBg",n("palette-background-paper")),ro(t.AppBar,"darkColor",n("palette-text-primary")),ro(t.Avatar,"defaultBg",n("palette-grey-600")),ro(t.Button,"inheritContainedBg",n("palette-grey-800")),ro(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),ro(t.Chip,"defaultBorder",n("palette-grey-700")),ro(t.Chip,"defaultAvatarColor",n("palette-grey-300")),ro(t.Chip,"defaultIconColor",n("palette-grey-300")),ro(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ro(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ro(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ro(t.LinearProgress,"primaryBg",r(Wt,t.primary.main,.5)),ro(t.LinearProgress,"secondaryBg",r(Wt,t.secondary.main,.5)),ro(t.LinearProgress,"errorBg",r(Wt,t.error.main,.5)),ro(t.LinearProgress,"infoBg",r(Wt,t.info.main,.5)),ro(t.LinearProgress,"successBg",r(Wt,t.success.main,.5)),ro(t.LinearProgress,"warningBg",r(Wt,t.warning.main,.5)),ro(t.Skeleton,"bg",w?r(Vt,t.text.primary,.13):"rgba(".concat(n("palette-text-primaryChannel")," / 0.13)")),ro(t.Slider,"primaryTrack",r(Wt,t.primary.main,.5)),ro(t.Slider,"secondaryTrack",r(Wt,t.secondary.main,.5)),ro(t.Slider,"errorTrack",r(Wt,t.error.main,.5)),ro(t.Slider,"infoTrack",r(Wt,t.info.main,.5)),ro(t.Slider,"successTrack",r(Wt,t.success.main,.5)),ro(t.Slider,"warningTrack",r(Wt,t.warning.main,.5));const e=w?r(Ht,t.background.default,.985):Gt(t.background.default,.98);ro(t.SnackbarContent,"bg",e),ro(t.SnackbarContent,"color",so(()=>w?on.text.primary:t.getContrastText(e))),ro(t.SpeedDialAction,"fabHoverBg",Gt(t.background.paper,.15)),ro(t.StepConnector,"border",n("palette-grey-600")),ro(t.StepContent,"border",n("palette-grey-600")),ro(t.Switch,"defaultColor",n("palette-grey-300")),ro(t.Switch,"defaultDisabledColor",n("palette-grey-600")),ro(t.Switch,"primaryDisabledColor",r(Wt,t.primary.main,.55)),ro(t.Switch,"secondaryDisabledColor",r(Wt,t.secondary.main,.55)),ro(t.Switch,"errorDisabledColor",r(Wt,t.error.main,.55)),ro(t.Switch,"infoDisabledColor",r(Wt,t.info.main,.55)),ro(t.Switch,"successDisabledColor",r(Wt,t.success.main,.55)),ro(t.Switch,"warningDisabledColor",r(Wt,t.warning.main,.55)),ro(t.TableCell,"border",r(Wt,r(Vt,t.divider,1),.68)),ro(t.Tooltip,"bg",r(Vt,t.grey[700],.92))}io(t.background,"default"),io(t.background,"paper"),io(t.common,"background"),io(t.common,"onBackground"),io(t,"divider"),Object.keys(t).forEach(e=>{const n=t[e];"tonalOffset"!==e&&n&&"object"===typeof n&&(n.main&&ro(t[e],"mainChannel",Lt(oo(n.main))),n.light&&ro(t[e],"lightChannel",Lt(oo(n.light))),n.dark&&ro(t[e],"darkChannel",Lt(oo(n.dark))),n.contrastText&&ro(t[e],"contrastTextChannel",Lt(oo(n.contrastText))),"text"===e&&(io(t[e],"primary"),io(t[e],"secondary")),"action"===e&&(n.active&&io(t[e],"active"),n.selected&&io(t[e],"selected")))})});for(var E=arguments.length,x=new Array(E>1?E-1:0),T=1;T<E;T++)x[T-1]=arguments[T];C=x.reduce((e,t)=>At(e,t),C);const I={prefix:o,disableCssColorScheme:r,shouldSkipGeneratingVar:s,getSelector:eo(C),enableContrastVars:i},{vars:P,generateThemeVars:R,generateStyleSheets:N}=qn(C,I);return C.vars=P,Object.entries(C.colorSchemes[C.defaultColorScheme]).forEach(e=>{let[t,n]=e;C[t]=n}),C.generateThemeVars=R,C.generateStyleSheets=N,C.generateSpacing=function(){return zn(d.spacing,An(this))},C.getColorSchemeSelector=function(e){return function(t){return"media"===e?"@media (prefers-color-scheme: ".concat(t,")"):e?e.startsWith("data-")&&!e.includes("%s")?"[".concat(e,'="').concat(t,'"] &'):"class"===e?".".concat(t," &"):"data"===e?"[data-".concat(t,"] &"):"".concat(e.replace("%s",t)," &"):"&"}}(l),C.spacing=C.generateSpacing(),C.shouldSkipGeneratingVar=s,C.unstable_sxConfig=h(h({},yr),null===d||void 0===d?void 0:d.unstable_sxConfig),C.unstable_sx=function(e){return wr({sx:e,theme:this})},C.toRuntimeSource=Br,C}const co=["palette","cssVariables","colorSchemes","defaultColorScheme"];function uo(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]=h(h({},!0!==n&&n),{},{palette:un(h(h({},!0===n?{}:n.palette),{},{mode:t}))}))}function ho(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:n=!1,colorSchemes:r=(t?void 0:{light:!0}),defaultColorScheme:o=(null===t||void 0===t?void 0:t.mode)}=e,i=a(e,co),s=o||"light",l=null===r||void 0===r?void 0:r[s],c=h(h({},r),t?{[s]:h(h({},"boolean"!==typeof l&&l),{},{palette:t})}:void 0);for(var u=arguments.length,d=new Array(u>1?u-1:0),p=1;p<u;p++)d[p-1]=arguments[p];if(!1===n){if(!("colorSchemes"in e))return Kr(e,...d);let n=t;"palette"in e||c[s]&&(!0!==c[s]?n=c[s].palette:"dark"===s&&(n={mode:"dark"}));const r=Kr(h(h({},e),{},{palette:n}),...d);return r.defaultColorScheme=s,r.colorSchemes=c,"light"===r.palette.mode&&(r.colorSchemes.light=h(h({},!0!==c.light&&c.light),{},{palette:r.palette}),uo(r,"dark",c.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark=h(h({},!0!==c.dark&&c.dark),{},{palette:r.palette}),uo(r,"light",c.light)),r}return t||"light"in c||"light"!==s||(c.light=!0),lo(h(h({},i),{},{colorSchemes:c,defaultColorScheme:s},"boolean"!==typeof n&&n),...d)}const po="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function fo(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=fo(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const mo=function(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=fo(e))&&(r&&(r+=" "),r+=t);return r};function go(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=h({},t);for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const i=o;if("components"===i||"slots"===i)r[i]=h(h({},e[i]),r[i]);else if("componentsProps"===i||"slotProps"===i){const o=e[i],s=t[i];if(s)if(o){r[i]=h({},s);for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e)){const t=e;r[i][t]=go(o[t],s[t],n)}}else r[i]=s;else r[i]=o||{}}else"className"===i&&n&&t.className?r.className=mo(null===e||void 0===e?void 0:e.className,null===t||void 0===t?void 0:t.className):"style"===i&&n&&t.style?r.style=h(h({},null===e||void 0===e?void 0:e.style),null===t||void 0===t?void 0:t.style):void 0===r[i]&&(r[i]=e[i])}return r}function vo(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?go(t.components[n].defaultProps,r):r}var yo=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(gV){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),bo=Math.abs,wo=String.fromCharCode,_o=Object.assign;function So(e){return e.trim()}function Co(e,t,n){return e.replace(t,n)}function ko(e,t){return e.indexOf(t)}function Eo(e,t){return 0|e.charCodeAt(t)}function xo(e,t,n){return e.slice(t,n)}function To(e){return e.length}function Io(e){return e.length}function Po(e,t){return t.push(e),e}var Ro=1,No=1,Ao=0,Oo=0,Mo=0,Do="";function Lo(e,t,n,r,o,i,s){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:Ro,column:No,length:s,return:""}}function Fo(e,t){return _o(Lo("",null,null,"",null,null,0),e,{length:-e.length},t)}function jo(){return Mo=Oo>0?Eo(Do,--Oo):0,No--,10===Mo&&(No=1,Ro--),Mo}function zo(){return Mo=Oo<Ao?Eo(Do,Oo++):0,No++,10===Mo&&(No=1,Ro++),Mo}function Uo(){return Eo(Do,Oo)}function Vo(){return Oo}function Bo(e,t){return xo(Do,e,t)}function Wo(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qo(e){return Ro=No=1,Ao=To(Do=e),Oo=0,[]}function Ho(e){return Do="",e}function Ko(e){return So(Bo(Oo-1,Qo(91===e?e+2:40===e?e+1:e)))}function Go(e){for(;(Mo=Uo())&&Mo<33;)zo();return Wo(e)>2||Wo(Mo)>3?"":" "}function Yo(e,t){for(;--t&&zo()&&!(Mo<48||Mo>102||Mo>57&&Mo<65||Mo>70&&Mo<97););return Bo(e,Vo()+(t<6&&32==Uo()&&32==zo()))}function Qo(e){for(;zo();)switch(Mo){case e:return Oo;case 34:case 39:34!==e&&39!==e&&Qo(Mo);break;case 40:41===e&&Qo(e);break;case 92:zo()}return Oo}function $o(e,t){for(;zo()&&e+Mo!==57&&(e+Mo!==84||47!==Uo()););return"/*"+Bo(t,Oo-1)+"*"+wo(47===e?e:zo())}function Xo(e){for(;!Wo(Uo());)zo();return Bo(e,Oo)}var Jo="-ms-",Zo="-moz-",ei="-webkit-",ti="comm",ni="rule",ri="decl",oi="@keyframes";function ii(e,t){for(var n="",r=Io(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function si(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case ri:return e.return=e.return||e.value;case ti:return"";case oi:return e.return=e.value+"{"+ii(e.children,r)+"}";case ni:e.value=e.props.join(",")}return To(n=ii(e.children,r))?e.return=e.value+"{"+n+"}":""}function ai(e){return Ho(li("",null,null,null,[""],e=qo(e),0,[0],e))}function li(e,t,n,r,o,i,s,a,l){for(var c=0,u=0,d=s,h=0,p=0,f=0,m=1,g=1,v=1,y=0,b="",w=o,_=i,S=r,C=b;g;)switch(f=y,y=zo()){case 40:if(108!=f&&58==Eo(C,d-1)){-1!=ko(C+=Co(Ko(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:C+=Ko(y);break;case 9:case 10:case 13:case 32:C+=Go(f);break;case 92:C+=Yo(Vo()-1,7);continue;case 47:switch(Uo()){case 42:case 47:Po(ui($o(zo(),Vo()),t,n),l);break;default:C+="/"}break;case 123*m:a[c++]=To(C)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(C=Co(C,/\f/g,"")),p>0&&To(C)-d&&Po(p>32?di(C+";",r,n,d-1):di(Co(C," ","")+";",r,n,d-2),l);break;case 59:C+=";";default:if(Po(S=ci(C,t,n,c,u,o,a,b,w=[],_=[],d),i),123===y)if(0===u)li(C,t,S,S,w,i,d,a,_);else switch(99===h&&110===Eo(C,3)?100:h){case 100:case 108:case 109:case 115:li(e,S,S,r&&Po(ci(e,S,S,0,0,o,a,b,o,w=[],d),_),o,_,d,a,r?w:_);break;default:li(C,S,S,S,[""],_,0,a,_)}}c=u=p=0,m=v=1,b=C="",d=s;break;case 58:d=1+To(C),p=f;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==jo())continue;switch(C+=wo(y),y*m){case 38:v=u>0?1:(C+="\f",-1);break;case 44:a[c++]=(To(C)-1)*v,v=1;break;case 64:45===Uo()&&(C+=Ko(zo())),h=Uo(),u=d=To(b=C+=Xo(Vo())),y++;break;case 45:45===f&&2==To(C)&&(m=0)}}return i}function ci(e,t,n,r,o,i,s,a,l,c,u){for(var d=o-1,h=0===o?i:[""],p=Io(h),f=0,m=0,g=0;f<r;++f)for(var v=0,y=xo(e,d+1,d=bo(m=s[f])),b=e;v<p;++v)(b=So(m>0?h[v]+" "+y:Co(y,/&\f/g,h[v])))&&(l[g++]=b);return Lo(e,t,n,0===o?ni:a,l,c,u)}function ui(e,t,n){return Lo(e,t,n,ti,wo(Mo),xo(e,2,-2),0)}function di(e,t,n,r){return Lo(e,t,n,ri,xo(e,0,r),xo(e,r+1,-1),r)}var hi=function(e,t,n){for(var r=0,o=0;r=o,o=Uo(),38===r&&12===o&&(t[n]=1),!Wo(o);)zo();return Bo(e,Oo)},pi=function(e,t){return Ho(function(e,t){var n=-1,r=44;do{switch(Wo(r)){case 0:38===r&&12===Uo()&&(t[n]=1),e[n]+=hi(Oo-1,t,n);break;case 2:e[n]+=Ko(r);break;case 4:if(44===r){e[++n]=58===Uo()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=wo(r)}}while(r=zo());return e}(qo(e),t))},fi=new WeakMap,mi=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||fi.get(n))&&!r){fi.set(e,!0);for(var o=[],i=pi(t,o),s=n.props,a=0,l=0;a<i.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=o[a]?i[a].replace(/&\f/g,s[c]):s[c]+" "+i[a]}}},gi=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function vi(e,t){switch(function(e,t){return 45^Eo(e,0)?(((t<<2^Eo(e,0))<<2^Eo(e,1))<<2^Eo(e,2))<<2^Eo(e,3):0}(e,t)){case 5103:return ei+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ei+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ei+e+Zo+e+Jo+e+e;case 6828:case 4268:return ei+e+Jo+e+e;case 6165:return ei+e+Jo+"flex-"+e+e;case 5187:return ei+e+Co(e,/(\w+).+(:[^]+)/,ei+"box-$1$2"+Jo+"flex-$1$2")+e;case 5443:return ei+e+Jo+"flex-item-"+Co(e,/flex-|-self/,"")+e;case 4675:return ei+e+Jo+"flex-line-pack"+Co(e,/align-content|flex-|-self/,"")+e;case 5548:return ei+e+Jo+Co(e,"shrink","negative")+e;case 5292:return ei+e+Jo+Co(e,"basis","preferred-size")+e;case 6060:return ei+"box-"+Co(e,"-grow","")+ei+e+Jo+Co(e,"grow","positive")+e;case 4554:return ei+Co(e,/([^-])(transform)/g,"$1"+ei+"$2")+e;case 6187:return Co(Co(Co(e,/(zoom-|grab)/,ei+"$1"),/(image-set)/,ei+"$1"),e,"")+e;case 5495:case 3959:return Co(e,/(image-set\([^]*)/,ei+"$1$`$1");case 4968:return Co(Co(e,/(.+:)(flex-)?(.*)/,ei+"box-pack:$3"+Jo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ei+e+e;case 4095:case 3583:case 4068:case 2532:return Co(e,/(.+)-inline(.+)/,ei+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(To(e)-1-t>6)switch(Eo(e,t+1)){case 109:if(45!==Eo(e,t+4))break;case 102:return Co(e,/(.+:)(.+)-([^]+)/,"$1"+ei+"$2-$3$1"+Zo+(108==Eo(e,t+3)?"$3":"$2-$3"))+e;case 115:return~ko(e,"stretch")?vi(Co(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Eo(e,t+1))break;case 6444:switch(Eo(e,To(e)-3-(~ko(e,"!important")&&10))){case 107:return Co(e,":",":"+ei)+e;case 101:return Co(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ei+(45===Eo(e,14)?"inline-":"")+"box$3$1"+ei+"$2$3$1"+Jo+"$2box$3")+e}break;case 5936:switch(Eo(e,t+11)){case 114:return ei+e+Jo+Co(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ei+e+Jo+Co(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ei+e+Jo+Co(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ei+e+Jo+e+e}return e}var yi=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ri:e.return=vi(e.value,e.length);break;case oi:return ii([Fo(e,{value:Co(e.value,"@","@"+ei)})],r);case ni:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ii([Fo(e,{props:[Co(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return ii([Fo(e,{props:[Co(t,/:(plac\w+)/,":"+ei+"input-$1")]}),Fo(e,{props:[Co(t,/:(plac\w+)/,":-moz-$1")]}),Fo(e,{props:[Co(t,/:(plac\w+)/,Jo+"input-$1")]})],r)}return""})}}],bi=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var r,o,i=e.stylisPlugins||yi,s={},a=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)});var l,c,u=[si,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],d=function(e){var t=Io(e);return function(n,r,o,i){for(var s="",a=0;a<t;a++)s+=e[a](n,r,o,i)||"";return s}}([mi,gi].concat(i,u));o=function(e,t,n,r){l=n,function(e){ii(ai(e),d)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new yo({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:o};return h.sheet.hydrate(a),h};function wi(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")}),r}var _i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Si=function(e,t,n){_i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}};var Ci={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function ki(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Ei=/[A-Z]|^ms/g,xi=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ti=function(e){return 45===e.charCodeAt(1)},Ii=function(e){return null!=e&&"boolean"!==typeof e},Pi=ki(function(e){return Ti(e)?e:e.replace(Ei,"-$&").toLowerCase()}),Ri=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(xi,function(e,t,n){return Ai={name:t,styles:n,next:Ai},t})}return 1===Ci[e]||Ti(e)||"number"!==typeof t||0===t?t:t+"px"};function Ni(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var o=n;if(1===o.anim)return Ai={name:o.name,styles:o.styles,next:Ai},o.name;var i=n;if(void 0!==i.styles){var s=i.next;if(void 0!==s)for(;void 0!==s;)Ai={name:s.name,styles:s.styles,next:Ai},s=s.next;return i.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=Ni(e,t,n[o])+";";else for(var i in n){var s=n[i];if("object"!==typeof s){var a=s;null!=t&&void 0!==t[a]?r+=i+"{"+t[a]+"}":Ii(a)&&(r+=Pi(i)+":"+Ri(i,a)+";")}else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=Ni(e,t,s);switch(i){case"animation":case"animationName":r+=Pi(i)+":"+l+";";break;default:r+=i+"{"+l+"}"}}else for(var c=0;c<s.length;c++)Ii(s[c])&&(r+=Pi(i)+":"+Ri(i,s[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=Ai,l=n(e);return Ai=a,Ni(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var Ai,Oi=/label:\s*([^\s;{]+)\s*(;|$)/g;function Mi(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";Ai=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=Ni(n,t,i)):o+=i[0];for(var s=1;s<e.length;s++){if(o+=Ni(n,t,e[s]),r)o+=i[s]}Oi.lastIndex=0;for(var a,l="";null!==(a=Oi.exec(o));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:c,styles:o,next:Ai}}var Di=!!o.useInsertionEffect&&o.useInsertionEffect,Li=Di||function(e){return e()},Fi=Di||r.useLayoutEffect,ji=r.createContext("undefined"!==typeof HTMLElement?bi({key:"css"}):null),zi=(ji.Provider,function(e){return(0,r.forwardRef)(function(t,n){var o=(0,r.useContext)(ji);return e(t,o,n)})}),Ui=r.createContext({});var Vi={}.hasOwnProperty,Bi="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Wi=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return _i(t,n,r),Li(function(){return Si(t,n,r)}),null},qi=zi(function(e,t,n){var o=e.css;"string"===typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var i=e[Bi],s=[o],a="";"string"===typeof e.className?a=wi(t.registered,s,e.className):null!=e.className&&(a=e.className+" ");var l=Mi(s,void 0,r.useContext(Ui));a+=t.key+"-"+l.name;var c={};for(var u in e)Vi.call(e,u)&&"css"!==u&&u!==Bi&&(c[u]=e[u]);return c.className=a,n&&(c.ref=n),r.createElement(r.Fragment,null,r.createElement(Wi,{cache:t,serialized:l,isStringTag:"string"===typeof i}),r.createElement(i,c))}),Hi=qi;const Ki=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(Ui);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n};function Gi(e,t,n,o,i){const[s,a]=r.useState(()=>i&&n?n(e).matches:o?o(e).matches:t);return po(()=>{if(!n)return;const t=n(e),r=()=>{a(t.matches)};return r(),t.addEventListener("change",r),()=>{t.removeEventListener("change",r)}},[e,n]),s}const Yi=h({},o).useSyncExternalStore;function Qi(e,t,n,o,i){const s=r.useCallback(()=>t,[t]),a=r.useMemo(()=>{if(i&&n)return()=>n(e).matches;if(null!==o){const{matches:t}=o(e);return()=>t}return s},[s,e,o,i,n]),[l,c]=r.useMemo(()=>{if(null===n)return[s,()=>()=>{}];const t=n(e);return[()=>t.matches,e=>(t.addEventListener("change",e),()=>{t.removeEventListener("change",e)})]},[s,n,e]);return Yi(c,l,a)}function $i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t}=e;return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Ki();r&&t&&(r=r[t]||r);const o="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,{defaultMatches:i=!1,matchMedia:s=(o?window.matchMedia:null),ssrMatchMedia:a=null,noSsr:l=!1}=vo({name:"MuiUseMediaQuery",props:n,theme:r});let c="function"===typeof e?e(r):e;c=c.replace(/^@media( ?)/m,""),c.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join("\n"));return(void 0!==Yi?Qi:Gi)(c,i,s,a,l)}}$i();const Xi="$$material",Ji=$i({themeId:Xi});const Zi=r.createContext(null);function es(){return r.useContext(Zi)}const ts="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var ns=n(579);const rs=function(e){const{children:t,theme:n}=e,o=es(),i=r.useMemo(()=>{const e=null===o?h({},n):function(e,t){if("function"===typeof t)return t(e);return h(h({},e),t)}(o,n);return null!=e&&(e[ts]=null!==o),e},[n,o]);return(0,ns.jsx)(Zi.Provider,{value:i,children:t})},os=["value"],is=r.createContext();const ss=()=>{const e=r.useContext(is);return null!==e&&void 0!==e&&e},as=function(e){let{value:t}=e,n=a(e,os);return(0,ns.jsx)(is.Provider,h({value:null===t||void 0===t||t},n))},ls=r.createContext(void 0);function cs(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const o=t.components[n];return o.defaultProps?go(o.defaultProps,r,t.components.mergeClassNameAndStyle):o.styleOverrides||o.variants?r:go(o,r,t.components.mergeClassNameAndStyle)}({props:t,name:n,theme:{components:r.useContext(ls)}})}const us=function(e){let{value:t,children:n}=e;return(0,ns.jsx)(ls.Provider,{value:t,children:n})};let ds=0;const hs=h({},o).useId;function ps(e){if(void 0!==hs){const t=hs();return null!==e&&void 0!==e?e:t}return function(e){const[t,n]=r.useState(e),o=e||t;return r.useEffect(()=>{null==t&&(ds+=1,n("mui-".concat(ds)))},[t]),o}(e)}function fs(){return fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fs.apply(null,arguments)}var ms=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,gs=ki(function(e){return ms.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),vs=function(e){return"theme"!==e},ys=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?gs:vs},bs=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},ws=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return _i(t,n,r),Li(function(){return Si(t,n,r)}),null},_s=function e(t,n){var o,i,s=t.__emotion_real===t,a=s&&t.__emotion_base||t;void 0!==n&&(o=n.label,i=n.target);var l=bs(t,n,s),c=l||ys(a),u=!c("as");return function(){var d=arguments,h=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&h.push("label:"+o+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{var p=d[0];h.push(p[0]);for(var f=d.length,m=1;m<f;m++)h.push(d[m],p[m])}var g=zi(function(e,t,n){var o=u&&e.as||a,s="",d=[],p=e;if(null==e.theme){for(var f in p={},e)p[f]=e[f];p.theme=r.useContext(Ui)}"string"===typeof e.className?s=wi(t.registered,d,e.className):null!=e.className&&(s=e.className+" ");var m=Mi(h.concat(d),t.registered,p);s+=t.key+"-"+m.name,void 0!==i&&(s+=" "+i);var g=u&&void 0===l?ys(o):c,v={};for(var y in e)u&&"as"===y||g(y)&&(v[y]=e[y]);return v.className=s,n&&(v.ref=n),r.createElement(r.Fragment,null,r.createElement(ws,{cache:t,serialized:m,isStringTag:"string"===typeof o}),r.createElement(o,v))});return g.displayName=void 0!==o?o:"Styled("+("string"===typeof a?a:a.displayName||a.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=a,g.__emotion_styles=h,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+i}}),g.withComponent=function(t,r){return e(t,fs({},n,r,{shouldForwardProp:bs(g,r,!0)})).apply(void 0,h)},g}}.bind(null);function Ss(e,t){return _s(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){_s[e]=_s(e)});const Cs=[];function ks(e){return Cs[0]=e,Mi(Cs)}n(219);var Es=function(e,t){var n=arguments;if(null==t||!Vi.call(t,"css"))return r.createElement.apply(void 0,n);var o=n.length,i=new Array(o);i[0]=Hi,i[1]=function(e,t){var n={};for(var r in t)Vi.call(t,r)&&(n[r]=t[r]);return n[Bi]=e,n}(e,t);for(var s=2;s<o;s++)i[s]=n[s];return r.createElement.apply(null,i)};!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(Es||(Es={}));var xs=zi(function(e,t){var n=Mi([e.styles],void 0,r.useContext(Ui)),o=r.useRef();return Fi(function(){var e=t.key+"-global",r=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),i=!1,s=document.querySelector('style[data-emotion="'+e+" "+n.name+'"]');return t.sheet.tags.length&&(r.before=t.sheet.tags[0]),null!==s&&(i=!0,s.setAttribute("data-emotion",e),r.hydrate([s])),o.current=[r,i],function(){r.flush()}},[t]),Fi(function(){var e=o.current,r=e[0];if(e[1])e[1]=!1;else{if(void 0!==n.next&&Si(t,n.next,!0),r.tags.length){var i=r.tags[r.tags.length-1].nextElementSibling;r.before=i,r.flush()}t.insert("",n,r,!1)}},[t,n.name]),null});function Ts(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Mi(t)}function Is(){var e=Ts.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Ps(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,ns.jsx)(xs,{styles:r})}const Rs=xr();const Ns=function(){return Ki(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rs)};function As(e){const t=ks(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles="@layer global{".concat(t.styles,"}")),t):e}const Os=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const o=Ns(r),i=n&&o[n]||o;let s="function"===typeof t?t(i):t;return i.modularCssLayers&&(s=Array.isArray(s)?s.map(e=>As("function"===typeof e?e(i):e)):As(s)),(0,ns.jsx)(Ps,{styles:s})};const Ms={};function Ds(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r.useMemo(()=>{const r=e&&t[e]||t;if("function"===typeof n){const i=n(r),s=e?h(h({},t),{},{[e]:i}):i;return o?()=>s:s}return e?h(h({},t),{},{[e]:n}):h(h({},t),n)},[e,t,n,o])}const Ls=function(e){const{children:t,theme:n,themeId:r}=e,o=Ki(Ms),i=es()||Ms,s=Ds(r,o,n),a=Ds(r,i,n,!0),l="rtl"===(r?s[r]:s).direction,c=function(e){const t=Ki(),n=ps()||"",{modularCssLayers:r}=e;let o="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return o=r&&null===t?"string"===typeof r?r.replace(/mui(?!\.)/g,o):"@layer ".concat(o,";"):"",po(()=>{const e=document.querySelector("head");if(!e)return;const t=e.firstChild;if(o){var r;if(t&&null!==(r=t.hasAttribute)&&void 0!==r&&r.call(t,"data-mui-layer-order")&&t.getAttribute("data-mui-layer-order")===n)return;const i=document.createElement("style");i.setAttribute("data-mui-layer-order",n),i.textContent=o,e.prepend(i)}else{var i;null===(i=e.querySelector('style[data-mui-layer-order="'.concat(n,'"]')))||void 0===i||i.remove()}},[o,n]),o?(0,ns.jsx)(Os,{styles:o}):null}(s);return(0,ns.jsx)(rs,{theme:a,children:(0,ns.jsx)(Ui.Provider,{value:s,children:(0,ns.jsx)(as,{value:l,children:(0,ns.jsxs)(us,{value:r?s[r].components:s.components,children:[c,t]})})})})},Fs=["theme"];function js(e){let{theme:t}=e,n=a(e,Fs);const r=Xi in t?t[Xi]:void 0;return(0,ns.jsx)(Ls,h(h({},n),{},{themeId:r?Xi:void 0,theme:r||t}))}const zs="mode",Us="color-scheme",Vs="data-color-scheme";function Bs(){}const Ws=e=>{let{key:t,storageWindow:n}=e;return n||"undefined"===typeof window||(n=window),{get(e){if("undefined"===typeof window)return;if(!n)return e;let r;try{r=n.localStorage.getItem(t)}catch(o){}return r||e},set:e=>{if(n)try{n.localStorage.setItem(t,e)}catch(r){}},subscribe:e=>{if(!n)return Bs;const r=n=>{const r=n.newValue;n.key===t&&e(r)};return n.addEventListener("storage",r),()=>{n.removeEventListener("storage",r)}}}};function qs(){}function Hs(e){if("undefined"!==typeof window&&"function"===typeof window.matchMedia&&"system"===e){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}}function Ks(e,t){return"light"===e.mode||"system"===e.mode&&"light"===e.systemMode?t("light"):"dark"===e.mode||"system"===e.mode&&"dark"===e.systemMode?t("dark"):void 0}function Gs(e){const{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:o,supportedColorSchemes:i=[],modeStorageKey:s=zs,colorSchemeStorageKey:a=Us,storageWindow:l=("undefined"===typeof window?void 0:window),storageManager:c=Ws,noSsr:u=!1}=e,d=i.join(","),p=i.length>1,f=r.useMemo(()=>null===c||void 0===c?void 0:c({key:s,storageWindow:l}),[c,s,l]),m=r.useMemo(()=>null===c||void 0===c?void 0:c({key:"".concat(a,"-light"),storageWindow:l}),[c,a,l]),g=r.useMemo(()=>null===c||void 0===c?void 0:c({key:"".concat(a,"-dark"),storageWindow:l}),[c,a,l]),[v,y]=r.useState(()=>{const e=(null===f||void 0===f?void 0:f.get(t))||t,r=(null===m||void 0===m?void 0:m.get(n))||n,i=(null===g||void 0===g?void 0:g.get(o))||o;return{mode:e,systemMode:Hs(e),lightColorScheme:r,darkColorScheme:i}}),[b,w]=r.useState(u||!p);r.useEffect(()=>{w(!0)},[]);const _=function(e){return Ks(e,t=>"light"===t?e.lightColorScheme:"dark"===t?e.darkColorScheme:void 0)}(v),S=r.useCallback(e=>{y(n=>{if(e===n.mode)return n;const r=null!==e&&void 0!==e?e:t;return null===f||void 0===f||f.set(r),h(h({},n),{},{mode:r,systemMode:Hs(r)})})},[f,t]),C=r.useCallback(e=>{e?"string"===typeof e?e&&!d.includes(e)?console.error("`".concat(e,"` does not exist in `theme.colorSchemes`.")):y(t=>{const n=h({},t);return Ks(t,t=>{"light"===t&&(null===m||void 0===m||m.set(e),n.lightColorScheme=e),"dark"===t&&(null===g||void 0===g||g.set(e),n.darkColorScheme=e)}),n}):y(t=>{const r=h({},t),i=null===e.light?n:e.light,s=null===e.dark?o:e.dark;return i&&(d.includes(i)?(r.lightColorScheme=i,null===m||void 0===m||m.set(i)):console.error("`".concat(i,"` does not exist in `theme.colorSchemes`."))),s&&(d.includes(s)?(r.darkColorScheme=s,null===g||void 0===g||g.set(s)):console.error("`".concat(s,"` does not exist in `theme.colorSchemes`."))),r}):y(e=>(null===m||void 0===m||m.set(n),null===g||void 0===g||g.set(o),h(h({},e),{},{lightColorScheme:n,darkColorScheme:o})))},[d,m,g,n,o]),k=r.useCallback(e=>{"system"===v.mode&&y(t=>{const n=null!==e&&void 0!==e&&e.matches?"dark":"light";return t.systemMode===n?t:h(h({},t),{},{systemMode:n})})},[v.mode]),E=r.useRef(k);return E.current=k,r.useEffect(()=>{if("function"!==typeof window.matchMedia||!p)return;const e=function(){return E.current(...arguments)},t=window.matchMedia("(prefers-color-scheme: dark)");return t.addListener(e),e(t),()=>{t.removeListener(e)}},[p]),r.useEffect(()=>{if(p){const e=(null===f||void 0===f?void 0:f.subscribe(e=>{e&&!["light","dark","system"].includes(e)||S(e||t)}))||qs,n=(null===m||void 0===m?void 0:m.subscribe(e=>{e&&!d.match(e)||C({light:e})}))||qs,r=(null===g||void 0===g?void 0:g.subscribe(e=>{e&&!d.match(e)||C({dark:e})}))||qs;return()=>{e(),n(),r()}}},[C,S,d,t,l,p,f,m,g]),h(h({},v),{},{mode:b?v.mode:void 0,systemMode:b?v.systemMode:void 0,colorScheme:b?_:void 0,setMode:S,setColorScheme:C})}const Ys={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"};const{CssVarsProvider:Qs,useColorScheme:$s,getInitColorSchemeScript:Xs}=function(e){const{themeId:t,theme:n={},modeStorageKey:o=zs,colorSchemeStorageKey:i=Us,disableTransitionOnChange:s=!1,defaultColorScheme:a,resolveTheme:l}=e,c={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},u=r.createContext(void 0),d={},p={},f="string"===typeof a?a:a.light,m="string"===typeof a?a:a.dark;return{CssVarsProvider:function(e){var c,f,m;const{children:g,theme:v,modeStorageKey:y=o,colorSchemeStorageKey:b=i,disableTransitionOnChange:w=s,storageManager:_,storageWindow:S=("undefined"===typeof window?void 0:window),documentNode:C=("undefined"===typeof document?void 0:document),colorSchemeNode:k=("undefined"===typeof document?void 0:document.documentElement),disableNestedContext:E=!1,disableStyleSheetGeneration:x=!1,defaultMode:T="system",forceThemeRerender:I=!1,noSsr:P}=e,R=r.useRef(!1),N=es(),A=r.useContext(u),O=!!A&&!E,M=r.useMemo(()=>v||("function"===typeof n?n():n),[v]),D=M[t],L=D||M,{colorSchemes:F=d,components:j=p,cssVarPrefix:z}=L,U=Object.keys(F).filter(e=>!!F[e]).join(","),V=r.useMemo(()=>U.split(","),[U]),B="string"===typeof a?a:a.light,W="string"===typeof a?a:a.dark,q=F[B]&&F[W]?T:(null===(c=F[L.defaultColorScheme])||void 0===c||null===(c=c.palette)||void 0===c?void 0:c.mode)||(null===(f=L.palette)||void 0===f?void 0:f.mode),{mode:H,setMode:K,systemMode:G,lightColorScheme:Y,darkColorScheme:Q,colorScheme:$,setColorScheme:X}=Gs({supportedColorSchemes:V,defaultLightColorScheme:B,defaultDarkColorScheme:W,modeStorageKey:y,colorSchemeStorageKey:b,defaultMode:q,storageManager:_,storageWindow:S,noSsr:P});let J=H,Z=$;O&&(J=A.mode,Z=A.colorScheme);let ee=Z||L.defaultColorScheme;L.vars&&!I&&(ee=L.defaultColorScheme);const te=r.useMemo(()=>{var e;const t=(null===(e=L.generateThemeVars)||void 0===e?void 0:e.call(L))||L.vars,n=h(h({},L),{},{components:j,colorSchemes:F,cssVarPrefix:z,vars:t});if("function"===typeof n.generateSpacing&&(n.spacing=n.generateSpacing()),ee){const e=F[ee];e&&"object"===typeof e&&Object.keys(e).forEach(t=>{e[t]&&"object"===typeof e[t]?n[t]=h(h({},n[t]),e[t]):n[t]=e[t]})}return l?l(n):n},[L,ee,j,F,z]),ne=L.colorSchemeSelector;po(()=>{if(Z&&k&&ne&&"media"!==ne){const e=ne;let t=ne;if("class"===e&&(t=".%s"),"data"===e&&(t="[data-%s]"),null!==e&&void 0!==e&&e.startsWith("data-")&&!e.includes("%s")&&(t="[".concat(e,'="%s"]')),t.startsWith("."))k.classList.remove(...V.map(e=>t.substring(1).replace("%s",e))),k.classList.add(t.substring(1).replace("%s",Z));else{const e=t.replace("%s",Z).match(/\[([^\]]+)\]/);if(e){const[t,n]=e[1].split("=");n||V.forEach(e=>{k.removeAttribute(t.replace(Z,e))}),k.setAttribute(t,n?n.replace(/"|'/g,""):"")}else k.setAttribute(t,Z)}}},[Z,ne,k,V]),r.useEffect(()=>{let e;if(w&&R.current&&C){const t=C.createElement("style");t.appendChild(C.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),C.head.appendChild(t),window.getComputedStyle(C.body),e=setTimeout(()=>{C.head.removeChild(t)},1)}return()=>{clearTimeout(e)}},[Z,w,C]),r.useEffect(()=>(R.current=!0,()=>{R.current=!1}),[]);const re=r.useMemo(()=>({allColorSchemes:V,colorScheme:Z,darkColorScheme:Q,lightColorScheme:Y,mode:J,setColorScheme:X,setMode:K,systemMode:G}),[V,Z,Q,Y,J,X,K,G,te.colorSchemeSelector]);let oe=!0;(x||!1===L.cssVariables||O&&(null===N||void 0===N?void 0:N.cssVarPrefix)===z)&&(oe=!1);const ie=(0,ns.jsxs)(r.Fragment,{children:[(0,ns.jsx)(Ls,{themeId:D?t:void 0,theme:te,children:g}),oe&&(0,ns.jsx)(Ps,{styles:(null===(m=te.generateStyleSheets)||void 0===m?void 0:m.call(te))||[]})]});return O?ie:(0,ns.jsx)(u.Provider,{value:re,children:ie})},useColorScheme:()=>r.useContext(u)||c,getInitColorSchemeScript:e=>function(e){const{defaultMode:t="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:o=zs,colorSchemeStorageKey:i=Us,attribute:s=Vs,colorSchemeNode:a="document.documentElement",nonce:l}=e||{};let c="",u=s;if("class"===s&&(u=".%s"),"data"===s&&(u="[data-%s]"),u.startsWith(".")){const e=u.substring(1);c+="".concat(a,".classList.remove('").concat(e,"'.replace('%s', light), '").concat(e,"'.replace('%s', dark));\n      ").concat(a,".classList.add('").concat(e,"'.replace('%s', colorScheme));")}const d=u.match(/\[([^[\]]+)\]/);if(d){const[e,t]=d[1].split("=");t||(c+="".concat(a,".removeAttribute('").concat(e,"'.replace('%s', light));\n      ").concat(a,".removeAttribute('").concat(e,"'.replace('%s', dark));")),c+="\n      ".concat(a,".setAttribute('").concat(e,"'.replace('%s', colorScheme), ").concat(t?"".concat(t,".replace('%s', colorScheme)"):'""',");")}else c+="".concat(a,".setAttribute('").concat(u,"', colorScheme);");return(0,ns.jsx)("script",{suppressHydrationWarning:!0,nonce:"undefined"===typeof window?l:"",dangerouslySetInnerHTML:{__html:"(function() {\ntry {\n  let colorScheme = '';\n  const mode = localStorage.getItem('".concat(o,"') || '").concat(t,"';\n  const dark = localStorage.getItem('").concat(i,"-dark') || '").concat(r,"';\n  const light = localStorage.getItem('").concat(i,"-light') || '").concat(n,"';\n  if (mode === 'system') {\n    // handle system mode\n    const mql = window.matchMedia('(prefers-color-scheme: dark)');\n    if (mql.matches) {\n      colorScheme = dark\n    } else {\n      colorScheme = light\n    }\n  }\n  if (mode === 'light') {\n    colorScheme = light;\n  }\n  if (mode === 'dark') {\n    colorScheme = dark;\n  }\n  if (colorScheme) {\n    ").concat(c,"\n  }\n} catch(e){}})();")}},"mui-color-scheme-init")}(h({colorSchemeStorageKey:i,defaultLightColorScheme:f,defaultDarkColorScheme:m,modeStorageKey:o},e))}}({themeId:Xi,theme:()=>ho({cssVariables:!0}),colorSchemeStorageKey:Ys.colorSchemeStorageKey,modeStorageKey:Ys.modeStorageKey,defaultColorScheme:{light:Ys.defaultLightColorScheme,dark:Ys.defaultDarkColorScheme},resolveTheme:e=>{const t=h(h({},e),{},{typography:Nr(e.palette,e.typography)});return t.unstable_sx=function(e){return wr({sx:e,theme:this})},t}});const Js=Qs,Zs=["theme"];function ea(e){let{theme:t}=e,n=a(e,Zs);const o=r.useMemo(()=>{if("function"===typeof t)return t;const e=Xi in t?t[Xi]:t;return"colorSchemes"in e?null:"vars"in e?t:h(h({},t),{},{vars:null})},[t]);return o?(0,ns.jsx)(js,h({theme:o},n)):(0,ns.jsx)(Js,h({theme:t},n))}const ta=["sx"];function na(e){const{sx:t}=e,n=a(e,ta),{systemProps:r,otherProps:o}=(e=>{var t,n;const r={systemProps:{},otherProps:{}},o=null!==(t=null===e||void 0===e||null===(n=e.theme)||void 0===n?void 0:n.unstable_sxConfig)&&void 0!==t?t:yr;return Object.keys(e).forEach(t=>{o[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]}),r})(n);let i;return i=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return Rt(e)?h(h({},r),e):r}:h(h({},r),t),h(h({},o),{},{sx:i})}const ra=["className","component"];const oa=e=>e,ia=(()=>{let e=oa;return{configure(t){e=t},generate:t=>e(t),reset(){e=oa}}})(),sa={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function aa(e,t){const n=sa[t];return n?"".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui","-").concat(n):"".concat(ia.generate(e),"-").concat(t)}function la(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach(t=>{r[t]=aa(e,t,n)}),r}const ca=la("MuiBox",["root"]),ua=ho(),da=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n,defaultClassName:o="MuiBox-root",generateClassName:i}=e,s=Ss("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(wr),l=r.forwardRef(function(e,r){const l=Ns(n),c=na(e),{className:u,component:d="div"}=c,p=a(c,ra);return(0,ns.jsx)(s,h({as:d,ref:r,className:mo(u,i?i(o):o),theme:t&&l[t]||l},p))});return l}({themeId:Xi,defaultTheme:ua,defaultClassName:ca.root,generateClassName:ia.generate}),ha=da;function pa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function fa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};for(const o in e){const i=e[o];let s="",a=!0;for(let e=0;e<i.length;e+=1){const r=i[e];r&&(s+=(!0===a?"":" ")+t(r),a=!1,n&&n[r]&&(s+=" "+n[r]))}r[o]=s}return r}const ma=["variants"];function ga(e){const{variants:t}=e,n=a(e,ma),r={variants:t,style:ks(n),isProcessed:!0};return r.style===n||t&&t.forEach(e=>{"function"!==typeof e.style&&(e.style=ks(e.style))}),r}const va=["variants"],ya=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],ba=xr();function wa(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function _a(e,t){return t&&e&&"object"===typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles="@layer ".concat(t,"{").concat(String(e.styles),"}")),e}function Sa(e){return e?(t,n)=>n[e]:null}function Ca(e,t,n){const r="function"===typeof t?t(e):t;if(Array.isArray(r))return r.flatMap(t=>Ca(e,t,n));if(Array.isArray(null===r||void 0===r?void 0:r.variants)){let t;if(r.isProcessed)t=n?_a(r.style,n):r.style;else{const{variants:e}=r,o=a(r,va);t=n?_a(ks(o),n):o}return ka(e,r.variants,[t],n)}return null!==r&&void 0!==r&&r.isProcessed?n?_a(ks(r.style),n):r.style:n?_a(ks(r),n):r}function ka(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;e:for(let s=0;s<t.length;s+=1){const a=t[s];if("function"===typeof a.props){if(null!==n&&void 0!==n||(n=h(h(h({},e),e.ownerState),{},{ownerState:e.ownerState})),!a.props(n))continue}else for(const t in a.props){var i;if(e[t]!==a.props[t]&&(null===(i=e.ownerState)||void 0===i?void 0:i[t])!==a.props[t])continue e}"function"===typeof a.style?(null!==n&&void 0!==n||(n=h(h(h({},e),e.ownerState),{},{ownerState:e.ownerState})),r.push(o?_a(ks(a.style(n)),o):a.style(n))):r.push(o?_a(ks(a.style),o):a.style)}return r}function Ea(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=ba,rootShouldForwardProp:r=wa,slotShouldForwardProp:o=wa}=e;function i(e){!function(e,t,n){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?n:e.theme[t]||e.theme}(e,t,n)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,e=>e.filter(e=>e!==wr));const{name:n,slot:s,skipVariantsResolver:l,skipSx:c,overridesResolver:u=Sa(Ta(s))}=t,d=a(t,ya),p=n&&n.startsWith("Mui")||s?"components":"custom",f=void 0!==l?l:s&&"Root"!==s&&"root"!==s||!1,m=c||!1;let g=wa;"Root"===s||"root"===s?g=r:s?g=o:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(g=void 0);const v=Ss(e,h({shouldForwardProp:g,label:xa(n,s)},d)),y=e=>{if(e.__emotion_real===e)return e;if("function"===typeof e)return function(t){return Ca(t,e,t.theme.modularCssLayers?p:void 0)};if(Rt(e)){const t=ga(e);return function(e){return t.variants?Ca(e,t,e.theme.modularCssLayers?p:void 0):e.theme.modularCssLayers?_a(t.style,p):t.style}}return e},b=function(){const t=[];for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];const a=o.map(y),l=[];if(t.push(i),n&&u&&l.push(function(e){var t;const r=null===(t=e.theme.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.styleOverrides;if(!r)return null;const o={};for(const n in r)o[n]=Ca(e,r[n],e.theme.modularCssLayers?"theme":void 0);return u(e,o)}),n&&!f&&l.push(function(e){var t;const r=e.theme,o=null===r||void 0===r||null===(t=r.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.variants;return o?ka(e,o,[],e.theme.modularCssLayers?"theme":void 0):null}),m||l.push(wr),Array.isArray(a[0])){const e=a.shift(),n=new Array(t.length).fill(""),r=new Array(l.length).fill("");let o;o=[...n,...e,...r],o.raw=[...n,...e.raw,...r],t.unshift(o)}const c=[...t,...a,...l],d=v(...c);return e.muiName&&(d.muiName=e.muiName),d};return v.withConfig&&(b.withConfig=v.withConfig),b}}function xa(e,t){}function Ta(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}const Ia=ho();const Pa=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},Ra=e=>Pa(e)&&"classes"!==e,Na=Ea({themeId:Xi,defaultTheme:Ia,rootShouldForwardProp:Ra}),Aa={theme:void 0};const Oa=function(e){let t,n;return function(r){let o=t;return void 0!==o&&r.theme===n||(Aa.theme=r.theme,o=ga(e(Aa)),t=o,n=r.theme),o}};function Ma(e){return cs(e)}const Da=bn;function La(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{let[,n]=t;return n&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!function(e){return"string"===typeof e.main}(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||"string"!==typeof e[n])return!1;return!0}(n,e)}}function Fa(e){return aa("MuiCircularProgress",e)}la("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const ja=["className","color","disableShrink","size","style","thickness","value","variant"];var za,Ua,Va,Ba;const Wa=44,qa=Is(za||(za=pa(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),Ha=Is(Ua||(Ua=pa(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: -126px;\n  }\n"]))),Ka="string"!==typeof qa?Ts(Va||(Va=pa(["\n        animation: "," 1.4s linear infinite;\n      "])),qa):null,Ga="string"!==typeof Ha?Ts(Ba||(Ba=pa(["\n        animation: "," 1.4s ease-in-out infinite;\n      "])),Ha):null,Ya=Na("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["color".concat(Da(n.color))]]}})(Oa(e=>{let{theme:t}=e;return{display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Ka||{animation:"".concat(qa," 1.4s linear infinite")}},...Object.entries(t.palette).filter(La()).map(e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})]}})),Qa=Na("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),$a=Na("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t["circle".concat(Da(n.variant))],n.disableShrink&&t.circleDisableShrink]}})(Oa(e=>{let{theme:t}=e;return{stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink},style:Ga||{animation:"".concat(Ha," 1.4s ease-in-out infinite")}}]}})),Xa=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiCircularProgress"}),{className:r,color:o="primary",disableShrink:i=!1,size:s=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=n,p=a(n,ja),f=h(h({},n),{},{color:o,disableShrink:i,size:s,thickness:c,value:u,variant:d}),m=(e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e;return fa({root:["root",n,"color".concat(Da(r))],svg:["svg"],circle:["circle","circle".concat(Da(n)),o&&"circleDisableShrink"]},Fa,t)})(f),g={},v={},y={};if("determinate"===d){const e=2*Math.PI*((Wa-c)/2);g.strokeDasharray=e.toFixed(3),y["aria-valuenow"]=Math.round(u),g.strokeDashoffset="".concat(((100-u)/100*e).toFixed(3),"px"),v.transform="rotate(-90deg)"}return(0,ns.jsx)(Ya,h(h(h({className:mo(m.root,r),style:h(h({width:s,height:s},v),l),ownerState:f,ref:t,role:"progressbar"},y),p),{},{children:(0,ns.jsx)(Qa,{className:m.svg,ownerState:f,viewBox:"".concat(22," ").concat(22," ").concat(Wa," ").concat(Wa),children:(0,ns.jsx)($a,{className:m.circle,style:g,ownerState:f,cx:Wa,cy:Wa,r:(Wa-c)/2,fill:"none",strokeWidth:c})})}))}),Ja=Xa;const Za=function(e){return(0,ns.jsx)(Os,h(h({},e),{},{defaultTheme:Ia,themeId:Xi}))};function el(e){return function(t){return(0,ns.jsx)(Za,{styles:"function"===typeof e?n=>e(h({theme:n},t)):e})}}const tl="function"===typeof el({}),nl=(e,t)=>h({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),rl=e=>h(h({color:(e.vars||e).palette.text.primary},e.typography.body1),{},{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),ol=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r={};n&&e.colorSchemes&&"function"===typeof e.getColorSchemeSelector&&Object.entries(e.colorSchemes).forEach(t=>{let[n,o]=t;const i=e.getColorSchemeSelector(n);var s,a;i.startsWith("@")?r[i]={":root":{colorScheme:null===(s=o.palette)||void 0===s?void 0:s.mode}}:r[i.replace(/\s*&/,"")]={colorScheme:null===(a=o.palette)||void 0===a?void 0:a.mode}});let o=h({html:nl(e,n),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:h(h({margin:0},rl(e)),{},{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const i=null===(t=e.components)||void 0===t||null===(t=t.MuiCssBaseline)||void 0===t?void 0:t.styleOverrides;return i&&(o=[o,i]),o},il="mui-ecs",sl=el(tl?e=>{let{theme:t,enableColorScheme:n}=e;return ol(t,n)}:e=>{let{theme:t}=e;return(e=>{const t=ol(e,!1),n=Array.isArray(t)?t[0]:t;return!e.vars&&n&&(n.html[":root:has(".concat(il,")")]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach(t=>{let[r,o]=t;const i=e.getColorSchemeSelector(r);var s,a;i.startsWith("@")?n[i]={[":root:not(:has(.".concat(il,"))")]:{colorScheme:null===(s=o.palette)||void 0===s?void 0:s.mode}}:n[i.replace(/\s*&/,"")]={["&:not(:has(.".concat(il,"))")]:{colorScheme:null===(a=o.palette)||void 0===a?void 0:a.mode}}}),t})(t)});const al=function(e){const t=Ma({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:o=!1}=t;return(0,ns.jsxs)(r.Fragment,{children:[tl&&(0,ns.jsx)(sl,{enableColorScheme:o}),!tl&&!o&&(0,ns.jsx)("span",{className:il,style:{display:"none"}}),n]})},ll=!1,cl=!1,ul="${JSCORE_VERSION}",dl=function(e,t){if(!e)throw hl(t)},hl=function(e){return new Error("Firebase Database ("+ul+") INTERNAL ASSERT FAILED: "+e)},pl=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},fl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const t=e[o],i=o+1<e.length,s=i?e[o+1]:0,a=o+2<e.length,l=a?e[o+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(pl(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const t=n[e.charAt(o++)],i=o<e.length?n[e.charAt(o)]:0;++o;const s=o<e.length?n[e.charAt(o)]:64;++o;const a=o<e.length?n[e.charAt(o)]:64;if(++o,null==t||null==i||null==s||null==a)throw new ml;const l=t<<2|i>>4;if(r.push(l),64!==s){const e=i<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ml extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gl=function(e){const t=pl(e);return fl.encodeByteArray(t,!0)},vl=function(e){return gl(e).replace(/\./g,"")},yl=function(e){try{return fl.decodeString(e,!0)}catch(gV){console.error("base64Decode failed: ",gV)}return null};function bl(e){return wl(void 0,e)}function wl(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&_l(n)&&(e[n]=wl(e[n],t[n]));return e}function _l(e){return"__proto__"!==e}function Sl(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Cl=()=>{try{return Sl().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/my-new-chat-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GEMINI_API_KEY:"AIzaSyB4Y3RIiX6Mrai8aXYtIKnx2bAgfFkR-G8"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(gV){return}const t=e&&yl(e[1]);return t&&JSON.parse(t)})()}catch(gV){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(gV))}},kl=e=>{var t;return null===(t=Cl())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},El=e=>{const t=kl(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},xl=()=>{var e;return null===(e=Cl())||void 0===e?void 0:e.config},Tl=e=>{var t;return null===(t=Cl())||void 0===t?void 0:t["_".concat(e)]};class Il{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Pl(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function Rl(e){return(await fetch(e,{credentials:"include"})).ok}function Nl(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=h({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[vl(JSON.stringify({alg:"none",type:"JWT"})),vl(JSON.stringify(i)),""].join(".")}const Al={};let Ol=!1;function Ml(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Pl(window.location.host)||Al[e]===t||Al[e]||Ol)return;function n(e){return"__firebase__banner__".concat(e)}Al[e]=t;const r="__firebase__banner",o=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Al))Al[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Ol=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}o?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function Dl(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ll(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dl())}function Fl(){var e;const t=null===(e=Cl())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(gV){return!1}}function jl(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function zl(){return!0===ll||!0===cl}function Ul(){return!Fl()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vl(){try{return"object"===typeof indexedDB}catch(gV){return!1}}function Bl(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(Df){t(Df)}})}class Wl extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Wl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],o=r?function(e,t){return e.replace(Hl,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",i="".concat(this.serviceName,": ").concat(o," (").concat(n,").");return new Wl(n,i,t)}}const Hl=/\{\$([^}]+)}/g;function Kl(e){return JSON.parse(e)}function Gl(e){return JSON.stringify(e)}const Yl=function(e){let t={},n={},r={},o="";try{const i=e.split(".");t=Kl(yl(i[0])||""),n=Kl(yl(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch(gV){}return{header:t,claims:n,data:r,signature:o}};function Ql(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $l(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Xl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Jl(e,t,n){const r={};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r}function Zl(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],i=t[o];if(ec(n)&&ec(i)){if(!Zl(n,i))return!1}else if(n!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function ec(e){return null!==e&&"object"===typeof e}function tc(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function nc(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function rc(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class oc{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,o,i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^s&(a^l),o=1518500249):(r=s^a^l,o=1859775393):u<60?(r=s&a|l&(s|a),o=2400959708):(r=s^a^l,o=3395469782);const e=(i<<5|i>>>27)+r+c+o+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=i,i=e}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const o=this.buf_;let i=this.inbuf_;for(;r<t;){if(0===i)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(o[i]=e.charCodeAt(r),++i,++r,i===this.blockSize){this.compress_(o),i=0;break}}else for(;r<t;)if(o[i]=e[r],++i,++r,i===this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class ic{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=sc),void 0===r.error&&(r.error=sc),void 0===r.complete&&(r.complete=sc);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(gV){}}),this.observers.push(r),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(gV){"undefined"!==typeof console&&console.error&&console.error(gV)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sc(){}function ac(e,t){return"".concat(e," failed: ").concat(t," argument ")}const lc=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function cc(e){return e&&e._delegate?e._delegate:e}class uc{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const dc="[DEFAULT]";class hc{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Il;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(gV){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(gV){if(r)return null;throw gV}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:dc})}catch(gV){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(gV){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dc;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dc;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dc;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(o)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const i=this.instances.get(r);return i&&e(i,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const o of n)try{o(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pc(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dc;return this.component?this.component.multipleInstances?e:dc:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function pc(e){return e===dc?void 0:e}class fc{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new hc(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const mc=[];var gc;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(gc||(gc={}));const vc={debug:gc.DEBUG,verbose:gc.VERBOSE,info:gc.INFO,warn:gc.WARN,error:gc.ERROR,silent:gc.SILENT},yc=gc.INFO,bc={[gc.DEBUG]:"log",[gc.VERBOSE]:"log",[gc.INFO]:"info",[gc.WARN]:"warn",[gc.ERROR]:"error"},wc=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=bc[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var o=arguments.length,i=new Array(o>2?o-2:0),s=2;s<o;s++)i[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class _c{constructor(e){this.name=e,this._logLevel=yc,this._logHandler=wc,this._userLogHandler=null,mc.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gc))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?vc[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gc.DEBUG,...t),this._logHandler(this,gc.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gc.VERBOSE,...t),this._logHandler(this,gc.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gc.INFO,...t),this._logHandler(this,gc.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gc.WARN,...t),this._logHandler(this,gc.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gc.ERROR,...t),this._logHandler(this,gc.ERROR,...t)}}let Sc,Cc;const kc=new WeakMap,Ec=new WeakMap,xc=new WeakMap,Tc=new WeakMap,Ic=new WeakMap;let Pc={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ec.get(e);if("objectStoreNames"===t)return e.objectStoreNames||xc.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ac(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Rc(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Cc||(Cc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Oc(this),n),Ac(kc.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ac(e.apply(Oc(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const i=e.call(Oc(this),t,...r);return xc.set(i,t.sort?t.sort():[t]),Ac(i)}}function Nc(e){return"function"===typeof e?Rc(e):(e instanceof IDBTransaction&&function(e){if(Ec.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)});Ec.set(e,t)}(e),t=e,(Sc||(Sc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Pc):e);var t}function Ac(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(Ac(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&kc.set(t,e)}).catch(()=>{}),Ic.set(t,e),t}(e);if(Tc.has(e))return Tc.get(e);const t=Nc(e);return t!==e&&(Tc.set(e,t),Ic.set(t,e)),t}const Oc=e=>Ic.get(e);function Mc(e,t){let{blocked:n,upgrade:r,blocking:o,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Ac(s);return r&&s.addEventListener("upgradeneeded",e=>{r(Ac(s.result),e.oldVersion,e.newVersion,Ac(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{i&&e.addEventListener("close",()=>i()),o&&e.addEventListener("versionchange",e=>o(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}function Dc(e){let{blocked:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",e=>t(e.oldVersion,e)),Ac(n).then(()=>{})}const Lc=["get","getKey","getAll","getAllKeys","count"],Fc=["put","add","delete","clear"],jc=new Map;function zc(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(jc.get(t))return jc.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=Fc.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!Lc.includes(n))return;const i=async function(e){const t=this.transaction(e,o?"readwrite":"readonly");let i=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(i=i.index(a.shift())),(await Promise.all([i[n](...a),o&&t.done]))[0]};return jc.set(t,i),i}Pc=(e=>h(h({},e),{},{get:(t,n,r)=>zc(t,n)||e.get(t,n,r),has:(t,n)=>!!zc(t,n)||e.has(t,n)}))(Pc);class Uc{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Vc="@firebase/app",Bc="0.14.2",Wc=new _c("@firebase/app"),qc="@firebase/app-compat",Hc="@firebase/analytics-compat",Kc="@firebase/analytics",Gc="@firebase/app-check-compat",Yc="@firebase/app-check",Qc="@firebase/auth",$c="@firebase/auth-compat",Xc="@firebase/database",Jc="@firebase/data-connect",Zc="@firebase/database-compat",eu="@firebase/functions",tu="@firebase/functions-compat",nu="@firebase/installations",ru="@firebase/installations-compat",ou="@firebase/messaging",iu="@firebase/messaging-compat",su="@firebase/performance",au="@firebase/performance-compat",lu="@firebase/remote-config",cu="@firebase/remote-config-compat",uu="@firebase/storage",du="@firebase/storage-compat",hu="@firebase/firestore",pu="@firebase/ai",fu="@firebase/firestore-compat",mu="firebase",gu="[DEFAULT]",vu={[Vc]:"fire-core",[qc]:"fire-core-compat",[Kc]:"fire-analytics",[Hc]:"fire-analytics-compat",[Yc]:"fire-app-check",[Gc]:"fire-app-check-compat",[Qc]:"fire-auth",[$c]:"fire-auth-compat",[Xc]:"fire-rtdb",[Jc]:"fire-data-connect",[Zc]:"fire-rtdb-compat",[eu]:"fire-fn",[tu]:"fire-fn-compat",[nu]:"fire-iid",[ru]:"fire-iid-compat",[ou]:"fire-fcm",[iu]:"fire-fcm-compat",[su]:"fire-perf",[au]:"fire-perf-compat",[lu]:"fire-rc",[cu]:"fire-rc-compat",[uu]:"fire-gcs",[du]:"fire-gcs-compat",[hu]:"fire-fst",[fu]:"fire-fst-compat",[pu]:"fire-vertex","fire-js":"fire-js",[mu]:"fire-js-all"},yu=new Map,bu=new Map,wu=new Map;function _u(e,t){try{e.container.addComponent(t)}catch(gV){Wc.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),gV)}}function Su(e){const t=e.name;if(wu.has(t))return Wc.debug("There were multiple attempts to register component ".concat(t,".")),!1;wu.set(t,e);for(const n of yu.values())_u(n,e);for(const n of bu.values())_u(n,e);return!0}function Cu(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ku(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Eu=new ql("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class xu{constructor(e,t,n){this._isDeleted=!1,this._options=h({},e),this._config=h({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new uc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eu.create("app-deleted",{appName:this._name})}}const Tu="12.2.0";function Iu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=h({name:gu,automaticDataCollectionEnabled:!0},t),o=r.name;if("string"!==typeof o||!o)throw Eu.create("bad-app-name",{appName:String(o)});if(n||(n=xl()),!n)throw Eu.create("no-options");const i=yu.get(o);if(i){if(Zl(n,i.options)&&Zl(r,i.config))return i;throw Eu.create("duplicate-app",{appName:o})}const s=new fc(o);for(const l of wu.values())s.addComponent(l);const a=new xu(n,r,s);return yu.set(o,a),a}function Pu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gu;const t=yu.get(e);if(!t&&e===gu&&xl())return Iu();if(!t)throw Eu.create("no-app",{appName:e});return t}function Ru(e,t,n){var r;let o=null!==(r=vu[e])&&void 0!==r?r:e;n&&(o+="-".concat(n));const i=o.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const e=['Unable to register library "'.concat(o,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(o,'" contains illegal characters (whitespace or "/")')),i&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Wc.warn(e.join(" "))}Su(new uc("".concat(o,"-version"),()=>({library:o,version:t}),"VERSION"))}const Nu="firebase-heartbeat-store";let Au=null;function Ou(){return Au||(Au=Mc("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Nu)}catch(gV){console.warn(gV)}}}).catch(e=>{throw Eu.create("idb-open",{originalErrorMessage:e.message})})),Au}async function Mu(e,t){try{const n=(await Ou()).transaction(Nu,"readwrite"),r=n.objectStore(Nu);await r.put(t,Du(e)),await n.done}catch(gV){if(gV instanceof Wl)Wc.warn(gV.message);else{const t=Eu.create("idb-set",{originalErrorMessage:null===gV||void 0===gV?void 0:gV.message});Wc.warn(t.message)}}}function Du(e){return"".concat(e.name,"!").concat(e.options.appId)}class Lu{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ju(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Fu();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(gV){Wc.warn(gV)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Fu(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const o of e){const e=n.find(e=>e.agent===o.agent);if(e){if(e.dates.push(o.date),zu(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),zu(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),o=vl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(gV){return Wc.warn(gV),""}}}function Fu(){return(new Date).toISOString().substring(0,10)}class ju{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Vl()&&Bl().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Ou()).transaction(Nu),n=await t.objectStore(Nu).get(Du(e));return await t.done,n}catch(gV){if(gV instanceof Wl)Wc.warn(gV.message);else{const t=Eu.create("idb-get",{originalErrorMessage:null===gV||void 0===gV?void 0:gV.message});Wc.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Mu(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Mu(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function zu(e){return vl(JSON.stringify({version:2,heartbeats:e})).length}var Uu;Uu="",Su(new uc("platform-logger",e=>new Uc(e),"PRIVATE")),Su(new uc("heartbeat",e=>new Lu(e),"PRIVATE")),Ru(Vc,Bc,Uu),Ru(Vc,Bc,"esm2020"),Ru("fire-js","");const Vu=["providerId"],Bu=["uid","auth","stsTokenManager"],Wu=["providerId","signInMethod"];function qu(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Hu=qu,Ku=new ql("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Gu=new _c("@firebase/auth");function Yu(e){if(Gu.logLevel<=gc.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Gu.error("Auth (".concat(Tu,"): ").concat(e),...n)}}function Qu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Zu(e,...n)}function $u(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Zu(e,...n)}function Xu(e,t,n){const r=h(h({},Hu()),{},{[t]:n});return new ql("auth","Firebase",r).create(t,{appName:e.name})}function Ju(e){return Xu(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Ku.create(e,...n)}function ed(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];throw Zu(t,...r)}}function td(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Yu(t),new Error(t)}function nd(e,t){e||td(t)}function rd(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function od(){return"http:"===id()||"https:"===id()}function id(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function sd(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(od()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class ad{constructor(e,t){this.shortDelay=e,this.longDelay=t,nd(t>e,"Short delay should be less than long delay!"),this.isMobile=Ll()||jl()}get(){return sd()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ld(e,t){nd(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class cd{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void td("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void td("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void td("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ud={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},dd=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hd=new ad(3e4,6e4);function pd(e,t){return e.tenantId&&!t.tenantId?h(h({},t),{},{tenantId:e.tenantId}):t}async function fd(e,t,n,r){return md(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let o={},i={};r&&("GET"===t?i=r:o={body:JSON.stringify(r)});const s=tc(h({key:e.config.apiKey},i)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=h({method:t,headers:a},o);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Pl(e.emulatorConfig.host)&&(l.credentials="include"),cd.fetch()(await vd(e,e.config.apiHost,n,s),l)})}async function md(e,t,n){e._canInitEmulator=!1;const r=h(h({},ud),t);try{const t=new bd(e),o=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw wd(e,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const t=o.ok?i.errorMessage:i.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw wd(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw wd(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw wd(e,"user-disabled",i);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Xu(e,a,s);Qu(e,a)}}catch(gV){if(gV instanceof Wl)throw gV;Qu(e,"network-request-failed",{message:String(gV)})}}async function gd(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await fd(e,t,n,r,o);return"mfaPendingCredential"in i&&Qu(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function vd(e,t,n,r){const o="".concat(t).concat(n,"?").concat(r),i=e,s=i.config.emulator?ld(e.config,o):"".concat(e.config.apiScheme,"://").concat(o);if(dd.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(s).toString()}return s}function yd(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bd{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t($u(this.auth,"network-request-failed")),hd.get())})}}function wd(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=$u(e,t,r);return o.customData._tokenResponse=n,o}function _d(e){return void 0!==e&&void 0!==e.enterprise}class Sd{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return yd(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Cd(e,t){return fd(e,"GET","/v2/recaptchaConfig",pd(e,t))}async function kd(e,t){return fd(e,"POST","/v1/accounts:lookup",t)}function Ed(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(gV){}}function xd(e){return 1e3*Number(e)}function Td(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Yu("JWT malformed, contained fewer than 3 sections"),null;try{const e=yl(n);return e?JSON.parse(e):(Yu("Failed to decode base64 JWT payload"),null)}catch(gV){return Yu("Caught error parsing JWT payload as JSON",null===gV||void 0===gV?void 0:gV.toString()),null}}function Id(e){const t=Td(e);return ed(t,"internal-error"),ed("undefined"!==typeof t.exp,"internal-error"),ed("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Pd(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(gV){throw gV instanceof Wl&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(gV)&&e.auth.currentUser===e&&await e.auth.signOut(),gV}}class Rd{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(gV){return void((null===gV||void 0===gV?void 0:gV.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Nd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ed(this.lastLoginAt),this.creationTime=Ed(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ad(e){var t;const n=e.auth,r=await e.getIdToken(),o=await Pd(e,kd(n,{idToken:r}));ed(null===o||void 0===o?void 0:o.users.length,n,"internal-error");const i=o.users[0];e._notifyReloadListener(i);const s=null!==(t=i.providerUserInfo)&&void 0!==t&&t.length?Od(i.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&i.passwordHash)&&!(null!==a&&void 0!==a&&a.length),h=!!u&&d,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Nd(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,p)}function Od(e){return e.map(e=>{let{providerId:t}=e,n=a(e,Vu);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Md{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ed(e.idToken,"internal-error"),ed("undefined"!==typeof e.idToken,"internal-error"),ed("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Id(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ed(0!==e.length,"internal-error");const t=Id(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(ed(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await async function(e,t){const n=await md(e,{},async()=>{const n=tc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,i=await vd(e,r,"/v1/token","key=".concat(o)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:s,body:n};return e.emulatorConfig&&Pl(e.emulatorConfig.host)&&(a.credentials="include"),cd.fetch()(i,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:o}=t,i=new Md;return n&&(ed("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(ed("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),o&&(ed("number"===typeof o,"internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Md,this.toJSON())}_performRefresh(){return td("not implemented")}}function Dd(e,t){ed("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ld{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,o=a(e,Bu);this.providerId="firebase",this.proactiveRefresh=new Rd(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Nd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Pd(this,this.stsTokenManager.getToken(this.auth,e));return ed(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=cc(e),r=await n.getIdToken(t),o=Td(r);ed(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i="object"===typeof o.firebase?o.firebase:void 0,s=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:Ed(xd(o.auth_time)),issuedAtTime:Ed(xd(o.iat)),expirationTime:Ed(xd(o.exp)),signInProvider:s||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=cc(e);await Ad(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ed(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>h({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ld(h(h({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ed(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ad(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ku(this.auth.app))return Promise.reject(Ju(this.auth));const e=await this.getIdToken();return await Pd(this,async function(e,t){return fd(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return h(h({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>h({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,o,i,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,p=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,f=null!==(i=t.photoURL)&&void 0!==i?i:void 0,m=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,v=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:w,isAnonymous:_,providerData:S,stsTokenManager:C}=t;ed(b&&C,e,"internal-error");const k=Md.fromJSON(this.name,C);ed("string"===typeof b,e,"internal-error"),Dd(u,e.name),Dd(d,e.name),ed("boolean"===typeof w,e,"internal-error"),ed("boolean"===typeof _,e,"internal-error"),Dd(p,e.name),Dd(f,e.name),Dd(m,e.name),Dd(g,e.name),Dd(v,e.name),Dd(y,e.name);const E=new Ld({uid:b,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:_,photoURL:f,phoneNumber:p,tenantId:m,stsTokenManager:k,createdAt:v,lastLoginAt:y});return S&&Array.isArray(S)&&(E.providerData=S.map(e=>h({},e))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Md;r.updateFromServerResponse(t);const o=new Ld({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Ad(o),o}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];ed(void 0!==r.localId,"internal-error");const o=void 0!==r.providerUserInfo?Od(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null!==o&&void 0!==o&&o.length),s=new Md;s.updateFromIdToken(n);const a=new Ld({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Nd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==o&&void 0!==o&&o.length)};return Object.assign(a,l),a}}const Fd=new Map;function jd(e){nd(e instanceof Function,"Expected a class definition");let t=Fd.get(e);return t?(nd(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Fd.set(e,t),t)}class zd{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}zd.type="NONE";const Ud=zd;function Vd(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Bd{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:o}=this.auth;this.fullUserKey=Vd(this.userKey,r.apiKey,o),this.fullPersistenceKey=Vd("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await kd(this.auth,{idToken:e}).catch(()=>{});return t?Ld._fromGetAccountInfoResponse(this.auth,t,e):null}return Ld._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Bd(jd(Ud),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let o=r[0]||jd(Ud);const i=Vd(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(i);if(t){let n;if("string"===typeof t){const r=await kd(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Ld._fromGetAccountInfoResponse(e,r,t)}else n=Ld._fromJSON(e,t);c!==o&&(s=n),o=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return o._shouldAllowMigration&&a.length?(o=a[0],s&&await o._set(i,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==o)try{await e._remove(i)}catch(t){}})),new Bd(o,e,n)):new Bd(o,e,n)}}function Wd(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Gd(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(qd(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Qd(t))return"Blackberry";if($d(t))return"Webos";if(Hd(t))return"Safari";if((t.includes("chrome/")||Kd(t))&&!t.includes("edge/"))return"Chrome";if(Yd(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function qd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dl();return/firefox\//i.test(e)}function Hd(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dl()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dl();return/crios\//i.test(e)}function Gd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dl();return/iemobile/i.test(e)}function Yd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dl();return/android/i.test(e)}function Qd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dl();return/blackberry/i.test(e)}function $d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dl();return/webos/i.test(e)}function Xd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dl();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Jd(){return function(){const e=Dl();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Zd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dl();return Xd(e)||Yd(e)||$d(e)||Qd(e)||/windows phone/i.test(e)||Gd(e)}function eh(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Wd(Dl());break;case"Worker":t="".concat(Wd(Dl()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Tu,"/").concat(r)}class th{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(gV){r(gV)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(gV){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===gV||void 0===gV?void 0:gV.message})}}}class nh{constructor(e){var t,n,r,o;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,o,i,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(o=a.containsUppercaseLetter)||void 0===o||o),a.isValid&&(a.isValid=null===(i=a.containsNumericCharacter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class rh{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ih(this),this.idTokenSubscription=new ih(this),this.beforeStateQueue=new th(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ku,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=jd(t)),this._initializationPromise=this.queue(async()=>{var n,r,o;if(!this._deleted&&(this.persistenceManager=await Bd.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(gV){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(o=this.currentUser)||void 0===o?void 0:o.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await kd(this,{idToken:e}),n=await Ld._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ku(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var o,i;await this.getOrInitRedirectPersistenceManager();const t=null===(o=this.redirectUser)||void 0===o?void 0:o._redirectEventId,s=null===(i=n)||void 0===i?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==s||null===a||void 0===a||!a.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(gV){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(gV))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return ed(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(gV){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ad(e)}catch(gV){if((null===gV||void 0===gV?void 0:gV.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ku(this.app))return Promise.reject(Ju(this));const t=e?cc(e):null;return t&&ed(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&ed(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ku(this.app)?Promise.reject(Ju(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ku(this.app)?Promise.reject(Ju(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jd(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return fd(e,"GET","/v2/passwordPolicy",pd(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new nh(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ql("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return fd(e,"POST","/v2/accounts:revokeToken",pd(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&jd(e)||this._popupRedirectResolver;ed(t,this,"argument-error"),this.redirectPersistenceManager=await Bd.create(this,[jd(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const o="function"===typeof t?t:t.next.bind(t);let i=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ed(s,this,"internal-error"),s.then(()=>{i||o(this.currentUser)}),"function"===typeof t){const o=e.addObserver(t,n,r);return()=>{i=!0,o()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ed(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eh(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(ku(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(Gu.logLevel<=gc.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Gu.warn("Auth (".concat(Tu,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function oh(e){return cc(e)}class ih{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ic(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return ed(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ah(e){return sh.loadJS(e)}function lh(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ch{constructor(){this.enterprise=new uh}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class uh{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const dh="NO_RECAPTCHA";class hh{constructor(e){this.type="recaptcha-enterprise",this.auth=oh(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const o=window.grecaptcha;_d(o)?o.enterprise.ready(()=>{o.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(dh)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new ch).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Cd(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Sd(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(o=>{if(!t&&_d(window.grecaptcha))n(o,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=sh.recaptchaEnterpriseScript;0!==t.length&&(t+=o),ah(t).then(()=>{n(o,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function ph(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new hh(e);let s;if(o)s=dh;else try{s=await i.verify(n)}catch(Df){s=await i.verify(n,!0)}const a=h({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function fh(e,t,n,r,o){if("EMAIL_PASSWORD_PROVIDER"===o){var i;if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await ph(e,t,n,"getOobCode"===n);return r(e,o)}return r(e,t).catch(async o=>{if(o.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const o=await ph(e,t,n,"getOobCode"===n);return r(e,o)}return Promise.reject(o)})}if("PHONE_PROVIDER"===o){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const o=await ph(e,t,n);return r(e,o).catch(async o=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&(o.code==="auth/".concat("missing-recaptcha-token")||o.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const o=await ph(e,t,n,!1,!0);return r(e,o)}return Promise.reject(o)})}{const o=await ph(e,t,n,!1,!0);return r(e,o)}}return Promise.reject(o+" provider is not supported.")}async function mh(e){const t=oh(e),n=await Cd(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Sd(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new hh(t).verify()}}function gh(e,t,n){const r=oh(e);ed(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!(null===n||void 0===n||!n.disableWarnings),i=vh(t),{host:s,port:a}=function(e){const t=vh(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const e=o[1];return{host:e,port:yh(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:yh(t)}}}(t),l=null===a?"":":".concat(a),c={url:"".concat(i,"//").concat(s).concat(l,"/")},u=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator)return ed(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void ed(Zl(c,r.config.emulator)&&Zl(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Pl(s)?(Rl("".concat(i,"//").concat(s).concat(l)),Ml("Auth",!0)):o||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function vh(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function yh(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class bh{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return td("not implemented")}_getIdTokenResponse(e){return td("not implemented")}_linkToIdToken(e,t){return td("not implemented")}_getReauthenticationResolver(e){return td("not implemented")}}async function wh(e,t){return fd(e,"POST","/v1/accounts:signUp",t)}async function _h(e,t){return gd(e,"POST","/v1/accounts:signInWithPassword",pd(e,t))}class Sh extends bh{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Sh(e,t,"password")}static _fromEmailAndCode(e,t){return new Sh(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return fh(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",_h,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return gd(e,"POST","/v1/accounts:signInWithEmailLink",pd(e,t))}(e,{email:this._email,oobCode:this._password});default:Qu(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return fh(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wh,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return gd(e,"POST","/v1/accounts:signInWithEmailLink",pd(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Qu(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ch(e,t){return gd(e,"POST","/v1/accounts:signInWithIdp",pd(e,t))}class kh extends bh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new kh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qu("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,o=a(t,Wu);if(!n||!r)return null;const i=new kh(n,r);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){return Ch(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ch(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ch(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tc(t)}return e}}async function Eh(e,t){return fd(e,"POST","/v1/accounts:sendVerificationCode",pd(e,t))}const xh={USER_NOT_FOUND:"user-not-found"};class Th extends bh{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Th({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Th({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return gd(e,"POST","/v1/accounts:signInWithPhoneNumber",pd(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await gd(e,"POST","/v1/accounts:signInWithPhoneNumber",pd(e,t));if(n.temporaryProof)throw wd(e,"account-exists-with-different-credential",n);return n}(e,h({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return gd(e,"POST","/v1/accounts:signInWithPhoneNumber",pd(e,h(h({},t),{},{operation:"REAUTH"})),xh)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}=e;return n||t||r||o?new Th({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}):null}}class Ih{constructor(e){var t,n,r,o,i,s;const a=nc(rc(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);ed(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(o=a.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(i=a.lang)&&void 0!==i?i:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=nc(rc(e)).link,n=t?nc(rc(t)).deep_link_id:null,r=nc(rc(e)).deep_link_id;return(r?nc(rc(r)).link:null)||r||n||t||e}(e);try{return new Ih(t)}catch(n){return null}}}class Ph{constructor(){this.providerId=Ph.PROVIDER_ID}static credential(e,t){return Sh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ih.parseLink(t);return ed(n,"argument-error"),Sh._fromEmailAndCode(e,n.code,n.tenantId)}}Ph.PROVIDER_ID="password",Ph.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ph.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Rh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Nh extends Rh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ah extends Nh{constructor(){super("facebook.com")}static credential(e){return kh._fromParams({providerId:Ah.PROVIDER_ID,signInMethod:Ah.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ah.credentialFromTaggedObject(e)}static credentialFromError(e){return Ah.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ah.credential(t.oauthAccessToken)}catch(n){return null}}}Ah.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ah.PROVIDER_ID="facebook.com";class Oh extends Nh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return kh._fromParams({providerId:Oh.PROVIDER_ID,signInMethod:Oh.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Oh.credentialFromTaggedObject(e)}static credentialFromError(e){return Oh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Oh.credential(n,r)}catch(o){return null}}}Oh.GOOGLE_SIGN_IN_METHOD="google.com",Oh.PROVIDER_ID="google.com";class Mh extends Nh{constructor(){super("github.com")}static credential(e){return kh._fromParams({providerId:Mh.PROVIDER_ID,signInMethod:Mh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mh.credentialFromTaggedObject(e)}static credentialFromError(e){return Mh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Mh.credential(t.oauthAccessToken)}catch(n){return null}}}Mh.GITHUB_SIGN_IN_METHOD="github.com",Mh.PROVIDER_ID="github.com";class Dh extends Nh{constructor(){super("twitter.com")}static credential(e,t){return kh._fromParams({providerId:Dh.PROVIDER_ID,signInMethod:Dh.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Dh.credentialFromTaggedObject(e)}static credentialFromError(e){return Dh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Dh.credential(n,r)}catch(o){return null}}}async function Lh(e,t){return gd(e,"POST","/v1/accounts:signUp",pd(e,t))}Dh.TWITTER_SIGN_IN_METHOD="twitter.com",Dh.PROVIDER_ID="twitter.com";class Fh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=await Ld._fromIdTokenResponse(e,n,r),i=jh(n);return new Fh({user:o,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=jh(n);return new Fh({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function jh(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class zh extends Wl{constructor(e,t,n,r){var o;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new zh(e,t,n,r)}}function Uh(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw zh._fromErrorAndOperation(e,n,t,r);throw n})}async function Vh(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Pd(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Fh._forOperation(e,"link",r)}async function Bh(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(ku(r.app))return Promise.reject(Ju(r));const o="reauthenticate";try{const i=await Pd(e,Uh(r,o,t,e),n);ed(i.idToken,r,"internal-error");const s=Td(i.idToken);ed(s,r,"internal-error");const{sub:a}=s;return ed(e.uid===a,r,"user-mismatch"),Fh._forOperation(e,o,i)}catch(gV){throw(null===gV||void 0===gV?void 0:gV.code)==="auth/".concat("user-not-found")&&Qu(r,"user-mismatch"),gV}}async function Wh(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ku(e.app))return Promise.reject(Ju(e));const r="signIn",o=await Uh(e,r,t),i=await Fh._fromIdTokenResponse(e,r,o);return n||await e._updateCurrentUser(i.user),i}async function qh(e,t){return Wh(oh(e),t)}async function Hh(e){const t=oh(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Kh(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const o=cc(e),i={idToken:await o.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await Pd(o,async function(e,t){return fd(e,"POST","/v1/accounts:update",t)}(o.auth,i));o.displayName=s.displayName||null,o.photoURL=s.photoUrl||null;const a=o.providerData.find(e=>{let{providerId:t}=e;return"password"===t});a&&(a.displayName=o.displayName,a.photoURL=o.photoURL),await o._updateTokensIfNecessary(s)}function Gh(e){return cc(e).signOut()}function Yh(e,t){return fd(e,"POST","/v2/accounts/mfaEnrollment:start",pd(e,t))}new WeakMap;const Qh="__sak";class $h{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Xh extends $h{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zd(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);Jd()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xh.type="LOCAL";const Jh=Xh;function Zh(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),o=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(o))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function ep(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class tp{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=ep(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Zh(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=ep(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=ep(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Zh(n);const o=setInterval(()=>{const e=Zh(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(o))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}tp.type="COOKIE";class np extends $h{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}np.type="SESSION";const rp=np;class op{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new op(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:o}=t.data,i=this.handlersMap[r];if(null===i||void 0===i||!i.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(i).map(async e=>e(t.origin,o)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}op.receivers=[];class sp{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,i;return new Promise((s,a)=>{const l=ip("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(t.data.response);break;default:clearTimeout(c),clearTimeout(o),a(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function ap(){return window}function lp(){return"undefined"!==typeof ap().WorkerGlobalScope&&"function"===typeof ap().importScripts}const cp="firebaseLocalStorageDb",up="firebaseLocalStorage",dp="fbase_key";class hp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pp(e,t){return e.transaction([up],t?"readwrite":"readonly").objectStore(up)}function fp(){const e=indexedDB.open(cp,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(up,{keyPath:dp})}catch(gV){n(gV)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(up)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(cp);return new hp(e).toPromise()}(),t(await fp()))})})}async function mp(e,t,n){const r=pp(e,!0).put({[dp]:t,value:n});return new hp(r).toPromise()}function gp(e,t){const n=pp(e,!0).delete(t);return new hp(n).toPromise()}class vp{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await fp()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(gV){if(t++>3)throw gV;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=op._getInstance(lp()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new sp(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fp();return await mp(e,Qh,"1"),await gp(e,Qh),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>mp(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=pp(e,!1).get(t),r=await new hp(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>gp(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=pp(e,!1).getAll();return new hp(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:o}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}vp.type="LOCAL";const yp=vp;function bp(e,t){return fd(e,"POST","/v2/accounts/mfaSignIn:start",pd(e,t))}lh("rcb"),new ad(3e4,6e4);const wp="recaptcha";async function _p(e,t,n){if(!e._getRecaptchaConfig())try{await mh(e)}catch(Df){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let o;if(o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){ed("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=fh(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===dh){ed((null===n||void 0===n?void 0:n.type)===wp,e,"argument-error");return Yh(e,await Sp(e,t,n))}return Yh(e,t)},"PHONE_PROVIDER"),s=await i.catch(e=>Promise.reject(e));return s.phoneSessionInfo.sessionInfo}{var r;ed("signin"===t.type,e,"internal-error");const i=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;ed(i,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=fh(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===dh){ed((null===n||void 0===n?void 0:n.type)===wp,e,"argument-error");return bp(e,await Sp(e,t,n))}return bp(e,t)},"PHONE_PROVIDER"),l=await a.catch(e=>Promise.reject(e));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=fh(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===dh){ed((null===n||void 0===n?void 0:n.type)===wp,e,"argument-error");return Eh(e,await Sp(e,t,n))}return Eh(e,t)},"PHONE_PROVIDER"),i=await r.catch(e=>Promise.reject(e));return i.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Sp(e,t,n){ed(n.type===wp,e,"argument-error");const r=await n.verify();ed("string"===typeof r,e,"argument-error");const o=h({},t);if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.captchaResponse,n=o.phoneEnrollmentInfo.clientType,i=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),o}if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.captchaResponse,t=o.phoneSignInInfo.clientType,n=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),o}return Object.assign(o,{recaptchaToken:r}),o}class Cp{constructor(e){this.providerId=Cp.PROVIDER_ID,this.auth=oh(e)}verifyPhoneNumber(e,t){return _p(this.auth,e,cc(t))}static credential(e,t){return Th._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Cp.credentialFromTaggedObject(t)}static credentialFromError(e){return Cp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Th._fromTokenResponse(n,r):null}}function kp(e,t){return t?jd(t):(ed(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Cp.PROVIDER_ID="phone",Cp.PHONE_SIGN_IN_METHOD="phone";class Ep extends bh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ch(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ch(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ch(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xp(e){return Wh(e.auth,new Ep(e),e.bypassAuthState)}function Tp(e){const{auth:t,user:n}=e;return ed(n,t,"internal-error"),Bh(n,new Ep(e),e.bypassAuthState)}async function Ip(e){const{auth:t,user:n}=e;return ed(n,t,"internal-error"),Vh(n,new Ep(e),e.bypassAuthState)}class Pp{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(gV){this.reject(gV)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:o,error:i,type:s}=e;if(i)return void this.reject(i);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(gV){this.reject(gV)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xp;case"linkViaPopup":case"linkViaRedirect":return Ip;case"reauthViaPopup":case"reauthViaRedirect":return Tp;default:Qu(this.auth,"internal-error")}}resolve(e){nd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){nd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rp=new ad(2e3,1e4);class Np extends Pp{constructor(e,t,n,r,o){super(e,t,r,o),this.provider=n,this.authWindow=null,this.pollId=null,Np.currentPopupAction&&Np.currentPopupAction.cancel(),Np.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ed(e,this.auth,"internal-error"),e}async onExecution(){nd(1===this.filter.length,"Popup operations only handle one event");const e=ip();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject($u(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject($u(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Np.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($u(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Rp.get())};e()}}Np.currentPopupAction=null;const Ap=new Map;class Op extends Pp{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ap.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Lp(t),r=Dp(e);if(!await r._isAvailable())return!1;const o="true"===await r._get(n);return await r._remove(n),o}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(gV){e=()=>Promise.reject(gV)}Ap.set(this.auth._key(),e)}return this.bypassAuthState||Ap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Mp(e,t){Ap.set(e._key(),t)}function Dp(e){return jd(e._redirectPersistence)}function Lp(e){return Vd("pendingRedirect",e.config.apiKey,e.name)}async function Fp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ku(e.app))return Promise.reject(Ju(e));const r=oh(e),o=kp(r,t),i=new Op(r,o,n),s=await i.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class jp{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Up(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Up(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError($u(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zp(e))}saveEventToCache(e){this.cachedEventUids.add(zp(e)),this.lastProcessedEventTime=Date.now()}}function zp(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Up(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Vp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bp=/^https?/;async function Wp(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return fd(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(qp(r))return}catch(n){}Qu(e,"unauthorized-domain")}function qp(e){const t=rd(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return""===o.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Bp.test(n))return!1;if(Vp.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const Hp=new ad(3e4,6e4);function Kp(){const e=ap().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Gp(e){return new Promise((t,n)=>{var r,o;function i(){Kp(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Kp(),n($u(e,"network-request-failed"))},timeout:Hp.get()})}if(null!==(r=ap().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(o=ap().gapi)||void 0===o||!o.load){const t=lh("iframefcb");return ap()[t]=()=>{gapi.load?i():n($u(e,"network-request-failed"))},ah("".concat(sh.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}i()}}).catch(e=>{throw Yp=null,e})}let Yp=null;const Qp=new ad(5e3,15e3),$p={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jp(e){const t=e.config;ed(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ld(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Tu},o=Xp.get(e.config.apiHost);o&&(r.eid=o);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(tc(r).slice(1))}async function Zp(e){const t=await function(e){return Yp=Yp||Gp(e),Yp}(e),n=ap().gapi;return ed(n,e,"internal-error"),t.open({where:document.body,url:Jp(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$p,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const o=$u(e,"network-request-failed"),i=ap().setTimeout(()=>{r(o)},Qp.get());function s(){ap().clearTimeout(i),n(t)}t.ping(s).then(s,()=>{r(o)})}))}const ef={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class tf{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(gV){}}}function nf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=h(h({},ef),{},{width:r.toString(),height:o.toString(),top:i,left:s}),c=Dl().toLowerCase();n&&(a=Kd(c)?"_blank":n),qd(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Xd(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dl())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new tf(null);const d=window.open(t||"",a,u);ed(d,e,"popup-blocked");try{d.focus()}catch(gV){}return new tf(d)}const rf="__/auth/handler",of="emulator/auth/handler",sf=encodeURIComponent("fac");async function af(e,t,n,r,o,i){ed(e.config.authDomain,e,"auth-domain-config-required"),ed(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Tu,eventId:o};if(t instanceof Rh){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Xl(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))s[e]=t}if(t instanceof Nh){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(sf,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(rf);return ld(t,of)}(e),"?").concat(tc(a).slice(1)).concat(c)}const lf="webStorageSupport";const cf=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rp,this._completeRedirectFn=Fp,this._overrideRedirectResult=Mp}async _openPopup(e,t,n,r){var o;nd(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");return nf(e,await af(e,t,n,rd(),r),ip())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ap().location.href=e}(await af(e,t,n,rd(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(nd(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Zp(e),n=new jp(e);return t.register("authEvent",t=>{ed(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(lf,{type:lf},n=>{var r;const o=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[lf];void 0!==o&&t(!!o),Qu(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Wp(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Zd()||Hd()||Xd()}};var uf="@firebase/auth",df="1.11.0";class hf{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ed(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const pf=Tl("authIdTokenMaxAge")||300;let ff=null;var mf,gf;mf={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=$u("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},sh=mf,gf="Browser",Su(new uc("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ed(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:gf,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eh(gf)},c=new rh(r,o,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(jd);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Su(new uc("auth-internal",e=>(e=>new hf(e))(oh(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Ru(uf,df,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(gf)),Ru(uf,df,"esm2020");const vf="@firebase/database",yf="1.1.0";let bf="";function wf(e){bf=e}class _f{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Gl(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Kl(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Sf{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ql(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Cf=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new _f(t)}}catch(gV){}return new Sf},kf=Cf("localStorage"),Ef=Cf("sessionStorage"),xf=new _c("@firebase/database"),Tf=function(){let e=1;return function(){return e++}}(),If=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);if(o>=55296&&o<=56319){const t=o-55296;r++,dl(r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(t<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t}(e),n=new oc;n.update(t);const r=n.digest();return fl.encodeByteArray(r)},Pf=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=Pf.apply(null,n):e+="object"===typeof n?Gl(n):n,e+=" "}return e};let Rf=null,Nf=!0;const Af=function(e,t){dl(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(xf.logLevel=gc.VERBOSE,Rf=xf.log.bind(xf),t&&Ef.set("logging_enabled",!0)):"function"===typeof e?Rf=e:(Rf=null,Ef.remove("logging_enabled"))},Of=function(){if(!0===Nf&&(Nf=!1,null===Rf&&!0===Ef.get("logging_enabled")&&Af(!0)),Rf){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Pf.apply(null,t);Rf(r)}},Mf=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Of(e,...n)}},Df=function(){const e="FIREBASE INTERNAL ERROR: "+Pf(...arguments);xf.error(e)},Lf=function(){const e="FIREBASE FATAL ERROR: ".concat(Pf(...arguments));throw xf.error(e),new Error(e)},Ff=function(){const e="FIREBASE WARNING: "+Pf(...arguments);xf.warn(e)},jf=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},zf="[MIN_NAME]",Uf="[MAX_NAME]",Vf=function(e,t){if(e===t)return 0;if(e===zf||t===Uf)return-1;if(t===zf||e===Uf)return 1;{const n=Qf(e),r=Qf(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Bf=function(e,t){return e===t?0:e<t?-1:1},Wf=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Gl(t))},qf=function(e){if("object"!==typeof e||null===e)return Gl(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Gl(t[r]),n+=":",n+=qf(e[t[r]]);return n+="}",n},Hf=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let o=0;o<n;o+=t)o+t>n?r.push(e.substring(o,n)):r.push(e.substring(o,o+t));return r};function Kf(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Gf=function(e){dl(!jf(e),"Invalid JSON number");const t=1023;let n,r,o,i,s;0===e?(r=0,o=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=i+t,o=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(r=0,o=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(o%2?1:0),o=Math.floor(o/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const Yf=new RegExp("^-?(0*)\\d{1,10}$"),Qf=function(e){if(Yf.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},$f=function(e){try{e()}catch(gV){setTimeout(()=>{const t=gV.stack||"";throw Ff("Exception was thrown by user callback.",t),gV},Math.floor(0))}},Xf=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class Jf{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,ku(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){Ff('Provided AppCheck credentials for the app named "'.concat(this.appName,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class Zf{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(Of("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ff(e)}}class em{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}em.OWNER="owner";const tm="5",nm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rm="ac",om="websocket",im="long_polling";class sm{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=i,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=kf.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&kf.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function am(e,t,n){let r;if(dl("string"===typeof t,"typeof type must == string"),dl("object"===typeof n,"typeof params must == object"),t===om)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==im)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const o=[];return Kf(n,(e,t)=>{o.push(e+"="+t)}),r+o.join("&")}class lm{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Ql(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return bl(this.counters_)}}const cm={},um={};function dm(e){const t=e.toString();return cm[t]||(cm[t]=new lm),cm[t]}class hm{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&$f(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const pm="start";class fm{constructor(e,t,n,r,o,i,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.transportSessionId=i,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mf(e),this.stats_=dm(t),this.urlFn=e=>(this.appCheckToken&&(e[rm]=this.appCheckToken),am(t,im,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new hm(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(zl()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new mm(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[o,i,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===pm)n.id=i,n.password=s;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[o,i]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,i)},()=>{this.onClosed_()},this.urlFn);const e={};e[pm]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=tm,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[rm]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&nm.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){fm.forceAllow_=!0}static forceDisallow(){fm.forceDisallow_=!0}static isAvailable(){return!zl()&&(!!fm.forceAllow_||!fm.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Gl(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=gl(t),r=Hf(n,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(zl())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Gl(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class mm{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,zl())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Tf(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=mm.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(gV){Of("frame writing exception"),gV.stack&&Of(gV.stack),Of(gV)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Of("No IE domain setting required")}catch(gV){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){zl()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Of("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(gV){}},Math.floor(1))}}let gm=null;"undefined"!==typeof MozWebSocket?gm=MozWebSocket:"undefined"!==typeof WebSocket&&(gm=WebSocket);class vm{constructor(e,t,n,r,o,i,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mf(this.connId),this.stats_=dm(t),this.connURL=vm.connectionURL_(t,i,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,o){const i={};return i.v=tm,!zl()&&"undefined"!==typeof location&&location.hostname&&nm.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i[rm]=r),o&&(i.p=o),am(e,om,i)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,kf.set("previous_websocket_failure",!0);try{let e;if(zl()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(tm,"/").concat(bf,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/my-new-chat-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GEMINI_API_KEY:"AIzaSyB4Y3RIiX6Mrai8aXYtIKnx2bAgfFkR-G8"},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new gm(this.connURL,[],e)}catch(gV){this.log_("Error instantiating WebSocket.");const t=gV.message||gV.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){vm.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==gm&&!vm.forceDisallow_}static previouslyFailed(){return kf.isInMemoryStorage||!0===kf.get("previous_websocket_failure")}markConnectionHealthy(){kf.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Kl(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(dl(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Gl(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Hf(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(gV){this.log_("Exception thrown from WebSocket.send():",gV.message||gV.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}vm.responsesRequiredToBeHealthy=2,vm.healthyTimeout=3e4;class ym{static get ALL_TRANSPORTS(){return[fm,vm]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=vm&&vm.isAvailable();let n=t&&!vm.previouslyFailed();if(e.webSocketOnly&&(t||Ff("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[vm];else{const e=this.transports_=[];for(const t of ym.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);ym.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ym.globalTransportInitialized_=!1;class bm{constructor(e,t,n,r,o,i,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=i,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mf("c:"+this.id+":"),this.transportManager_=new ym(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Xf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Wf("t",e),n=Wf("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Wf("t",e),n=Wf("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Wf("t",e);if("d"in e){const n=e.d;if("h"===t){const e=h({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Df("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Df("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),tm!==n&&Ff("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Xf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Xf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(kf.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class wm{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class _m{constructor(e){this.allowedEvents_=e,this.listeners_={},dl(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const o=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<o.length;e++)o[e].callback.apply(o[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!n||n===r[o].context))return void r.splice(o,1)}validateEventType_(e){dl(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Sm extends _m{static getInstance(){return new Sm}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Ll()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return dl("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Cm{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function km(){return new Cm("")}function Em(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function xm(e){return e.pieces_.length-e.pieceNum_}function Tm(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Cm(e.pieces_,t)}function Im(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Pm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Rm(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Cm(t,0)}function Nm(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Cm)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Cm(n,0)}function Am(e){return e.pieceNum_>=e.pieces_.length}function Om(e,t){const n=Em(e),r=Em(t);if(null===n)return t;if(n===r)return Om(Tm(e),Tm(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Mm(e,t){const n=Pm(e,0),r=Pm(t,0);for(let o=0;o<n.length&&o<r.length;o++){const e=Vf(n[o],r[o]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function Dm(e,t){if(xm(e)!==xm(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Lm(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(xm(e)>xm(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Fm{constructor(e,t){this.errorPrefix_=t,this.parts_=Pm(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=lc(this.parts_[n]);jm(this)}}function jm(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+zm(e))}function zm(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Um extends _m{static getInstance(){return new Um}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return dl("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Vm=1e3;class Bm extends wm{constructor(e,t,n,r,o,i,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=Bm.nextPersistentConnectionId_++,this.log_=Mf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vm,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!zl())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Um.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Sm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,o={r:r,a:e,b:t};this.log_(Gl(o)),dl(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Il,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const o=e._queryIdentifier,i=e._path.toString();this.log_("Listen called for "+i+" "+o),this.listens.has(i)||this.listens.set(i,new Map),dl(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),dl(!this.listens.get(i).has(o),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(i).set(o,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const o={p:n};e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,o=>{const i=o.d,s=o.s;Bm.warnOnListenWarnings_(i,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",o),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,i))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&Ql(e,"w")){const n=$l(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Ff("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=Yl(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=Yl(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),dl(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const o={p:e};r&&(o.q=n,o.t=r),this.sendRequest("n",o)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const o={p:t,d:n};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,o){this.initConnection_();const i={p:t,d:n};void 0!==o&&(i.h=o),this.outstandingPuts_.push({action:e,request:i,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Gl(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Df("Unrecognized action received from server: "+Gl(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){dl(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vm,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Vm,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Vm),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Bm.nextConnectionId_++,o=this.lastSessionId;let i=!1,s=null;const a=function(){s?s.close():(i=!0,n())},l=function(e){dl(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);i?Of("getToken() completed but was canceled"):(Of("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new bm(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{Ff(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},o))}catch(Df){this.log_("Failed to get token: "+Df),i||(this.repoInfo_.nodeAdmin&&Ff(Df),a())}}}interrupt(e){Of("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Of("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Xl(this.interruptReasons_)&&(this.reconnectDelay_=Vm,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>qf(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Cm(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Of("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Of("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";zl()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+bf.replace(/\./g,"-")]=1,Ll()?e["framework.cordova"]=1:jl()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Sm.getInstance().currentlyOnline();return Xl(this.interruptReasons_)&&e}}Bm.nextPersistentConnectionId_=0,Bm.nextConnectionId_=0;class Wm{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Wm(e,t)}}class qm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Wm(zf,e),r=new Wm(zf,t);return 0!==this.compare(n,r)}minPost(){return Wm.MIN}}let Hm;class Km extends qm{static get __EMPTY_NODE(){return Hm}static set __EMPTY_NODE(e){Hm=e}compare(e,t){return Vf(e.name,t.name)}isDefinedOn(e){throw hl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Wm.MIN}maxPost(){return new Wm(Uf,Hm)}makePost(e,t){return dl("string"===typeof e,"KeyIndex indexValue must always be a string."),new Wm(e,Hm)}toString(){return".key"}}const Gm=new Km;class Ym{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse_?e.left:e.right;else{if(0===i){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Qm{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:Qm.RED,this.left=null!=r?r:$m.EMPTY_NODE,this.right=null!=o?o:$m.EMPTY_NODE}copy(e,t,n,r,o){return new Qm(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return $m.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return $m.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Qm.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Qm.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Qm.RED=!0,Qm.BLACK=!1;class $m{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$m.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new $m(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Qm.BLACK,null,null))}remove(e){return new $m(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Qm.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ym(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Ym(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Ym(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Ym(this.root_,null,this.comparator_,!0,e)}}function Xm(e,t){return Vf(e.name,t.name)}function Jm(e,t){return Vf(e,t)}let Zm;$m.EMPTY_NODE=new class{copy(e,t,n,r,o){return this}insert(e,t,n){return new Qm(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const eg=function(e){return"number"===typeof e?"number:"+Gf(e):"string:"+e},tg=function(e){if(e.isLeafNode()){const t=e.val();dl("string"===typeof t||"number"===typeof t||"object"===typeof t&&Ql(t,".sv"),"Priority must be a string or number.")}else dl(e===Zm||e.isEmpty(),"priority of unexpected type.");dl(e===Zm||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ng,rg,og;class ig{static set __childrenNodeConstructor(e){ng=e}static get __childrenNodeConstructor(){return ng}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ig.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,dl(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),tg(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ig(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:ig.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Am(e)?this:".priority"===Em(e)?this.priorityNode_:ig.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:ig.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Em(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(dl(".priority"!==n||1===xm(e),".priority must be the last token in a path"),this.updateImmediateChild(n,ig.__childrenNodeConstructor.EMPTY_NODE.updateChild(Tm(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+eg(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Gf(this.value_):this.value_,this.lazyHash_=If(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ig.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ig.__childrenNodeConstructor?-1:(dl(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=ig.VALUE_TYPE_ORDER.indexOf(t),o=ig.VALUE_TYPE_ORDER.indexOf(n);return dl(r>=0,"Unknown leaf type: "+t),dl(o>=0,"Unknown leaf type: "+n),r===o?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}ig.VALUE_TYPE_ORDER=["object","boolean","number","string"];const sg=new class extends qm{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),o=n.compareTo(r);return 0===o?Vf(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Wm.MIN}maxPost(){return new Wm(Uf,new ig("[PRIORITY-POST]",og))}makePost(e,t){const n=rg(e);return new Wm(t,new ig("[PRIORITY-POST]",n))}toString(){return".priority"}},ag=Math.log(2);class lg{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/ag,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const cg=function(e,t,n,r){e.sort(t);const o=function(t,r){const i=r-t;let s,a;if(0===i)return null;if(1===i)return s=e[t],a=n?n(s):s,new Qm(a,s.node,Qm.BLACK,null,null);{const l=parseInt(i/2,10)+t,c=o(t,l),u=o(l+1,r);return s=e[l],a=n?n(s):s,new Qm(a,s.node,Qm.BLACK,c,u)}},i=function(t){let r=null,i=null,s=e.length;const a=function(t,r){const i=s-t,a=s;s-=t;const c=o(i+1,a),u=e[i],d=n?n(u):u;l(new Qm(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(i=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Qm.BLACK):(a(r,Qm.BLACK),a(r,Qm.RED))}return i}(new lg(e.length));return new $m(r||t,i)};let ug;const dg={};class hg{static get Default(){return dl(dg&&sg,"ChildrenNode.ts has not been loaded"),ug=ug||new hg({".priority":dg},{".priority":sg}),ug}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=$l(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof $m?t:null}hasIndex(e){return Ql(this.indexSet_,e.toString())}addIndex(e,t){dl(e!==Gm,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const o=t.getIterator(Wm.Wrap);let i,s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=o.getNext();i=r?cg(n,e.getCompare()):dg;const a=e.toString(),l=h({},this.indexSet_);l[a]=e;const c=h({},this.indexes_);return c[a]=i,new hg(c,l)}addToIndexes(e,t){const n=Jl(this.indexes_,(n,r)=>{const o=$l(this.indexSet_,r);if(dl(o,"Missing index implementation for "+r),n===dg){if(o.isDefinedOn(e.node)){const n=[],r=t.getIterator(Wm.Wrap);let i=r.getNext();for(;i;)i.name!==e.name&&n.push(i),i=r.getNext();return n.push(e),cg(n,o.getCompare())}return dg}{const r=t.get(e.name);let o=n;return r&&(o=o.remove(new Wm(e.name,r))),o.insert(e,e.node)}});return new hg(n,this.indexSet_)}removeFromIndexes(e,t){const n=Jl(this.indexes_,n=>{if(n===dg)return n;{const r=t.get(e.name);return r?n.remove(new Wm(e.name,r)):n}});return new hg(n,this.indexSet_)}}let pg;class fg{static get EMPTY_NODE(){return pg||(pg=new fg(new $m(Jm),null,hg.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&tg(this.priorityNode_),this.children_.isEmpty()&&dl(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||pg}updatePriority(e){return this.children_.isEmpty()?this:new fg(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?pg:t}}getChild(e){const t=Em(e);return null===t?this:this.getImmediateChild(t).getChild(Tm(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(dl(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Wm(e,t);let r,o;t.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(n,this.children_));const i=r.isEmpty()?pg:this.priorityNode_;return new fg(r,i,o)}}updateChild(e,t){const n=Em(e);if(null===n)return t;{dl(".priority"!==Em(e)||1===xm(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Tm(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,o=!0;if(this.forEachChild(sg,(i,s)=>{t[i]=s.val(e),n++,o&&fg.INTEGER_REGEXP_.test(i)?r=Math.max(r,Number(i)):o=!1}),!e&&o&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+eg(this.getPriority().val())+":"),this.forEachChild(sg,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":If(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Wm(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Wm(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Wm(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,Wm.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,Wm.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===mg?-1:0}withIndex(e){if(e===Gm||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new fg(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Gm||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(sg),n=t.getIterator(sg);let r=e.getNext(),o=n.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=e.getNext(),o=n.getNext()}return null===r&&null===o}return!1}return!1}}resolveIndex_(e){return e===Gm?null:this.indexMap_.get(e.toString())}}fg.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const mg=new class extends fg{constructor(){super(new $m(Jm),fg.EMPTY_NODE,hg.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return fg.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Wm,{MIN:{value:new Wm(zf,fg.EMPTY_NODE)},MAX:{value:new Wm(Uf,mg)}}),Km.__EMPTY_NODE=fg.EMPTY_NODE,ig.__childrenNodeConstructor=fg,Zm=mg,function(e){og=e}(mg);function gg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return fg.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),dl(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new ig(e,gg(t))}if(e instanceof Array){let n=fg.EMPTY_NODE;return Kf(e,(t,r)=>{if(Ql(e,t)&&"."!==t.substring(0,1)){const e=gg(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(gg(t))}{const n=[];let r=!1;if(Kf(e,(e,t)=>{if("."!==e.substring(0,1)){const o=gg(t);o.isEmpty()||(r=r||!o.getPriority().isEmpty(),n.push(new Wm(e,o)))}}),0===n.length)return fg.EMPTY_NODE;const o=cg(n,Xm,e=>e.name,Jm);if(r){const e=cg(n,sg.getCompare());return new fg(o,gg(t),new hg({".priority":e},{".priority":sg}))}return new fg(o,gg(t),hg.Default)}}!function(e){rg=e}(gg);class vg extends qm{constructor(e){super(),this.indexPath_=e,dl(!Am(e)&&".priority"!==Em(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),o=n.compareTo(r);return 0===o?Vf(e.name,t.name):o}makePost(e,t){const n=gg(e),r=fg.EMPTY_NODE.updateChild(this.indexPath_,n);return new Wm(t,r)}maxPost(){const e=fg.EMPTY_NODE.updateChild(this.indexPath_,mg);return new Wm(Uf,e)}toString(){return Pm(this.indexPath_,0).join("/")}}const yg=new class extends qm{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Vf(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Wm.MIN}maxPost(){return Wm.MAX}makePost(e,t){const n=gg(e);return new Wm(t,n)}toString(){return".value"}};function bg(e){return{type:"value",snapshotNode:e}}function wg(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function _g(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Sg(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Cg{constructor(e){this.index_=e}updateChild(e,t,n,r,o,i){dl(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=i&&(n.isEmpty()?e.hasChild(t)?i.trackChildChange(_g(t,s)):dl(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?i.trackChildChange(wg(t,n)):i.trackChildChange(Sg(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(sg,(e,r)=>{t.hasChild(e)||n.trackChildChange(_g(e,r))}),t.isLeafNode()||t.forEachChild(sg,(t,r)=>{if(e.hasChild(t)){const o=e.getImmediateChild(t);o.equals(r)||n.trackChildChange(Sg(t,r,o))}else n.trackChildChange(wg(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?fg.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class kg{constructor(e){this.indexedFilter_=new Cg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=kg.getStartPost_(e),this.endPost_=kg.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,o,i){return this.matches(new Wm(t,n))||(n=fg.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,o,i)}updateFullNode(e,t,n){t.isLeafNode()&&(t=fg.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(fg.EMPTY_NODE);const o=this;return t.forEachChild(sg,(e,t)=>{o.matches(new Wm(e,t))||(r=r.updateImmediateChild(e,fg.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Eg{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new kg(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,o,i){return this.rangedFilter_.matches(new Wm(t,n))||(n=fg.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,o,i):this.fullLimitUpdateChild_(e,t,n,o,i)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=fg.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=fg.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(fg.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,fg.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,o){let i;if(this.reverse_){const e=this.index_.getCompare();i=(t,n)=>e(n,t)}else i=this.index_.getCompare();const s=e;dl(s.numChildren()===this.limit_,"");const a=new Wm(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||s.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:i(u,a);if(c&&!n.isEmpty()&&d>=0)return null!=o&&o.trackChildChange(Sg(t,n,e)),s.updateImmediateChild(t,n);{null!=o&&o.trackChildChange(_g(t,e));const n=s.updateImmediateChild(t,fg.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=o&&o.trackChildChange(wg(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&i(l,a)>=0?(null!=o&&(o.trackChildChange(_g(l.name,l.node)),o.trackChildChange(wg(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,fg.EMPTY_NODE)):e}}class xg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=sg}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return dl(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return dl(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zf}hasEnd(){return this.endSet_}getIndexEndValue(){return dl(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return dl(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Uf}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return dl(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===sg}copy(){const e=new xg;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Tg(e){const t={};if(e.isDefault())return t;let n;if(e.index_===sg?n="$priority":e.index_===yg?n="$value":e.index_===Gm?n="$key":(dl(e.index_ instanceof vg,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Gl(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Gl(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Gl(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Gl(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Gl(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Ig(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==sg&&(t.i=e.index_.toString()),t}class Pg extends wm{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(dl(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Mf("p:rest:"),this.listens_={}}listen(e,t,n,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const i=Pg.getListenId_(e,n),s={};this.listens_[i]=s;const a=Tg(e._queryParams);this.restRequest_(o+".json",a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(o,a,!1,n),$l(this.listens_,i)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=Pg.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Tg(e._queryParams),n=e._path.toString(),r=new Il;return this.restRequest_(n+".json",t,(e,t)=>{let o=t;404===e&&(o=null,e=null),null===e?(this.onDataUpdate_(n,o,!1,null),r.resolve(o)):r.reject(new Error(o))}),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(r=>{let[o,i]=r;o&&o.accessToken&&(t.auth=o.accessToken),i&&i.token&&(t.ac=i.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+tc(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=Kl(a.responseText)}catch(gV){Ff("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&Ff("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()})}}class Rg{constructor(){this.rootNode_=fg.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Ng(){return{value:null,children:new Map}}function Ag(e,t,n){if(Am(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Em(t);e.children.has(r)||e.children.set(r,Ng());Ag(e.children.get(r),t=Tm(t),n)}}function Og(e,t){if(Am(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(sg,(t,n)=>{Ag(e,new Cm(t),n)}),Og(e,t)}}if(e.children.size>0){const n=Em(t);if(t=Tm(t),e.children.has(n)){Og(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function Mg(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{Mg(r,new Cm(t.toString()+"/"+e),n)})}class Dg{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=h({},e);return this.last_&&Kf(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class Lg{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Dg(e);const n=1e4+2e4*Math.random();Xf(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Kf(e,(e,r)=>{r>0&&Ql(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),Xf(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Fg;function jg(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Fg||(Fg={}));class zg{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Fg.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Am(this.path)){if(null!=this.affectedTree.value)return dl(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Cm(e));return new zg(km(),t,this.revert)}}return dl(Em(this.path)===e,"operationForChild called for unrelated child."),new zg(Tm(this.path),this.affectedTree,this.revert)}}class Ug{constructor(e,t){this.source=e,this.path=t,this.type=Fg.LISTEN_COMPLETE}operationForChild(e){return Am(this.path)?new Ug(this.source,km()):new Ug(this.source,Tm(this.path))}}class Vg{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Fg.OVERWRITE}operationForChild(e){return Am(this.path)?new Vg(this.source,km(),this.snap.getImmediateChild(e)):new Vg(this.source,Tm(this.path),this.snap)}}class Bg{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Fg.MERGE}operationForChild(e){if(Am(this.path)){const t=this.children.subtree(new Cm(e));return t.isEmpty()?null:t.value?new Vg(this.source,km(),t.value):new Bg(this.source,km(),t)}return dl(Em(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Bg(this.source,Tm(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Wg{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Am(e))return this.isFullyInitialized()&&!this.filtered_;const t=Em(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class qg{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Hg(e,t,n,r,o,i){const s=r.filter(e=>e.type===n);s.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw hl("Should only compare child_ events.");const r=new Wm(t.childName,t.snapshotNode),o=new Wm(n.childName,n.snapshotNode);return e.index_.compare(r,o)}(e,t,n)),s.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,i);o.forEach(o=>{o.respondsTo(n.type)&&t.push(o.createEvent(r,e.query_))})})}function Kg(e,t){return{eventCache:e,serverCache:t}}function Gg(e,t,n,r){return Kg(new Wg(t,n,r),e.serverCache)}function Yg(e,t,n,r){return Kg(e.eventCache,new Wg(t,n,r))}function Qg(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function $g(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Xg;class Jg{static fromObject(e){let t=new Jg(null);return Kf(e,(e,n)=>{t=t.set(new Cm(e),n)}),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Xg||(Xg=new $m(Bf)),Xg);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:km(),value:this.value};if(Am(e))return null;{const n=Em(e),r=this.children.get(n);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Tm(e),t);if(null!=o){return{path:Nm(new Cm(n),o.path),value:o.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Am(e))return this;{const t=Em(e),n=this.children.get(t);return null!==n?n.subtree(Tm(e)):new Jg(null)}}set(e,t){if(Am(e))return new Jg(t,this.children);{const n=Em(e),r=(this.children.get(n)||new Jg(null)).set(Tm(e),t),o=this.children.insert(n,r);return new Jg(this.value,o)}}remove(e){if(Am(e))return this.children.isEmpty()?new Jg(null):new Jg(null,this.children);{const t=Em(e),n=this.children.get(t);if(n){const r=n.remove(Tm(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new Jg(null):new Jg(this.value,o)}return this}}get(e){if(Am(e))return this.value;{const t=Em(e),n=this.children.get(t);return n?n.get(Tm(e)):null}}setTree(e,t){if(Am(e))return t;{const n=Em(e),r=(this.children.get(n)||new Jg(null)).setTree(Tm(e),t);let o;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Jg(this.value,o)}}fold(e){return this.fold_(km(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,o)=>{n[r]=o.fold_(Nm(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,km(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Am(e))return null;{const r=Em(e),o=this.children.get(r);return o?o.findOnPath_(Tm(e),Nm(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,km(),t)}foreachOnPath_(e,t,n){if(Am(e))return this;{this.value&&n(t,this.value);const r=Em(e),o=this.children.get(r);return o?o.foreachOnPath_(Tm(e),Nm(t,r),n):new Jg(null)}}foreach(e){this.foreach_(km(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(Nm(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class Zg{constructor(e){this.writeTree_=e}static empty(){return new Zg(new Jg(null))}}function ev(e,t,n){if(Am(t))return new Zg(new Jg(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const o=r.path;let i=r.value;const s=Om(o,t);return i=i.updateChild(s,n),new Zg(e.writeTree_.set(o,i))}{const r=new Jg(n),o=e.writeTree_.setTree(t,r);return new Zg(o)}}}function tv(e,t,n){let r=e;return Kf(n,(e,n)=>{r=ev(r,Nm(t,e),n)}),r}function nv(e,t){if(Am(t))return Zg.empty();{const n=e.writeTree_.setTree(t,new Jg(null));return new Zg(n)}}function rv(e,t){return null!=ov(e,t)}function ov(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Om(n.path,t)):null}function iv(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(sg,(e,n)=>{t.push(new Wm(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new Wm(e,n.value))}),t}function sv(e,t){if(Am(t))return e;{const n=ov(e,t);return new Zg(null!=n?new Jg(n):e.writeTree_.subtree(t))}}function av(e){return e.writeTree_.isEmpty()}function lv(e,t){return cv(km(),e.writeTree_,t)}function cv(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,o)=>{".priority"===t?(dl(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=cv(Nm(e,t),o,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Nm(e,".priority"),r)),n}}function uv(e,t){return Cv(t,e)}function dv(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);dl(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let o=r.visible,i=!1,s=e.allWrites.length-1;for(;o&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&hv(t,r.path)?o=!1:Lm(r.path,t.path)&&(i=!0)),s--}if(o){if(i)return function(e){e.visibleWrites=fv(e.allWrites,pv,km()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=nv(e.visibleWrites,r.path);else{Kf(r.children,t=>{e.visibleWrites=nv(e.visibleWrites,Nm(r.path,t))})}return!0}return!1}function hv(e,t){if(e.snap)return Lm(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Lm(Nm(e.path,n),t))return!0;return!1}function pv(e){return e.visible}function fv(e,t,n){let r=Zg.empty();for(let o=0;o<e.length;++o){const i=e[o];if(t(i)){const e=i.path;let t;if(i.snap)Lm(n,e)?(t=Om(n,e),r=ev(r,t,i.snap)):Lm(e,n)&&(t=Om(e,n),r=ev(r,km(),i.snap.getChild(t)));else{if(!i.children)throw hl("WriteRecord should have .snap or .children");if(Lm(n,e))t=Om(n,e),r=tv(r,t,i.children);else if(Lm(e,n))if(t=Om(e,n),Am(t))r=tv(r,km(),i.children);else{const e=$l(i.children,Em(t));if(e){const n=e.getChild(Tm(t));r=ev(r,km(),n)}}}}}return r}function mv(e,t,n,r,o){if(r||o){const i=sv(e.visibleWrites,t);if(!o&&av(i))return n;if(o||null!=n||rv(i,km())){const i=function(e){return(e.visible||o)&&(!r||!~r.indexOf(e.writeId))&&(Lm(e.path,t)||Lm(t,e.path))};return lv(fv(e.allWrites,i,t),n||fg.EMPTY_NODE)}return null}{const r=ov(e.visibleWrites,t);if(null!=r)return r;{const r=sv(e.visibleWrites,t);if(av(r))return n;if(null!=n||rv(r,km())){return lv(r,n||fg.EMPTY_NODE)}return null}}}function gv(e,t,n,r){return mv(e.writeTree,e.treePath,t,n,r)}function vv(e,t){return function(e,t,n){let r=fg.EMPTY_NODE;const o=ov(e.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(sg,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const o=sv(e.visibleWrites,t);return n.forEachChild(sg,(e,t)=>{const n=lv(sv(o,new Cm(e)),t);r=r.updateImmediateChild(e,n)}),iv(o).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return iv(sv(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function yv(e,t,n,r){return function(e,t,n,r,o){dl(r||o,"Either existingEventSnap or existingServerSnap must exist");const i=Nm(t,n);if(rv(e.visibleWrites,i))return null;{const t=sv(e.visibleWrites,i);return av(t)?o.getChild(n):lv(t,o.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function bv(e,t){return function(e,t){return ov(e.visibleWrites,t)}(e.writeTree,Nm(e.treePath,t))}function wv(e,t,n,r,o,i){return function(e,t,n,r,o,i,s){let a;const l=sv(e.visibleWrites,t),c=ov(l,km());if(null!=c)a=c;else{if(null==n)return[];a=lv(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=i?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<o;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,o,i)}function _v(e,t,n){return function(e,t,n,r){const o=Nm(t,n),i=ov(e.visibleWrites,o);if(null!=i)return i;if(r.isCompleteForChild(n))return lv(sv(e.visibleWrites,o),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Sv(e,t){return Cv(Nm(e.treePath,t),e.writeTree)}function Cv(e,t){return{treePath:e,writeTree:t}}class kv{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;dl("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),dl(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(n,Sg(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(n,_g(n,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(n,wg(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw hl("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Sg(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Ev=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class xv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Wg(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _v(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:$g(this.viewCache_),o=wv(this.writes_,r,t,1,n,e);return 0===o.length?null:o[0]}}function Tv(e,t,n,r,o){const i=new kv;let s,a;if(n.type===Fg.OVERWRITE){const l=n;l.source.fromUser?s=Rv(e,t,l.path,l.snap,r,o,i):(dl(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Am(l.path),s=Pv(e,t,l.path,l.snap,r,o,a,i))}else if(n.type===Fg.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,r,o,i,s){let a=t;return r.foreach((r,l)=>{const c=Nm(n,r);Nv(t,Em(c))&&(a=Rv(e,a,c,l,o,i,s))}),r.foreach((r,l)=>{const c=Nm(n,r);Nv(t,Em(c))||(a=Rv(e,a,c,l,o,i,s))}),a}(e,t,l.path,l.children,r,o,i):(dl(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=Ov(e,t,l.path,l.children,r,o,a,i))}else if(n.type===Fg.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,o,i){let s;if(null!=bv(r,n))return t;{const a=new xv(r,t,o),l=t.eventCache.getNode();let c;if(Am(n)||".priority"===Em(n)){let n;if(t.serverCache.isFullyInitialized())n=gv(r,$g(t));else{const e=t.serverCache.getNode();dl(e instanceof fg,"serverChildren would be complete if leaf node"),n=vv(r,e)}c=e.filter.updateFullNode(l,n,i)}else{const o=Em(n);let u=_v(r,o,t.serverCache);null==u&&t.serverCache.isCompleteForChild(o)&&(u=l.getImmediateChild(o)),c=null!=u?e.filter.updateChild(l,o,u,Tm(n),a,i):t.eventCache.getNode().hasChild(o)?e.filter.updateChild(l,o,fg.EMPTY_NODE,Tm(n),a,i):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=gv(r,$g(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,i)))}return s=t.serverCache.isFullyInitialized()||null!=bv(r,km()),Gg(t,c,s,e.filter.filtersNodes())}}(e,t,a.path,r,o,i):function(e,t,n,r,o,i,s){if(null!=bv(o,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Am(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Pv(e,t,n,l.getNode().getChild(n),o,i,a,s);if(Am(n)){let r=new Jg(null);return l.getNode().forEachChild(Gm,(e,t)=>{r=r.set(new Cm(e),t)}),Ov(e,t,n,r,o,i,a,s)}return t}{let c=new Jg(null);return r.foreach((e,t)=>{const r=Nm(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),Ov(e,t,n,c,o,i,a,s)}}(e,t,a.path,a.affectedTree,r,o,i)}else{if(n.type!==Fg.LISTEN_COMPLETE)throw hl("Unknown operation type: "+n.type);s=function(e,t,n,r,o){const i=t.serverCache,s=Yg(t,i.getNode(),i.isFullyInitialized()||Am(n),i.isFiltered());return Iv(e,s,n,r,Ev,o)}(e,t,n.path,r,i)}const l=i.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Qg(e);(n.length>0||!e.eventCache.isFullyInitialized()||o&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(bg(Qg(t)))}}(t,s,l),{viewCache:s,changes:l}}function Iv(e,t,n,r,o,i){const s=t.eventCache;if(null!=bv(r,n))return t;{let a,l;if(Am(n))if(dl(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=$g(t),o=vv(r,n instanceof fg?n:fg.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),o,i)}else{const n=gv(r,$g(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,i)}else{const c=Em(n);if(".priority"===c){dl(1===xm(n),"Can't have a priority with additional path components");const o=s.getNode();l=t.serverCache.getNode();const i=yv(r,n,o,l);a=null!=i?e.filter.updatePriority(o,i):s.getNode()}else{const u=Tm(n);let d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=yv(r,n,s.getNode(),l);d=null!=e?s.getNode().getImmediateChild(c).updateChild(u,e):s.getNode().getImmediateChild(c)}else d=_v(r,c,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),c,d,u,o,i):s.getNode()}}return Gg(t,a,s.isFullyInitialized()||Am(n),e.filter.filtersNodes())}}function Pv(e,t,n,r,o,i,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(Am(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=Em(n);if(!l.isCompleteForPath(n)&&xm(n)>1)return t;const o=Tm(n),i=l.getNode().getImmediateChild(e).updateChild(o,r);c=".priority"===e?u.updatePriority(l.getNode(),i):u.updateChild(l.getNode(),e,i,o,Ev,null)}const d=Yg(t,c,l.isFullyInitialized()||Am(n),u.filtersNodes());return Iv(e,d,n,o,new xv(o,d,i),a)}function Rv(e,t,n,r,o,i,s){const a=t.eventCache;let l,c;const u=new xv(o,t,i);if(Am(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=Gg(t,c,!0,e.filter.filtersNodes());else{const o=Em(n);if(".priority"===o)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Gg(t,c,a.isFullyInitialized(),a.isFiltered());else{const i=Tm(n),c=a.getNode().getImmediateChild(o);let d;if(Am(i))d=r;else{const e=u.getCompleteChild(o);d=null!=e?".priority"===Im(i)&&e.getChild(Rm(i)).isEmpty()?e:e.updateChild(i,r):fg.EMPTY_NODE}if(c.equals(d))l=t;else{l=Gg(t,e.filter.updateChild(a.getNode(),o,d,i,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Nv(e,t){return e.eventCache.isCompleteForChild(t)}function Av(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function Ov(e,t,n,r,o,i,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Am(n)?r:new Jg(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=Av(0,t.serverCache.getNode().getImmediateChild(n),r);c=Pv(e,c,new Cm(n),l,o,i,s,a)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=Av(0,t.serverCache.getNode().getImmediateChild(n),r);c=Pv(e,c,new Cm(n),l,o,i,s,a)}}),c}class Mv{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Cg(n.getIndex()),o=(i=n).loadsAllData()?new Cg(i.getIndex()):i.hasLimit()?new Eg(i):new kg(i);var i;this.processor_=function(e){return{filter:e}}(o);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(fg.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(fg.EMPTY_NODE,a.getNode(),null),u=new Wg(l,s.isFullyInitialized(),r.filtersNodes()),d=new Wg(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Kg(d,u),this.eventGenerator_=new qg(this.query_)}get query(){return this.query_}}function Dv(e,t){const n=$g(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Am(t)&&!n.getImmediateChild(Em(t)).isEmpty())?n.getChild(t):null}function Lv(e){return 0===e.eventRegistrations_.length}function Fv(e,t,n){const r=[];if(n){dl(null==t,"A cancel should cancel all event registrations.");const o=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,o);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const o=e.eventRegistrations_[r];if(o.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(o)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function jv(e,t,n,r){t.type===Fg.MERGE&&null!==t.source.queryId&&(dl($g(e.viewCache_),"We should always have a full cache before handling merges"),dl(Qg(e.viewCache_),"Missing event cache, even though we have a server cache"));const o=e.viewCache_,i=Tv(e.processor_,o,t,n,r);var s,a;return s=e.processor_,a=i.viewCache,dl(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),dl(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),dl(i.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=i.viewCache,zv(e,i.changes,i.viewCache.eventCache.getNode(),null)}function zv(e,t,n,r){const o=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const o=[],i=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&i.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),Hg(e,o,"child_removed",t,r,n),Hg(e,o,"child_added",t,r,n),Hg(e,o,"child_moved",i,r,n),Hg(e,o,"child_changed",t,r,n),Hg(e,o,"value",t,r,n),o}(e.eventGenerator_,t,n,o)}let Uv,Vv;class Bv{constructor(){this.views=new Map}}function Wv(e,t,n,r){const o=t.source.queryId;if(null!==o){const i=e.views.get(o);return dl(null!=i,"SyncTree gave us an op for an invalid query."),jv(i,t,n,r)}{let o=[];for(const i of e.views.values())o=o.concat(jv(i,t,n,r));return o}}function qv(e,t,n,r,o){const i=t._queryIdentifier,s=e.views.get(i);if(!s){let e=gv(n,o?r:null),i=!1;e?i=!0:r instanceof fg?(e=vv(n,r),i=!1):(e=fg.EMPTY_NODE,i=!1);const s=Kg(new Wg(e,i,!1),new Wg(r,o,!1));return new Mv(t,s)}return s}function Hv(e,t,n,r,o,i){const s=qv(e,t,r,o,i);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(sg,(e,t)=>{r.push(wg(e,t))});return n.isFullyInitialized()&&r.push(bg(n.getNode())),zv(e,r,n.getNode(),t)}(s,n)}function Kv(e,t,n,r){const o=t._queryIdentifier,i=[];let s=[];const a=Xv(e);if("default"===o)for(const[l,c]of e.views.entries())s=s.concat(Fv(c,n,r)),Lv(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const t=e.views.get(o);t&&(s=s.concat(Fv(t,n,r)),Lv(t)&&(e.views.delete(o),t.query._queryParams.loadsAllData()||i.push(t.query)))}return a&&!Xv(e)&&i.push(new(dl(Uv,"Reference.ts has not been loaded"),Uv)(t._repo,t._path)),{removed:i,events:s}}function Gv(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Yv(e,t){let n=null;for(const r of e.views.values())n=n||Dv(r,t);return n}function Qv(e,t){if(t._queryParams.loadsAllData())return Jv(e);{const n=t._queryIdentifier;return e.views.get(n)}}function $v(e,t){return null!=Qv(e,t)}function Xv(e){return null!=Jv(e)}function Jv(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Zv=1;class ey{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Jg(null),this.pendingWriteTree_={visibleWrites:Zg.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ty(e,t,n,r,o){return function(e,t,n,r,o){dl(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:o}),o&&(e.visibleWrites=ev(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,o),o?ly(e,new Vg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ny(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(dv(e.pendingWriteTree_,t)){let t=new Jg(null);return null!=r.snap?t=t.set(km(),!0):Kf(r.children,e=>{t=t.set(new Cm(e),!0)}),ly(e,new zg(r.path,t,n))}return[]}function ry(e,t,n){return ly(e,new Vg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function oy(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=t._path,s=e.syncPointTree_.get(i);let a=[];if(s&&("default"===t._queryIdentifier||$v(s,t))){const l=Kv(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!o){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),o=e.syncPointTree_.findOnPath(i,(e,t)=>Xv(t));if(n&&!o){const t=e.syncPointTree_.subtree(i);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&Xv(t)){return[Jv(t)]}{let e=[];return t&&(e=Gv(t)),Kf(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],o=r.query,i=dy(e,r);e.listenProvider_.startListening(vy(o),hy(e,o),i.hashFn,i.onComplete)}}}if(!o&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(vy(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(py(t));e.listenProvider_.stopListening(vy(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=py(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function iy(e,t,n,r){const o=fy(e,r);if(null!=o){const r=my(o),i=r.path,s=r.queryId,a=Om(i,t);return gy(e,i,new Vg(jg(s),a,n))}return[]}function sy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=t._path;let i=null,s=!1;e.syncPointTree_.foreachOnPath(o,(e,t)=>{const n=Om(e,o);i=i||Yv(t,n),s=s||Xv(t)});let a,l=e.syncPointTree_.get(o);if(l?(s=s||Xv(l),i=i||Yv(l,km())):(l=new Bv,e.syncPointTree_=e.syncPointTree_.set(o,l)),null!=i)a=!0;else{a=!1,i=fg.EMPTY_NODE;e.syncPointTree_.subtree(o).foreachChild((e,t)=>{const n=Yv(t,km());n&&(i=i.updateImmediateChild(e,n))})}const c=$v(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=py(t);dl(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Zv++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=Hv(l,t,n,uv(e.pendingWriteTree_,o),i,a);if(!c&&!s&&!r){const n=Qv(l,t);u=u.concat(function(e,t,n){const r=t._path,o=hy(e,t),i=dy(e,n),s=e.listenProvider_.startListening(vy(t),o,i.hashFn,i.onComplete),a=e.syncPointTree_.subtree(r);if(o)dl(!Xv(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold((e,t,n)=>{if(!Am(e)&&t&&Xv(t))return[Jv(t).query];{let e=[];return t&&(e=e.concat(Gv(t).map(e=>e.query))),Kf(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(vy(r),hy(e,r))}}return s}(e,t,n))}return u}function ay(e,t,n){const r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=Yv(n,Om(e,t));if(r)return r});return mv(r,t,o,n,!0)}function ly(e,t){return cy(t,e.syncPointTree_,null,uv(e.pendingWriteTree_,km()))}function cy(e,t,n,r){if(Am(e.path))return uy(e,t,n,r);{const o=t.get(km());null==n&&null!=o&&(n=Yv(o,km()));let i=[];const s=Em(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=Sv(r,s);i=i.concat(cy(a,l,e,t))}return o&&(i=i.concat(Wv(o,e,r,n))),i}}function uy(e,t,n,r){const o=t.get(km());null==n&&null!=o&&(n=Yv(o,km()));let i=[];return t.children.inorderTraversal((t,o)=>{const s=n?n.getImmediateChild(t):null,a=Sv(r,t),l=e.operationForChild(t);l&&(i=i.concat(uy(l,o,s,a)))}),o&&(i=i.concat(Wv(o,e,r,n))),i}function dy(e,t){const n=t.query,r=hy(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||fg.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=fy(e,n);if(r){const n=my(r),o=n.path,i=n.queryId,s=Om(o,t);return gy(e,o,new Ug(jg(i),s))}return[]}(e,n._path,r):function(e,t){return ly(e,new Ug({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return oy(e,n,null,r)}}}}function hy(e,t){const n=py(t);return e.queryToTagMap.get(n)}function py(e){return e._path.toString()+"$"+e._queryIdentifier}function fy(e,t){return e.tagToQueryMap.get(t)}function my(e){const t=e.indexOf("$");return dl(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Cm(e.substr(0,t))}}function gy(e,t,n){const r=e.syncPointTree_.get(t);dl(r,"Missing sync point for query tag that we're tracking");return Wv(r,n,uv(e.pendingWriteTree_,t),null)}function vy(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(dl(Vv,"Reference.ts has not been loaded"),Vv)(e._repo,e._path):e}class yy{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new yy(t)}node(){return this.node_}}class by{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Nm(this.path_,e);return new by(this.syncTree_,t)}node(){return ay(this.syncTree_,this.path_)}}const wy=function(e,t,n){return e&&"object"===typeof e?(dl(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?_y(e[".sv"],t,n):"object"===typeof e[".sv"]?Sy(e[".sv"],t):void dl(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},_y=function(e,t,n){if("timestamp"===e)return n.timestamp;dl(!1,"Unexpected server value: "+e)},Sy=function(e,t,n){e.hasOwnProperty("increment")||dl(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&dl(!1,"Unexpected increment value: "+r);const o=t.node();if(dl(null!==o&&"undefined"!==typeof o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const i=o.getValue();return"number"!==typeof i?r:i+r},Cy=function(e,t,n,r){return Ey(t,new by(n,e),r)},ky=function(e,t,n){return Ey(e,new yy(t),n)};function Ey(e,t,n){const r=e.getPriority().val(),o=wy(r,t.getImmediateChild(".priority"),n);let i;if(e.isLeafNode()){const r=e,i=wy(r.getValue(),t,n);return i!==r.getValue()||o!==r.getPriority().val()?new ig(i,gg(o)):e}{const r=e;return i=r,o!==r.getPriority().val()&&(i=i.updatePriority(new ig(o))),r.forEachChild(sg,(e,r)=>{const o=Ey(r,t.getImmediateChild(e),n);o!==r&&(i=i.updateImmediateChild(e,o))}),i}}class xy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function Ty(e,t){let n=t instanceof Cm?t:new Cm(t),r=e,o=Em(n);for(;null!==o;){const e=$l(r.node.children,o)||{children:{},childCount:0};r=new xy(o,r,e),n=Tm(n),o=Em(n)}return r}function Iy(e){return e.node.value}function Py(e,t){e.node.value=t,My(e)}function Ry(e){return e.node.childCount>0}function Ny(e,t){Kf(e.node.children,(n,r)=>{t(new xy(n,e,r))})}function Ay(e,t,n,r){n&&!r&&t(e),Ny(e,e=>{Ay(e,t,!0,r)}),n&&r&&t(e)}function Oy(e){return new Cm(null===e.parent?e.name:Oy(e.parent)+"/"+e.name)}function My(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Iy(e)&&!Ry(e)}(n),o=Ql(e.node.children,t);r&&o?(delete e.node.children[t],e.node.childCount--,My(e)):r||o||(e.node.children[t]=n.node,e.node.childCount++,My(e))}(e.parent,e.name,e)}const Dy=/[\[\].#$\/\u0000-\u001F\u007F]/,Ly=/[\[\].#$\u0000-\u001F\u007F]/,Fy=10485760,jy=function(e){return"string"===typeof e&&0!==e.length&&!Dy.test(e)},zy=function(e){return"string"===typeof e&&0!==e.length&&!Ly.test(e)},Uy=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!jf(e)||e&&"object"===typeof e&&Ql(e,".sv")},Vy=function(e,t,n,r){r&&void 0===t||By(ac(e,"value"),t,n)},By=function(e,t,n){const r=n instanceof Cm?new Fm(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+zm(r));if("function"===typeof t)throw new Error(e+"contains a function "+zm(r)+" with contents = "+t.toString());if(jf(t))throw new Error(e+"contains "+t.toString()+" "+zm(r));if("string"===typeof t&&t.length>Fy/3&&lc(t)>Fy)throw new Error(e+"contains a string greater than "+Fy+" utf8 bytes "+zm(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,o=!1;if(Kf(t,(t,i)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!jy(t)))throw new Error(e+" contains an invalid key ("+t+") "+zm(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=lc(t),jm(e)}(r,t),By(e,i,r),function(e){const t=e.parts_.pop();e.byteLength_-=lc(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&o)throw new Error(e+' contains ".value" child '+zm(r)+" in addition to actual children.")}},Wy=function(e,t,n,r){if(r&&void 0===t)return;const o=ac(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const i=[];Kf(t,(e,t)=>{const r=new Cm(e);if(By(o,t,Nm(n,r)),".priority"===Im(r)&&!Uy(t))throw new Error(o+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const o=Pm(r);for(let t=0;t<o.length;t++)if(".priority"===o[t]&&t===o.length-1);else if(!jy(o[t]))throw new Error(e+"contains an invalid key ("+o[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Mm);let o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&Lm(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(o,i)},qy=function(e,t,n){if(!n||void 0!==t){if(jf(t))throw new Error(ac(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Uy(t))throw new Error(ac(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Hy=function(e,t,n,r){if((!r||void 0!==n)&&!zy(n))throw new Error(ac(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ky=function(e,t){if(".info"===Em(t))throw new Error(e+" failed = Can't modify data under /.info/")},Gy=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!jy(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),zy(e)}(n))throw new Error(ac(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Yy{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qy(e,t){let n=null;for(let r=0;r<t.length;r++){const o=t[r],i=o.getPath();null===n||Dm(i,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:i}),n.events.push(o)}n&&e.eventLists_.push(n)}function $y(e,t,n){Qy(e,n),Jy(e,e=>Dm(e,t))}function Xy(e,t,n){Qy(e,n),Jy(e,e=>Lm(e,t)||Lm(t,e))}function Jy(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const o=e.eventLists_[r];if(o){t(o.path)?(Zy(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Zy(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Rf&&Of("event: "+n.toString()),$f(r)}}}const eb="repo_interrupt";class tb{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Yy,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ng(),this.transactionQueueTree_=new xy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function nb(e,t,n){if(e.stats_=dm(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Pg(e.repoInfo_,(t,n,r,o)=>{ib(e,t,n,r,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>sb(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Gl(n)}catch(gV){throw new Error("Invalid authOverride provided: "+gV)}}e.persistentConnection_=new Bm(e.repoInfo_,t,(t,n,r,o)=>{ib(e,t,n,r,o)},t=>{sb(e,t)},t=>{!function(e,t){Kf(t,(t,n)=>{ab(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return um[n]||(um[n]=t()),um[n]}(e.repoInfo_,()=>new Lg(e.stats_,e.server_)),e.infoData_=new Rg,e.infoSyncTree_=new ey({startListening:(t,n,r,o)=>{let i=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(i=ry(e.infoSyncTree_,t._path,s),setTimeout(()=>{o("ok")},0)),i},stopListening:()=>{}}),ab(e,"connected",!1),e.serverSyncTree_=new ey({startListening:(t,n,r,o)=>(e.server_.listen(t,r,n,(n,r)=>{const i=o(n,r);Xy(e.eventQueue_,t._path,i)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function rb(e){const t=e.infoData_.getNode(new Cm(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ob(e){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:rb(e)})}function ib(e,t,n,r,o){e.dataUpdateCount++;const i=new Cm(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(o)if(r){const t=Jl(n,e=>gg(e));s=function(e,t,n,r){const o=fy(e,r);if(o){const r=my(o),i=r.path,s=r.queryId,a=Om(i,t),l=Jg.fromObject(n);return gy(e,i,new Bg(jg(s),a,l))}return[]}(e.serverSyncTree_,i,t,o)}else{const t=gg(n);s=iy(e.serverSyncTree_,i,t,o)}else if(r){const t=Jl(n,e=>gg(e));s=function(e,t,n){const r=Jg.fromObject(n);return ly(e,new Bg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,i,t)}else{const t=gg(n);s=ry(e.serverSyncTree_,i,t)}let a=i;s.length>0&&(a=yb(e,i)),Xy(e.eventQueue_,a,s)}function sb(e,t){ab(e,"connected",t),!1===t&&function(e){fb(e,"onDisconnectEvents");const t=ob(e),n=Ng();Mg(e.onDisconnect_,km(),(r,o)=>{const i=Cy(r,o,e.serverSyncTree_,t);Ag(n,r,i)});let r=[];Mg(n,km(),(t,n)=>{r=r.concat(ry(e.serverSyncTree_,t,n));const o=Cb(e,t);yb(e,o)}),e.onDisconnect_=Ng(),Xy(e.eventQueue_,km(),r)}(e)}function ab(e,t,n){const r=new Cm("/.info/"+t),o=gg(n);e.infoData_.updateSnapshot(r,o);const i=ry(e.infoSyncTree_,r,o);Xy(e.eventQueue_,r,i)}function lb(e){return e.nextWriteId_++}function cb(e,t,n,r,o){fb(e,"set",{path:t.toString(),value:n,priority:r});const i=ob(e),s=gg(n,r),a=ay(e.serverSyncTree_,t),l=ky(s,a,i),c=lb(e),u=ty(e.serverSyncTree_,t,l,c,!0);Qy(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(n,r)=>{const i="ok"===n;i||Ff("set at "+t+" failed: "+n);const s=ny(e.serverSyncTree_,c,!i);Xy(e.eventQueue_,t,s),mb(e,o,n,r)});const d=Cb(e,t);yb(e,d),Xy(e.eventQueue_,d,[])}function ub(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,o)=>{"ok"===r&&Og(e.onDisconnect_,t),mb(e,n,r,o)})}function db(e,t,n,r){const o=gg(n);e.server_.onDisconnectPut(t.toString(),o.val(!0),(n,i)=>{"ok"===n&&Ag(e.onDisconnect_,t,o),mb(e,r,n,i)})}function hb(e,t,n){let r;r=".info"===Em(t._path)?oy(e.infoSyncTree_,t,n):oy(e.serverSyncTree_,t,n),$y(e.eventQueue_,t._path,r)}function pb(e){e.persistentConnection_&&e.persistentConnection_.interrupt(eb)}function fb(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];Of(t,...r)}function mb(e,t,n,r){t&&$f(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let o=e;r&&(o+=": "+r);const i=new Error(o);i.code=e,t(i)}})}function gb(e,t,n){return ay(e.serverSyncTree_,t,n)||fg.EMPTY_NODE}function vb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Sb(e,t),Iy(t)){const n=wb(e,t);dl(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),o=gb(e,t,r);let i=o;const s=o.hash();for(let c=0;c<n.length;c++){const e=n[c];dl(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Om(t,e.path);i=i.updateChild(r,e.currentOutputSnapshotRaw)}const a=i.val(!0),l=t;e.server_.put(l.toString(),a,r=>{fb(e,"transaction put response",{path:l.toString(),status:r});let o=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,o=o.concat(ny(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();Sb(e,Ty(e.transactionQueueTree_,t)),vb(e,e.transactionQueueTree_),Xy(e.eventQueue_,t,o);for(let e=0;e<r.length;e++)$f(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Ff("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}yb(e,t)}},s)}(e,Oy(t),n)}else Ry(t)&&Ny(t,t=>{vb(e,t)})}function yb(e,t){const n=bb(e,t),r=Oy(n);return function(e,t,n){if(0===t.length)return;const r=[];let o=[];const i=t.filter(e=>0===e.status),s=i.map(e=>e.currentWriteId);for(let a=0;a<t.length;a++){const i=t[a],l=Om(n,i.path);let c,u=!1;if(dl(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===i.status)u=!0,c=i.abortReason,o=o.concat(ny(e.serverSyncTree_,i.currentWriteId,!0));else if(0===i.status)if(i.retryCount>=25)u=!0,c="maxretry",o=o.concat(ny(e.serverSyncTree_,i.currentWriteId,!0));else{const n=gb(e,i.path,s);i.currentInputSnapshot=n;const r=t[a].update(n.val());if(void 0!==r){By("transaction failed: Data returned ",r,i.path);let t=gg(r);"object"===typeof r&&null!=r&&Ql(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=i.currentWriteId,l=ob(e),c=ky(t,n,l);i.currentOutputSnapshotRaw=t,i.currentOutputSnapshotResolved=c,i.currentWriteId=lb(e),s.splice(s.indexOf(a),1),o=o.concat(ty(e.serverSyncTree_,i.path,c,i.currentWriteId,i.applyLocally)),o=o.concat(ny(e.serverSyncTree_,a,!0))}else u=!0,c="nodata",o=o.concat(ny(e.serverSyncTree_,i.currentWriteId,!0))}Xy(e.eventQueue_,n,o),o=[],u&&(t[a].status=2,function(e){setTimeout(e,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&("nodata"===c?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(c),!1,null))))}Sb(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)$f(r[a]);vb(e,e.transactionQueueTree_)}(e,wb(e,n),r),r}function bb(e,t){let n,r=e.transactionQueueTree_;for(n=Em(t);null!==n&&void 0===Iy(r);)r=Ty(r,n),n=Em(t=Tm(t));return r}function wb(e,t){const n=[];return _b(e,t,n),n.sort((e,t)=>e.order-t.order),n}function _b(e,t,n){const r=Iy(t);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);Ny(t,t=>{_b(e,t,n)})}function Sb(e,t){const n=Iy(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Py(t,n.length>0?n:void 0)}Ny(t,t=>{Sb(e,t)})}function Cb(e,t){const n=Oy(bb(e,t)),r=Ty(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{kb(e,t)}),kb(e,r),Ay(r,t=>{kb(e,t)}),n}function kb(e,t){const n=Iy(t);if(n){const r=[];let o=[],i=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(dl(i===t-1,"All SENT items should be at beginning of queue."),i=t,n[t].status=3,n[t].abortReason="set"):(dl(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),o=o.concat(ny(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===i?Py(t,void 0):n.length=i+1,Xy(e.eventQueue_,Oy(t),o);for(let e=0;e<r.length;e++)$f(r[e])}}const Eb=function(e,t){const n=xb(e),r=n.namespace;"firebase.com"===n.domain&&Lf(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Lf("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ff("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const o="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new sm(n.host,n.secure,r,o,t,"",r!==n.subdomain),path:new Cm(n.pathString)}},xb=function(e){let t="",n="",r="",o="",i="",s=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(o=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(gV){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ff("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),i=r}"ns"in h&&(i=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:o,namespace:i}},Tb="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class Ib{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Gl(this.snapshot.exportVal())}}class Pb{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Rb{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return dl(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Nb{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new Il;return ub(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Ky("OnDisconnect.remove",this._path);const e=new Il;return db(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Ky("OnDisconnect.set",this._path),Vy("OnDisconnect.set",e,this._path,!1);const t=new Il;return db(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Ky("OnDisconnect.setWithPriority",this._path),Vy("OnDisconnect.setWithPriority",e,this._path,!1),qy("OnDisconnect.setWithPriority",t,!1);const n=new Il;return function(e,t,n,r,o){const i=gg(n,r);e.server_.onDisconnectPut(t.toString(),i.val(!0),(n,r)=>{"ok"===n&&Ag(e.onDisconnect_,t,i),mb(0,o,n,r)})}(this._repo,this._path,e,t,n.wrapCallback(()=>{})),n.promise}update(e){Ky("OnDisconnect.update",this._path),Wy("OnDisconnect.update",e,this._path,!1);const t=new Il;return function(e,t,n,r){if(Xl(n))return Of("onDisconnect().update() called with empty data.  Don't do anything."),void mb(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(o,i)=>{"ok"===o&&Kf(n,(n,r)=>{const o=gg(r);Ag(e.onDisconnect_,Nm(t,n),o)}),mb(0,r,o,i)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Ab{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Am(this._path)?null:Im(this._path)}get ref(){return new Ob(this._repo,this._path)}get _queryIdentifier(){const e=Ig(this._queryParams),t=qf(e);return"{}"===t?"default":t}get _queryObject(){return Ig(this._queryParams)}isEqual(e){if(!((e=cc(e))instanceof Ab))return!1;const t=this._repo===e._repo,n=Dm(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Ob extends Ab{constructor(e,t){super(e,t,new xg,!1)}get parent(){const e=Rm(this._path);return null===e?null:new Ob(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Mb{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Cm(e),n=Lb(this.ref,e);return new Mb(this._node.getChild(t),n,sg)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new Mb(n,Lb(this.ref,t),sg)))}hasChild(e){const t=new Cm(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Db(e,t){return(e=cc(e))._checkNotDeleted("ref"),void 0!==t?Lb(e._root,t):e._root}function Lb(e,t){var n,r,o,i;return null===Em((e=cc(e))._path)?(n="child",r="path",i=!1,(o=t)&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),Hy(n,r,o,i)):Hy("child","path",t,!1),new Ob(e._repo,Nm(e._path,t))}function Fb(e){return e=cc(e),new Nb(e._repo,e._path)}function jb(e,t){e=cc(e),Ky("set",e._path),Vy("set",t,e._path,!1);const n=new Il;return cb(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}class zb{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Ib("value",this,new Mb(e.snapshotNode,new Ob(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Pb(this,e,t):null}matches(e){return e instanceof zb&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Ub{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Pb(this,e,t):null}createEvent(e,t){dl(null!=e.childName,"Child events should have a childName.");const n=Lb(new Ob(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ib(e.type,this,new Mb(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Ub&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Vb(e,t,n,r,o){let i;if("object"===typeof r&&(i=void 0,o=r),"function"===typeof r&&(i=r),o&&o.onlyOnce){const t=n,r=(n,r)=>{hb(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new Rb(n,i||void 0),a="value"===t?new zb(s):new Ub(t,s);return function(e,t,n){let r;r=".info"===Em(t._path)?sy(e.infoSyncTree_,t,n):sy(e.serverSyncTree_,t,n),$y(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>hb(e._repo,e,a)}function Bb(e,t,n,r){return Vb(e,"value",t,n,r)}!function(e){dl(!Uv,"__referenceConstructor has already been defined"),Uv=e}(Ob),function(e){dl(!Vv,"__referenceConstructor has already been defined"),Vv=e}(Ob);const Wb={};let qb=!1;function Hb(e,t,n,r,o){let i=r||e.options.databaseURL;void 0===i&&(e.options.projectId||Lf("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Of("Using default host for project ",e.options.projectId),i="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let s,a,l=Eb(i,o),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"/my-new-chat-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GEMINI_API_KEY:"AIzaSyB4Y3RIiX6Mrai8aXYtIKnx2bAgfFkR-G8"}.FIREBASE_DATABASE_EMULATOR_HOST),a?(s=!0,i="http://".concat(a,"?ns=").concat(c.namespace),l=Eb(i,o),c=l.repoInfo):s=!l.repoInfo.secure;const u=o&&s?new em(em.OWNER):new Zf(e.name,e.options,t);Gy("Invalid Firebase Database URL",l),Am(l.path)||Lf("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let o=Wb[t.name];o||(o={},Wb[t.name]=o);let i=o[e.toURLString()];i&&Lf("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return i=new tb(e,qb,n,r),o[e.toURLString()]=i,i}(c,e,u,new Jf(e,n));return new Kb(d,e)}class Kb{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(nb(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ob(this._repo,km())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Wb[t];n&&n[e.key]===e||Lf("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),pb(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Lf("Cannot call "+e+" on a deleted database.")}}const Gb={".sv":"timestamp"};function Yb(){return Gb}Bm.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Bm.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){wf(Tu),Su(new uc("database",(e,t)=>{let{instanceIdentifier:n}=t;return Hb(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),Ru(vf,yf,e),Ru(vf,yf,"esm2020")}();Ru("firebase","12.2.1","app");var Qb,$b,Xb="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Jb={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var o=0;16>o;++o)r[o]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],o=e.g[2];var i=e.g[3],s=t+(i^n&(o^i))+r[0]+3614090360&4294967295;s=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=n+(s<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(o^i))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(o^i))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(o^i))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^i&(n^o))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(o^i&(n^o))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(o^i&(n^o))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(o^i&(n^o))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^o^i)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^o^i)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^o^i)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^o^i)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(o^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=o+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(o|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(o^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=o+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(o|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(o^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=o+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(o|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((i=(t=n+((s=t+(o^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((o=i+((s=o+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,o=e.length-1;0<=o;o--){var i=0|e[o];r&&i==t||(n[o]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,o=this.B,i=this.h,s=0;s<t;){if(0==i)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(o[i++]=e.charCodeAt(s++),i==this.blockSize){n(this,o),i=0;break}}else for(;s<t;)if(o[i++]=e[s++],i==this.blockSize){n(this,o),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var o={};function i(e){return-128<=e&&128>e?function(e,t){var n=o;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(s(-e));for(var t=[],n=1,o=0;e>=n;o++)t[o]=e/n|0,n*=4294967296;return new r(t,0)}var a=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],o=0;o<t;o++)n[o]=~e.g[o];return new r(n,~e.h).add(l)}function p(e,t){return e.add(h(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var o=y(n,1),i=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(o=o.add(n),i=c),r=y(r,1),n=y(n,1)}return t=p(e,o.j(t)),new m(o,t)}for(o=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=s(n)).j(t);d(c)||0<c.l(e);)c=(i=s(n-=r)).j(t);u(i)&&(i=l),o=o.add(i),e=p(e,c)}return new m(o,e)}function v(e){for(var t=e.g.length+1,n=[],o=0;o<t;o++)n[o]=e.i(o)<<1|e.i(o-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var o=e.g.length-n,i=[],s=0;s<o;s++)i[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var o=g(n,t).g,i=((0<(n=p(n,o.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=o))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=p(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0,i=0;i<=t;i++){var s=o+(65535&this.i(i))+(65535&e.i(i)),a=(s>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);o=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],o=0;o<2*t;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var i=0;i<e.g.length;i++){var l=this.i(o)>>>16,p=65535&this.i(o),m=e.i(i)>>>16,g=65535&e.i(i);n[2*o+2*i]+=p*g,f(n,2*o+2*i),n[2*o+2*i+1]+=l*g,f(n,2*o+2*i+1),n[2*o+2*i+1]+=p*m,f(n,2*o+2*i+1),n[2*o+2*i+2]+=l*m,f(n,2*o+2*i+2)}for(o=0;o<t;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=t;o<2*t;o++)n[o]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)&e.i(o);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)|e.i(o);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)^e.i(o);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,$b=Jb.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),o=a,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=s(Math.pow(n,l)),o=o.j(l).add(s(c))):o=(o=o.j(r)).add(s(c))}return o},Qb=Jb.Integer=r}).apply("undefined"!==typeof Xb?Xb:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Zb,ew,tw,nw,rw,ow,iw,sw,aw="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},lw={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof aw&&aw];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var o=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var s=e[i];if(!(s in o))break e;o=o[s]}(r=r(i=o[e=e[e.length-1]]))!=i&&null!=r&&t(o,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,o={next:function(){if(!r&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return r=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o}(this,function(e,t){return t})}});var r=r||{},o=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let o=0;o<r;o++)e[n+o]=t[o]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=o.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){let n,r;for(let o=1;o<arguments.length;o++){for(n in r=arguments[o],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function C(e){o.setTimeout(()=>{throw e},0)}function k(){var e=P;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new x,e=>e.reset());class x{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,I=!1,P=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},R=()=>{const e=o.Promise.resolve(void 0);T=()=>{e.then(N)}};var N=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){C(n)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function A(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}A.prototype.s=!1,A.prototype.ma=function(){this.s||(this.s=!0,this.N())},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(n){}return e}();function D(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var o=!0;break e}catch(Ez){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}d(D,O);var L={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),j=0;function z(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=o,this.key=++j,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,o=e.g[n],i=Array.prototype.indexOf.call(o,t,void 0);(r=0<=i)&&Array.prototype.splice.call(o,i,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function W(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return o}return-1}V.prototype.add=function(e,t,n,r,o){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var s=W(e,t,r,o);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new z(t,this.src,i,!!r,o)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),H={};function K(e,t,n,r,o){if(r&&r.once)return Y(e,t,n,r,o);if(Array.isArray(t)){for(var i=0;i<t.length;i++)K(e,t[i],n,r,o);return null}return n=te(n),e&&e[F]?e.K(t,n,s(r)?!!r.capture:!!r,o):G(e,t,n,!1,r,o)}function G(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");var a=s(o)?!!o.capture:!!o,l=Z(e);if(l||(e[q]=l=new V(e)),(n=l.add(t,n,r,a,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)M||(o=a),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Y(e,t,n,r,o){if(Array.isArray(t)){for(var i=0;i<t.length;i++)Y(e,t[i],n,r,o);return null}return n=te(n),e&&e[F]?e.L(t,n,s(r)?!!r.capture:!!r,o):G(e,t,n,!0,r,o)}function Q(e,t,n,r,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)Q(e,t[i],n,r,o);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=W(i=e.g[t],n,r,o))&&(U(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=W(t,n,r,o)),(n=-1<e?t[e]:null)&&$(n))}function $(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[q]=null)):U(e)}}}function X(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&$(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){A.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var o=t;_(t=new O(r,e),o)}if(o=!0,n)for(var i=n.length-1;0<=i;i--){var s=t.g=n[i];o=oe(s,r,!0,t)&&o}if(o=oe(s=t.g=e,r,!0,t)&&o,o=oe(s,r,!1,t)&&o,n)for(i=0;i<n.length;i++)o=oe(s=t.g=n[i],r,!1,t)&&o}function oe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,i=0;i<t.length;++i){var s=t[i];if(s&&!s.da&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.fa&&B(e.i,s),o=!1!==a.call(l,r)&&o}}return o&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:o.setTimeout(e,t||0)}function se(e){e.g=ie(()=>{e.g=null,e.i&&(e.i=!1,se(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,A),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends A{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){A.call(this),this.h=e,this.g={}}d(le,A);var ce=[];function ue(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&$(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=o.JSON.stringify,he=o.JSON.parse,pe=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function fe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}fe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){O.call(this,"d")}function be(){O.call(this,"c")}d(ye,O),d(be,O);var we={},_e=null;function Se(){return _e=_e||new ne}function Ce(e){O.call(this,we.La,e)}function ke(e){const t=Se();re(t,new Ce(t))}function Ee(e,t){O.call(this,we.STAT_EVENT,e),this.stat=t}function xe(e){const t=Se();re(t,new Ee(t,e))}function Te(e,t){O.call(this,we.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){e()},t)}function Pe(){this.g=!0}function Re(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var i=o[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var s=1;s<o.length;s++)o[s]=""}}}return de(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}we.La="serverreachability",d(Ce,O),we.STAT_EVENT="statevent",d(Ee,O),we.Ma="timingevent",d(Te,O),Pe.prototype.xa=function(){this.g=!1},Pe.prototype.info=function(){};var Ne,Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Me(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Me,fe),Me.prototype.g=function(){return new XMLHttpRequest},Me.prototype.i=function(){return{}},Ne=new Me;var Fe={},je={};function ze(e,t,n){e.L=1,e.v=dt(st(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),We(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Et(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=pn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var o="readystatechange";Array.isArray(o)||(o&&(ce[0]=o.toString()),o=ce);for(var i=0;i<o.length;i++){var s=K(n,o[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,o,i){e.info(function(){if(e.g)if(i)for(var s="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?je:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?je:(t=t.slice(r,r+n),e.C=r+n,t))}function We(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(c(e.ba,e),t)}function He(e){e.B&&(o.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ye(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(xz){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),$t(n)}rn(n),xe(18)}}else n.za=o[1],0<n.za-n.T&&37500>o[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(xz){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!f(t))for(o=n.Da.g.parse(t),t=0;t<o.length;t++){let c=o[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const o=c[4];null!=o&&(n.Aa=o,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var a=s,l=r.L;l&&(a.I=l),a.B&&(He(a),We(a)),r.g=s}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(xz){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=h||7==t||ke(),He(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=Kt(this.g);e="";var i=r.length,s=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var a="";break t}this.h.i=new o.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,o,i,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+n+"\n"+i+" "+s})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,xe(12),Ge(this),Ke(this);break e}Re(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ye(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Be(this,a),e==je){4==h&&(this.s=4,xe(14),n=!1),Re(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,xe(15),Re(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Re(this.i,this.l,e,null),Ye(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,xe(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),on(d),d.M=!0,xe(11))}}else Re(this.i,this.l,a,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Re(this.i,this.l,a,null),Ye(this,a);4==h&&Ge(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,We(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(f(e[r]))continue;var n=S(e[r]);const o=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[o]||[];t[o]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,xe(12)):(this.s=0,xe(13)),Ge(this),Ke(this)}}}catch(h){}},De.prototype.cancel=function(){this.J=!0,Ge(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(ke(),xe(17)),Ge(this),this.s=2,Ke(this)):qe(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function $e(e){this.l=e||10,o.PerformanceNavigationTiming?e=0<(e=o.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),o=r.length,s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}$e.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ot=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new _t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(ot))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new _t(null,this.h))}function st(e){return new it(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof _t?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Ct(this,t),Et(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=pt(t,bt)),e.i=new _t(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pt(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(pt(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(pt(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",pt(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function _t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var i=e[n].substring(0,r);o=e[n].substring(r+1)}else i=e[n];t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Ct(e,t){St(e),t=xt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return St(e),t=xt(e,t),e.g.has(t)}function Et(e,t,n){Ct(e,t),0<n.length&&(e.i=null,e.g.set(xt(e,t),h(n)),e.h+=n.length)}function xt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tt(e,t,n,r,o){try{o&&(o.onload=null,o.onerror=null,o.onabort=null,o.ontimeout=null),r(n)}catch(Ez){}}function It(){this.g=new pe}function Pt(e,t,n){const r=n||"";try{rt(e,function(e,n){let o=e;s(e)&&(o=de(e)),t.push(r+n+"="+encodeURIComponent(o))})}catch(gV){throw t.push(r+"type="+encodeURIComponent("_badmap")),gV}}function Rt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Nt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ot(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Mt(e)}function Mt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Ft(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=_t.prototype).add=function(e,t){St(this),this.i=null,e=xt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const o=e[r];for(let e=0;e<o.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(xt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,kt(this,e=xt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var o=i;""!==s[r]&&(o+="="+encodeURIComponent(String(s[r]))),e.push(o)}}return this.i=e.join("&")},d(Rt,fe),Rt.prototype.g=function(){return new Nt(this.l,this.j)},Rt.prototype.i=(mt={},function(){return mt}),d(Nt,ne),(e=Nt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Mt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||o).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ot(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Mt(this)),this.g&&(this.readyState=3,Mt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ot(this):Mt(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ot(this))},e.Qa=function(e){this.g&&(this.response=e,Ot(this))},e.ga=function(){this.g&&Ot(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Nt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Ft,ne);var jt=/^https?$/i,zt=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Vt(e),Wt(e)}function Vt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var s=String(e.D).match(ot)[1]||null;!s&&o.self&&o.self.location&&(s=o.self.location.protocol.slice(0,-1)),i=!jt.test(s?s.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Ht(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",Vt(e)}}finally{Wt(e)}}}function Wt(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(gV){}}}function qt(e){e.I&&(o.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Tz){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Yt(e){this.Aa=0,this.i=[],this.j=new Pe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new $e(e&&e.concurrentRequestLimit),this.Da=new It,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Xt(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new De(e,e.j,t)).L=2,t.v=dt(st(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&o.Image&&((new Image).src=t.v,n=!0),n||(t.g=pn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),We(t)}dn(e)}function $t(e){e.g&&(on(e),e.g.cancel(),e.g=null)}function Xt(e){$t(e),e.u&&(o.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&o.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||R(),I||(T(),I=!0),P.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),ze(n,r,t)}function en(e,t){e.H&&y(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var o=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=o[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=o[a].g;const l=o[a].map;if(n-=t,0>n)t=Math.max(0,o[a].g-100),s=!1;else try{Pt(l,e,"req"+n+"_")}catch(i){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||R(),I||(T(),I=!0),P.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function on(e){null!=e.A&&(o.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(st(t)),n.m=null,n.P=!0,Ue(n,e)}function an(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),on(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var o=e.B;re(r=Se(),new Te(r,n)),Jt(e)}else nn(e);else if(3==(o=t.s)||0==o&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),o){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new Pe;if(o.Image){const r=new Image;r.onload=u(Tt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Tt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Tt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Tt,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Pe;const n=new AbortController,r=setTimeout(()=>{n.abort(),Tt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Tt(0,0,!0,t):Tt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Tt(0,0,!1,t)})}(r.toString(),n)}else xe(2);e.G=0,e.l&&e.l.sa(t),dn(e),Xt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof it?st(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new it(null);r&&at(s,r),t&&(s.g=t),i&&lt(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function pn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ft(new Rt({eb:n})):new Ft(e.pa)).Ha(e.J),t}function fn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Yt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Ft.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ne.g(),this.v=this.o?me(this.o):me(Ne),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(Ez){return void Ut(this,Ez)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=o.FormData&&e instanceof o.FormData,!(0<=Array.prototype.indexOf.call(zt,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(Ez){Ut(this,Ez)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Wt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wt(this,!0)),Ft.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Yt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){xe(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const o=new De(this,this.j,e);let i=this.o;if(this.S&&(i?(i=b(i),_(i,this.S)):i=this.S),null!==this.m||this.O||(o.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,o,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Dt(i)))+"&"+t:this.m&&Lt(n,this.m,i)),et(this.h,o),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),o.T=!0,ze(o,n,null)):ze(o,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xe(10),$t(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,$t(this),rn(this),xe(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,be),d(bn,fn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,sw=lw.createWebChannelTransport=function(){return new mn},iw=lw.getStatEventTarget=function(){return Se()},ow=lw.Event=we,rw=lw.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,nw=lw.ErrorCode=Ae,Oe.COMPLETE="complete",tw=lw.EventType=Oe,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,ew=lw.WebChannel=ge,lw.FetchXmlHttpFactory=Rt,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,Zb=lw.XhrIo=Ft}).apply("undefined"!==typeof aw?aw:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const cw="@firebase/firestore",uw="4.9.1";class dw{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dw.UNAUTHENTICATED=new dw(null),dw.GOOGLE_CREDENTIALS=new dw("google-credentials-uid"),dw.FIRST_PARTY=new dw("first-party-uid"),dw.MOCK_USER=new dw("mock-user");let hw="12.2.0";const pw=new _c("@firebase/firestore");function fw(){return pw.logLevel}function mw(e){if(pw.logLevel<=gc.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(yw);pw.debug("Firestore (".concat(hw,"): ").concat(e),...o)}}function gw(e){if(pw.logLevel<=gc.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(yw);pw.error("Firestore (".concat(hw,"): ").concat(e),...o)}}function vw(e){if(pw.logLevel<=gc.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(yw);pw.warn("Firestore (".concat(hw,"): ").concat(e),...o)}}function yw(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function bw(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,ww(e,r,n)}function ww(e,t,n){let r="FIRESTORE (".concat(hw,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw gw(r),new Error(r)}function _w(e,t,n,r){let o="Unexpected state";"string"==typeof n?o=n:r=n,e||ww(t,o,r)}function Sw(e,t){return e}const Cw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kw extends Wl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Ew{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class xw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Tw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dw.UNAUTHENTICATED))}shutdown(){}}class Iw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Pw{constructor(e){this.t=e,this.currentUser=dw.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){_w(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let o=new Ew;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ew,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=o;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{mw("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(mw("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ew)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(mw("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(_w("string"==typeof t.accessToken,31837,{l:t}),new xw(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _w(null===e||"string"==typeof e,2055,{h:e}),new dw(e)}}class Rw{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=dw.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Nw{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Rw(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(dw.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Aw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ow{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ku(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){_w(void 0===this.o,3512);const n=e=>{null!=e.error&&mw("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,mw("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{mw("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):mw("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Aw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(_w("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Aw(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Mw(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Dw{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Mw(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Lw(e,t){return e<t?-1:e>t?1:0}function Fw(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),o=t.charAt(r);if(n!==o)return Uw(n)===Uw(o)?Lw(n,o):Uw(n)?1:-1}return Lw(e.length,t.length)}const jw=55296,zw=57343;function Uw(e){const t=e.charCodeAt(0);return t>=jw&&t<=zw}function Vw(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Bw="__name__";class Ww{constructor(e,t,n){void 0===t?t=0:t>e.length&&bw(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&bw(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ww.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ww?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Ww.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Lw(e.length,t.length)}static compareSegments(e,t){const n=Ww.isNumericId(e),r=Ww.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Ww.extractNumericId(e).compare(Ww.extractNumericId(t)):Fw(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qb.fromString(e.substring(4,e.length-2))}}class qw extends Ww{construct(e,t,n){return new qw(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n){if(o.indexOf("//")>=0)throw new kw(Cw.INVALID_ARGUMENT,"Invalid segment (".concat(o,"). Paths must not contain // in them."));e.push(...o.split("/").filter(e=>e.length>0))}return new qw(e)}static emptyPath(){return new qw([])}}const Hw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kw extends Ww{construct(e,t,n){return new Kw(e,t,n)}static isValidIdentifier(e){return Hw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kw.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Bw}static keyField(){return new Kw([Bw])}static fromServerFormat(e){const t=[];let n="",r=0;const o=()=>{if(0===n.length)throw new kw(Cw.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new kw(Cw.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new kw(Cw.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(o(),r++)}if(o(),i)throw new kw(Cw.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kw(t)}static emptyPath(){return new Kw([])}}class Gw{constructor(e){this.path=e}static fromPath(e){return new Gw(qw.fromString(e))}static fromName(e){return new Gw(qw.fromString(e).popFirst(5))}static empty(){return new Gw(qw.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===qw.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return qw.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Gw(new qw(e.slice()))}}function Yw(e,t,n){if(!n)throw new kw(Cw.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Qw(e){if(!Gw.isDocumentKey(e))throw new kw(Cw.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function $w(e){if(Gw.isDocumentKey(e))throw new kw(Cw.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Xw(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Jw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":bw(12329,{type:typeof e})}function Zw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new kw(Cw.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jw(e);throw new kw(Cw.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function e_(e,t){if(t<=0)throw new kw(Cw.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}function t_(e,t){const n={typeString:e};return t&&(n.value=t),n}function n_(e,t){if(!Xw(e))throw new kw(Cw.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const s=e[r];if(o&&typeof s!==o){n="JSON field '".concat(r,"' must be a ").concat(o,".");break}if(void 0!==i&&s!==i.value){n="Expected '".concat(r,"' field to equal '").concat(i.value,"'");break}}if(n)throw new kw(Cw.INVALID_ARGUMENT,n);return!0}const r_=-62135596800,o_=1e6;class i_{static now(){return i_.fromMillis(Date.now())}static fromDate(e){return i_.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*o_);return new i_(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new kw(Cw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new kw(Cw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<r_)throw new kw(Cw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new kw(Cw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/o_}_compareTo(e){return this.seconds===e.seconds?Lw(this.nanoseconds,e.nanoseconds):Lw(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:i_._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(n_(e,i_._jsonSchema))return new i_(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-r_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}i_._jsonSchemaVersion="firestore/timestamp/1.0",i_._jsonSchema={type:t_("string",i_._jsonSchemaVersion),seconds:t_("number"),nanoseconds:t_("number")};class s_{static fromTimestamp(e){return new s_(e)}static min(){return new s_(new i_(0,0))}static max(){return new s_(new i_(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const a_=-1;class l_{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}l_.UNKNOWN_ID=-1;function c_(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=s_.fromTimestamp(1e9===r?new i_(n+1,0):new i_(n,r));return new d_(o,Gw.empty(),t)}function u_(e){return new d_(e.readTime,e.key,a_)}class d_{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new d_(s_.min(),Gw.empty(),a_)}static max(){return new d_(s_.max(),Gw.empty(),a_)}}function h_(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Gw.comparator(e.documentKey,t.documentKey),0!==n?n:Lw(e.largestBatchId,t.largestBatchId))}const p_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function m_(e){if(e.code!==Cw.FAILED_PRECONDITION||e.message!==p_)throw e;mw("LocalStore","Unexpectedly lost primary lease")}class g_{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&bw(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new g_((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof g_?t:g_.resolve(t)}catch(e){return g_.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):g_.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):g_.reject(t)}static resolve(e){return new g_((t,n)=>{t(e)})}static reject(e){return new g_((t,n)=>{n(e)})}static waitFor(e){return new g_((t,n)=>{let r=0,o=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++o,i&&o===r&&t()},e=>n(e))}),i=!0,o===r&&t()})}static or(e){let t=g_.resolve(!1);for(const n of e)t=t.next(e=>e?g_.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new g_((n,r)=>{const o=e.length,i=new Array(o);let s=0;for(let a=0;a<o;a++){const l=a;t(e[l]).next(e=>{i[l]=e,++s,s===o&&n(i)},e=>r(e))}})}static doWhile(e,t){return new g_((n,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):n()};o()})}}function v_(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function y_(e){return"IndexedDbTransactionError"===e.name}class b_{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}b_.ce=-1;const w_=-1;function __(e){return null==e}function S_(e){return 0===e&&1/e==-1/0}function C_(e){return"number"==typeof e&&Number.isInteger(e)&&!S_(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const k_="\x01";function E_(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=T_(t)),t=x_(e.get(n),t);return T_(t)}function x_(e,t){let n=t;const r=e.length;for(let o=0;o<r;o++){const t=e.charAt(o);switch(t){case"\0":n+="\x01\x10";break;case k_:n+="\x01\x11";break;default:n+=t}}return n}function T_(e){return e+k_+"\x01"}const I_="remoteDocuments",P_="owner",R_="mutationQueues",N_="mutations";const A_="documentMutations",O_="remoteDocumentsV14",M_="remoteDocumentGlobal",D_="targets",L_="targetDocuments",F_="targetGlobal",j_="collectionParents",z_="clientMetadata",U_="bundles",V_="namedQueries",B_="indexConfiguration",W_="indexState",q_="indexEntries",H_="documentOverlays",K_="globals",G_=[R_,N_,A_,I_,D_,P_,F_,L_,z_,M_,j_,U_,V_],Y_=[R_,N_,A_,O_,D_,P_,F_,L_,z_,M_,j_,U_,V_,H_],Q_=Y_,$_=[...Q_,B_,W_,q_];function X_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function J_(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Z_(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class eS{constructor(e,t){this.comparator=e,this.root=t||nS.EMPTY}insert(e,t){return new eS(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nS.BLACK,null,null))}remove(e){return new eS(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nS.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tS(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tS(this.root,e,this.comparator,!1)}getReverseIterator(){return new tS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tS(this.root,e,this.comparator,!0)}}class tS{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nS{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:nS.RED,this.left=null!=r?r:nS.EMPTY,this.right=null!=o?o:nS.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,o){return new nS(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return nS.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return nS.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nS.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nS.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bw(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bw(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw bw(27949);return e+(this.isRed()?0:1)}}nS.EMPTY=null,nS.RED=!0,nS.BLACK=!1,nS.EMPTY=new class{constructor(){this.size=0}get key(){throw bw(57766)}get value(){throw bw(16141)}get color(){throw bw(16727)}get left(){throw bw(29726)}get right(){throw bw(36894)}copy(e,t,n,r,o){return this}insert(e,t,n){return new nS(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rS{constructor(e){this.comparator=e,this.data=new eS(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oS(this.data.getIterator())}getIteratorFrom(e){return new oS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof rS))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new rS(this.comparator);return t.data=e,t}}class oS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class iS{constructor(e){this.fields=e,e.sort(Kw.comparator)}static empty(){return new iS([])}unionWith(e){let t=new rS(Kw.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new iS(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vw(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class sS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class aS{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new sS("Invalid base64 string: "+e):e}}(e);return new aS(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new aS(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lw(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}aS.EMPTY_BYTE_STRING=new aS("");const lS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cS(e){if(_w(!!e,39018),"string"==typeof e){let t=0;const n=lS.exec(e);if(_w(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:uS(e.seconds),nanos:uS(e.nanos)}}function uS(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function dS(e){return"string"==typeof e?aS.fromBase64String(e):aS.fromUint8Array(e)}const hS="server_timestamp",pS="__type__",fS="__previous_value__",mS="__local_write_time__";function gS(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[pS])||void 0===t?void 0:t.stringValue)===hS}function vS(e){const t=e.mapValue.fields[fS];return gS(t)?vS(t):t}function yS(e){const t=cS(e.mapValue.fields[mS].timestampValue);return new i_(t.seconds,t.nanos)}class bS{constructor(e,t,n,r,o,i,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const wS="(default)";class _S{constructor(e,t){this.projectId=e,this.database=t||wS}static empty(){return new _S("","")}get isDefaultDatabase(){return this.database===wS}isEqual(e){return e instanceof _S&&e.projectId===this.projectId&&e.database===this.database}}const SS="__type__",CS="__max__",kS={mapValue:{fields:{__type__:{stringValue:CS}}}},ES="__vector__",xS="value";function TS(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?gS(e)?4:qS(e)?9007199254740991:BS(e)?10:11:bw(28295,{value:e})}function IS(e,t){if(e===t)return!0;const n=TS(e);if(n!==TS(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return yS(e).isEqual(yS(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=cS(e.timestampValue),r=cS(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return dS(e.bytesValue).isEqual(dS(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return uS(e.geoPointValue.latitude)===uS(t.geoPointValue.latitude)&&uS(e.geoPointValue.longitude)===uS(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return uS(e.integerValue)===uS(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=uS(e.doubleValue),r=uS(t.doubleValue);return n===r?S_(n)===S_(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Vw(e.arrayValue.values||[],t.arrayValue.values||[],IS);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(X_(n)!==X_(r))return!1;for(const o in n)if(n.hasOwnProperty(o)&&(void 0===r[o]||!IS(n[o],r[o])))return!1;return!0}(e,t);default:return bw(52216,{left:e})}}function PS(e,t){return void 0!==(e.values||[]).find(e=>IS(e,t))}function RS(e,t){if(e===t)return 0;const n=TS(e),r=TS(t);if(n!==r)return Lw(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lw(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=uS(e.integerValue||e.doubleValue),r=uS(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return NS(e.timestampValue,t.timestampValue);case 4:return NS(yS(e),yS(t));case 5:return Fw(e.stringValue,t.stringValue);case 6:return function(e,t){const n=dS(e),r=dS(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let o=0;o<n.length&&o<r.length;o++){const e=Lw(n[o],r[o]);if(0!==e)return e}return Lw(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Lw(uS(e.latitude),uS(t.latitude));return 0!==n?n:Lw(uS(e.longitude),uS(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return AS(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,o,i){const s=e.fields||{},a=t.fields||{},l=null===(n=s[xS])||void 0===n?void 0:n.arrayValue,c=null===(r=a[xS])||void 0===r?void 0:r.arrayValue,u=Lw((null===l||void 0===l||null===(o=l.values)||void 0===o?void 0:o.length)||0,(null===c||void 0===c||null===(i=c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:AS(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===kS.mapValue&&t===kS.mapValue)return 0;if(e===kS.mapValue)return 1;if(t===kS.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),o=t.fields||{},i=Object.keys(o);r.sort(),i.sort();for(let s=0;s<r.length&&s<i.length;++s){const e=Fw(r[s],i[s]);if(0!==e)return e;const t=RS(n[r[s]],o[i[s]]);if(0!==t)return t}return Lw(r.length,i.length)}(e.mapValue,t.mapValue);default:throw bw(23264,{he:n})}}function NS(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Lw(e,t);const n=cS(e),r=cS(t),o=Lw(n.seconds,r.seconds);return 0!==o?o:Lw(n.nanos,r.nanos)}function AS(e,t){const n=e.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const e=RS(n[o],r[o]);if(e)return e}return Lw(n.length,r.length)}function OS(e){return MS(e)}function MS(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=cS(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return dS(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Gw.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=MS(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const o of t)r?r=!1:n+=",",n+="".concat(o,":").concat(MS(e.fields[o]));return n+"}"}(e.mapValue):bw(61005,{value:e})}function DS(e){switch(TS(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vS(e);return t?16+DS(t):16;case 5:return 2*e.stringValue.length;case 6:return dS(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+DS(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return J_(e.fields,(e,n)=>{t+=e.length+DS(n)}),t}(e.mapValue);default:throw bw(13486,{value:e})}}function LS(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function FS(e){return!!e&&"integerValue"in e}function jS(e){return!!e&&"arrayValue"in e}function zS(e){return!!e&&"nullValue"in e}function US(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function VS(e){return!!e&&"mapValue"in e}function BS(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[SS])||void 0===t?void 0:t.stringValue)===ES}function WS(e){if(e.geoPointValue)return{geoPointValue:h({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:h({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return J_(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=WS(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=WS(e.arrayValue.values[n]);return t}return h({},e)}function qS(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===CS}class HS{constructor(e){this.value=e}static empty(){return new HS({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!VS(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=WS(t)}setAll(e){let t=Kw.emptyPath(),n={},r=[];e.forEach((e,o)=>{if(!t.isImmediateParentOf(o)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=o.popLast()}e?n[o.lastSegment()]=WS(e):r.push(o.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,r)}delete(e){const t=this.field(e.popLast());VS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return IS(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];VS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){J_(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new HS(WS(this.value))}}function KS(e){const t=[];return J_(e.fields,(e,n)=>{const r=new Kw([e]);if(VS(n)){const e=KS(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new iS(t)}class GS{constructor(e,t,n,r,o,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=o,this.data=i,this.documentState=s}static newInvalidDocument(e){return new GS(e,0,s_.min(),s_.min(),s_.min(),HS.empty(),0)}static newFoundDocument(e,t,n,r){return new GS(e,1,t,s_.min(),n,r,0)}static newNoDocument(e,t){return new GS(e,2,t,s_.min(),s_.min(),HS.empty(),0)}static newUnknownDocument(e,t){return new GS(e,3,t,s_.min(),s_.min(),HS.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(s_.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=HS.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=HS.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=s_.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof GS&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new GS(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class YS{constructor(e,t){this.position=e,this.inclusive=t}}function QS(e,t,n){let r=0;for(let o=0;o<e.position.length;o++){const i=t[o],s=e.position[o];if(r=i.field.isKeyField()?Gw.comparator(Gw.fromName(s.referenceValue),n.key):RS(s,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function $S(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!IS(e.position[n],t.position[n]))return!1;return!0}class XS{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function JS(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ZS{}class eC extends ZS{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new lC(e,t,n):"array-contains"===t?new hC(e,n):"in"===t?new pC(e,n):"not-in"===t?new fC(e,n):"array-contains-any"===t?new mC(e,n):new eC(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new cC(e,n):new uC(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(RS(t,this.value)):null!==t&&TS(this.value)===TS(t)&&this.matchesComparison(RS(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bw(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tC extends ZS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new tC(e,t)}matches(e){return nC(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nC(e){return"and"===e.op}function rC(e){return oC(e)&&nC(e)}function oC(e){for(const t of e.filters)if(t instanceof tC)return!1;return!0}function iC(e){if(e instanceof eC)return e.field.canonicalString()+e.op.toString()+OS(e.value);if(rC(e))return e.filters.map(e=>iC(e)).join(",");{const t=e.filters.map(e=>iC(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function sC(e,t){return e instanceof eC?function(e,t){return t instanceof eC&&e.op===t.op&&e.field.isEqual(t.field)&&IS(e.value,t.value)}(e,t):e instanceof tC?function(e,t){return t instanceof tC&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&sC(n,t.filters[r]),!0)}(e,t):void bw(19439)}function aC(e){return e instanceof eC?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(OS(e.value))}(e):e instanceof tC?function(e){return e.op.toString()+" {"+e.getFilters().map(aC).join(" ,")+"}"}(e):"Filter"}class lC extends eC{constructor(e,t,n){super(e,t,n),this.key=Gw.fromName(n.referenceValue)}matches(e){const t=Gw.comparator(e.key,this.key);return this.matchesComparison(t)}}class cC extends eC{constructor(e,t){super(e,"in",t),this.keys=dC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uC extends eC{constructor(e,t){super(e,"not-in",t),this.keys=dC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function dC(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Gw.fromName(e.referenceValue))}class hC extends eC{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jS(t)&&PS(t.arrayValue,this.value)}}class pC extends eC{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&PS(this.value.arrayValue,t)}}class fC extends eC{constructor(e,t){super(e,"not-in",t)}matches(e){if(PS(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!PS(this.value.arrayValue,t)}}class mC extends eC{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jS(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>PS(this.value.arrayValue,e))}}class gC{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=s,this.Te=null}}function vC(e){return new gC(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function yC(e){const t=Sw(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>iC(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),__(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>OS(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>OS(e)).join(",")),t.Te=e}return t.Te}function bC(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!JS(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!sC(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$S(e.startAt,t.startAt)&&$S(e.endAt,t.endAt)}function wC(e){return Gw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class _C{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=i,this.startAt=s,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SC(e,t,n,r,o,i,s,a){return new _C(e,t,n,r,o,i,s,a)}function CC(e){return new _C(e)}function kC(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function EC(e){return null!==e.collectionGroup}function xC(e){const t=Sw(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new rS(Kw.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new XS(r,n))}),e.has(Kw.keyField().canonicalString())||t.Ie.push(new XS(Kw.keyField(),n))}return t.Ie}function TC(e){const t=Sw(e);return t.Ee||(t.Ee=IC(t,xC(e))),t.Ee}function IC(e,t){if("F"===e.limitType)return vC(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new XS(e.field,t)});const n=e.endAt?new YS(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new YS(e.startAt.position,e.startAt.inclusive):null;return vC(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function PC(e,t){const n=e.filters.concat([t]);return new _C(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function RC(e,t,n){return new _C(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function NC(e,t){return bC(TC(e),TC(t))&&e.limitType===t.limitType}function AC(e){return"".concat(yC(TC(e)),"|lt:").concat(e.limitType)}function OC(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>aC(e)).join(", "),"]")),__(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>OS(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>OS(e)).join(",")),"Target(".concat(t,")")}(TC(e)),"; limitType=").concat(e.limitType,")")}function MC(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Gw.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of xC(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=QS(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,xC(e),t))&&!(e.endAt&&!function(e,t,n){const r=QS(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,xC(e),t))}(e,t)}function DC(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function LC(e){return(t,n)=>{let r=!1;for(const o of xC(e)){const e=FC(o,t,n);if(0!==e)return e;r=r||o.field.isKeyField()}return 0}}function FC(e,t,n){const r=e.field.isKeyField()?Gw.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),o=n.data.field(e);return null!==r&&null!==o?RS(r,o):bw(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return bw(19790,{direction:e.dir})}}class jC{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,o]of n)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){J_(this.inner,(t,n)=>{for(const[r,o]of n)e(r,o)})}isEmpty(){return Z_(this.inner)}size(){return this.innerSize}}const zC=new eS(Gw.comparator);function UC(){return zC}const VC=new eS(Gw.comparator);function BC(){let e=VC;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.insert(o.key,o);return e}function WC(e){let t=VC;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function qC(){return KC()}function HC(){return KC()}function KC(){return new jC(e=>e.toString(),(e,t)=>e.isEqual(t))}const GC=new eS(Gw.comparator),YC=new rS(Gw.comparator);function QC(){let e=YC;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.add(o);return e}const $C=new rS(Lw);function XC(){return $C}function JC(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:S_(t)?"-0":t}}function ZC(e){return{integerValue:""+e}}function ek(e,t){return C_(t)?ZC(t):JC(e,t)}class tk{constructor(){this._=void 0}}function nk(e,t,n){return e instanceof ik?function(e,t){const n={fields:{[pS]:{stringValue:hS},[mS]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&gS(t)&&(t=vS(t)),t&&(n.fields[fS]=t),{mapValue:n}}(n,t):e instanceof sk?ak(e,t):e instanceof lk?ck(e,t):function(e,t){const n=ok(e,t),r=dk(n)+dk(e.Ae);return FS(n)&&FS(e.Ae)?ZC(r):JC(e.serializer,r)}(e,t)}function rk(e,t,n){return e instanceof sk?ak(e,t):e instanceof lk?ck(e,t):n}function ok(e,t){return e instanceof uk?function(e){return FS(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ik extends tk{}class sk extends tk{constructor(e){super(),this.elements=e}}function ak(e,t){const n=hk(t);for(const r of e.elements)n.some(e=>IS(e,r))||n.push(r);return{arrayValue:{values:n}}}class lk extends tk{constructor(e){super(),this.elements=e}}function ck(e,t){let n=hk(t);for(const r of e.elements)n=n.filter(e=>!IS(e,r));return{arrayValue:{values:n}}}class uk extends tk{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function dk(e){return uS(e.integerValue||e.doubleValue)}function hk(e){return jS(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class pk{constructor(e,t){this.field=e,this.transform=t}}class fk{constructor(e,t){this.version=e,this.transformResults=t}}class mk{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mk}static exists(e){return new mk(void 0,e)}static updateTime(e){return new mk(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gk(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class vk{}function yk(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ik(e.key,mk.none()):new Ck(e.key,e.data,mk.none());{const n=e.data,r=HS.empty();let o=new rS(Kw.comparator);for(let e of t.fields)if(!o.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),o=o.add(e)}return new kk(e.key,r,new iS(o.toArray()),mk.none())}}function bk(e,t,n){e instanceof Ck?function(e,t,n){const r=e.value.clone(),o=xk(e.fieldTransforms,t,n.transformResults);r.setAll(o),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof kk?function(e,t,n){if(!gk(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=xk(e.fieldTransforms,t,n.transformResults),o=t.data;o.setAll(Ek(e)),o.setAll(r),t.convertToFoundDocument(n.version,o).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function wk(e,t,n,r){return e instanceof Ck?function(e,t,n,r){if(!gk(e.precondition,t))return n;const o=e.value.clone(),i=Tk(e.fieldTransforms,r,t);return o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null}(e,t,n,r):e instanceof kk?function(e,t,n,r){if(!gk(e.precondition,t))return n;const o=Tk(e.fieldTransforms,r,t),i=t.data;return i.setAll(Ek(e)),i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return gk(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function _k(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),o=ok(r.transform,e||null);null!=o&&(null===n&&(n=HS.empty()),n.set(r.field,o))}return n||null}function Sk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Vw(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof sk&&t instanceof sk||e instanceof lk&&t instanceof lk?Vw(e.elements,t.elements,IS):e instanceof uk&&t instanceof uk?IS(e.Ae,t.Ae):e instanceof ik&&t instanceof ik}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ck extends vk{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class kk extends vk{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Ek(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function xk(e,t,n){const r=new Map;_w(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const i=e[o],s=i.transform,a=t.data.field(i.field);r.set(i.field,rk(s,a,n[o]))}return r}function Tk(e,t,n){const r=new Map;for(const o of e){const e=o.transform,i=n.data.field(o.field);r.set(o.field,nk(e,i,t))}return r}class Ik extends vk{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pk extends vk{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Rk{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&bk(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=wk(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=wk(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=HC();return this.mutations.forEach(r=>{const o=e.get(r.key),i=o.overlayedDocument;let s=this.applyToLocalView(i,o.mutatedFields);s=t.has(r.key)?null:s;const a=yk(i,s);null!==a&&n.set(r.key,a),i.isValidDocument()||i.convertToNoDocument(s_.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),QC())}isEqual(e){return this.batchId===e.batchId&&Vw(this.mutations,e.mutations,(e,t)=>Sk(e,t))&&Vw(this.baseMutations,e.baseMutations,(e,t)=>Sk(e,t))}}class Nk{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){_w(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=GC;const o=e.mutations;for(let i=0;i<o.length;i++)r=r.insert(o[i].key,n[i].version);return new Nk(e,t,n,r)}}class Ak{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Ok{constructor(e,t){this.count=e,this.unchangedNames=t}}var Mk,Dk;function Lk(e){switch(e){case Cw.OK:return bw(64938);case Cw.CANCELLED:case Cw.UNKNOWN:case Cw.DEADLINE_EXCEEDED:case Cw.RESOURCE_EXHAUSTED:case Cw.INTERNAL:case Cw.UNAVAILABLE:case Cw.UNAUTHENTICATED:return!1;case Cw.INVALID_ARGUMENT:case Cw.NOT_FOUND:case Cw.ALREADY_EXISTS:case Cw.PERMISSION_DENIED:case Cw.FAILED_PRECONDITION:case Cw.ABORTED:case Cw.OUT_OF_RANGE:case Cw.UNIMPLEMENTED:case Cw.DATA_LOSS:return!0;default:return bw(15467,{code:e})}}function Fk(e){if(void 0===e)return gw("GRPC error has no .code"),Cw.UNKNOWN;switch(e){case Mk.OK:return Cw.OK;case Mk.CANCELLED:return Cw.CANCELLED;case Mk.UNKNOWN:return Cw.UNKNOWN;case Mk.DEADLINE_EXCEEDED:return Cw.DEADLINE_EXCEEDED;case Mk.RESOURCE_EXHAUSTED:return Cw.RESOURCE_EXHAUSTED;case Mk.INTERNAL:return Cw.INTERNAL;case Mk.UNAVAILABLE:return Cw.UNAVAILABLE;case Mk.UNAUTHENTICATED:return Cw.UNAUTHENTICATED;case Mk.INVALID_ARGUMENT:return Cw.INVALID_ARGUMENT;case Mk.NOT_FOUND:return Cw.NOT_FOUND;case Mk.ALREADY_EXISTS:return Cw.ALREADY_EXISTS;case Mk.PERMISSION_DENIED:return Cw.PERMISSION_DENIED;case Mk.FAILED_PRECONDITION:return Cw.FAILED_PRECONDITION;case Mk.ABORTED:return Cw.ABORTED;case Mk.OUT_OF_RANGE:return Cw.OUT_OF_RANGE;case Mk.UNIMPLEMENTED:return Cw.UNIMPLEMENTED;case Mk.DATA_LOSS:return Cw.DATA_LOSS;default:return bw(39323,{code:e})}}(Dk=Mk||(Mk={}))[Dk.OK=0]="OK",Dk[Dk.CANCELLED=1]="CANCELLED",Dk[Dk.UNKNOWN=2]="UNKNOWN",Dk[Dk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dk[Dk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dk[Dk.NOT_FOUND=5]="NOT_FOUND",Dk[Dk.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dk[Dk.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dk[Dk.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dk[Dk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dk[Dk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dk[Dk.ABORTED=10]="ABORTED",Dk[Dk.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dk[Dk.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dk[Dk.INTERNAL=13]="INTERNAL",Dk[Dk.UNAVAILABLE=14]="UNAVAILABLE",Dk[Dk.DATA_LOSS=15]="DATA_LOSS";let jk=null;function zk(){return new TextEncoder}const Uk=new Qb([4294967295,4294967295],0);function Vk(e){const t=zk().encode(e),n=new $b;return n.update(t),new Uint8Array(n.digest())}function Bk(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Qb([n,r],0),new Qb([o,i],0)]}class Wk{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new qk("Invalid padding: ".concat(t));if(n<0)throw new qk("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new qk("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new qk("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=Qb.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Qb.fromNumber(n)));return 1===r.compare(Uk)&&(r=new Qb([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Vk(e),[n,r]=Bk(t);for(let o=0;o<this.hashCount;o++){const e=this.ye(n,r,o);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new Wk(o,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.ge)return;const t=Vk(e),[n,r]=Bk(t);for(let o=0;o<this.hashCount;o++){const e=this.ye(n,r,o);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class qk extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hk{constructor(e,t,n,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Kk.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Hk(s_.min(),r,new eS(Lw),UC(),QC())}}class Kk{constructor(e,t,n,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Kk(n,t,QC(),QC(),QC())}}class Gk{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Yk{constructor(e,t){this.targetId=e,this.Ce=t}}class Qk{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:aS.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class $k{constructor(){this.ve=0,this.Fe=Zk(),this.Me=aS.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=QC(),t=QC(),n=QC();return this.Fe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:bw(38017,{changeType:o})}}),new Kk(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Zk()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_w(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Xk{constructor(e){this.Ge=e,this.ze=new Map,this.je=UC(),this.Je=Jk(),this.He=Jk(),this.Ye=new eS(Lw)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:bw(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const i=r.target;if(wC(i))if(0===n){const e=new Gw(i.path);this.et(t,e,GS.newNoDocument(e,s_.min()))}else _w(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var o;const n=this.ut(e),i=n?this.ct(n,e,r):1;if(0!==i){this.it(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(o=jk)||void 0===o||o.lt(function(e,t,n,r,o,i,s,a,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===o,hashCount:null!==(i=null===d||void 0===d?void 0:d.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(s=null===d||void 0===d||null===(a=d.bits)||void 0===a||null===(a=a.bitmap)||void 0===a?void 0:a.length)&&void 0!==s?s:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=t;let i,s;try{i=dS(n).toUint8Array()}catch(e){if(e instanceof sS)return vw("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Wk(i,r,o)}catch(e){return vw(e instanceof qk?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const o=this.Ge.ht(),i="projects/".concat(o.projectId,"/databases/").concat(o.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const o=this.ot(r);if(o){if(n.current&&wC(o.target)){const t=new Gw(o.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,GS.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=QC();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Hk(e,t,this.Ye,this.je,n);return this.je=UC(),this.Je=Jk(),this.He=Jk(),this.Ye=new eS(Lw),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new $k,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new rS(Lw),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new rS(Lw),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||mw("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $k),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Jk(){return new eS(Gw.comparator)}function Zk(){return new eS(Gw.comparator)}const eE={asc:"ASCENDING",desc:"DESCENDING"},tE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nE={and:"AND",or:"OR"};class rE{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function oE(e,t){return e.useProto3Json||__(t)?t:{value:t}}function iE(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function sE(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function aE(e,t){return iE(e,t.toTimestamp())}function lE(e){return _w(!!e,49232),s_.fromTimestamp(function(e){const t=cS(e);return new i_(t.seconds,t.nanos)}(e))}function cE(e,t){return uE(e,t).canonicalString()}function uE(e,t){const n=function(e){return new qw(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function dE(e){const t=qw.fromString(e);return _w(NE(t),10190,{key:t.toString()}),t}function hE(e,t){return cE(e.databaseId,t.path)}function pE(e,t){const n=dE(t);if(n.get(1)!==e.databaseId.projectId)throw new kw(Cw.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new kw(Cw.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Gw(vE(n))}function fE(e,t){return cE(e.databaseId,t)}function mE(e){const t=dE(e);return 4===t.length?qw.emptyPath():vE(t)}function gE(e){return new qw(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function vE(e){return _w(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function yE(e,t,n){return{name:hE(e,t),fields:n.value.mapValue.fields}}function bE(e,t){let n;if(t instanceof Ck)n={update:yE(e,t.key,t.value)};else if(t instanceof Ik)n={delete:hE(e,t.key)};else if(t instanceof kk)n={update:yE(e,t.key,t.data),updateMask:RE(t.fieldMask)};else{if(!(t instanceof Pk))return bw(16599,{Vt:t.type});n={verify:hE(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof ik)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof sk)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof lk)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof uk)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw bw(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:aE(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:bw(27497)}(e,t.precondition)),n}function wE(e,t){return{documents:[fE(e,t.path)]}}function _E(e,t){const n={structuredQuery:{}},r=t.path;let o;null!==t.collectionGroup?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fE(e,o);const i=function(e){if(0!==e.length)return PE(tC.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:TE(e.field),direction:kE(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=oE(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:o}}function SE(e){let t=mE(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){_w(1===r,65062);const e=n.from[0];e.allDescendants?o=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=CE(e);return t instanceof tC&&rC(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new XS(IE(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,__(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new YS(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new YS(n,t)}(n.endAt)),SC(t,o,s,i,a,"F",l,c)}function CE(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=IE(e.unaryFilter.field);return eC.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=IE(e.unaryFilter.field);return eC.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=IE(e.unaryFilter.field);return eC.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=IE(e.unaryFilter.field);return eC.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bw(61313);default:return bw(60726)}}(e):void 0!==e.fieldFilter?function(e){return eC.create(IE(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bw(58110);default:return bw(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return tC.create(e.compositeFilter.filters.map(e=>CE(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return bw(1026)}}(e.compositeFilter.op))}(e):bw(30097,{filter:e})}function kE(e){return eE[e]}function EE(e){return tE[e]}function xE(e){return nE[e]}function TE(e){return{fieldPath:e.canonicalString()}}function IE(e){return Kw.fromServerFormat(e.fieldPath)}function PE(e){return e instanceof eC?function(e){if("=="===e.op){if(US(e.value))return{unaryFilter:{field:TE(e.field),op:"IS_NAN"}};if(zS(e.value))return{unaryFilter:{field:TE(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(US(e.value))return{unaryFilter:{field:TE(e.field),op:"IS_NOT_NAN"}};if(zS(e.value))return{unaryFilter:{field:TE(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:TE(e.field),op:EE(e.op),value:e.value}}}(e):e instanceof tC?function(e){const t=e.getFilters().map(e=>PE(e));return 1===t.length?t[0]:{compositeFilter:{op:xE(e.op),filters:t}}}(e):bw(54877,{filter:e})}function RE(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function NE(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class AE{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s_.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:s_.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:aS.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new AE(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new AE(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new AE(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new AE(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class OE{constructor(e){this.yt=e}}function ME(e){const t=SE({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?RC(t,t.limit,"L"):t}class DE{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(uS(e.integerValue));else if("doubleValue"in e){const n=uS(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),S_(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=cS(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(dS(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?qS(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):BS(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):bw(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const o=xS,i=(null===(n=r[o].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(uS(i)),this.Ot(o,t),this.Ct(r[o],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Gw.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}DE.Kt=new DE;class LE{constructor(){this.Cn=new FE}addToCollectionParentIndex(e,t){return this.Cn.add(t),g_.resolve()}getCollectionParents(e,t){return g_.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return g_.resolve()}deleteFieldIndex(e,t){return g_.resolve()}deleteAllFieldIndexes(e){return g_.resolve()}createTargetIndexes(e,t){return g_.resolve()}getDocumentsMatchingTarget(e,t){return g_.resolve(null)}getIndexType(e,t){return g_.resolve(0)}getFieldIndexes(e,t){return g_.resolve([])}getNextCollectionGroupToUpdate(e){return g_.resolve(null)}getMinOffset(e,t){return g_.resolve(d_.min())}getMinOffsetFromCollectionGroup(e,t){return g_.resolve(d_.min())}updateCollectionGroup(e,t,n){return g_.resolve()}updateIndexEntries(e,t){return g_.resolve()}}class FE{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new rS(qw.comparator),o=!r.has(n);return this.index[t]=r.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new rS(qw.comparator)).toArray()}}new Uint8Array(0);const jE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zE=41943040;class UE{static withCacheSize(e){return new UE(e,UE.DEFAULT_COLLECTION_PERCENTILE,UE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}UE.DEFAULT_COLLECTION_PERCENTILE=10,UE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,UE.DEFAULT=new UE(zE,UE.DEFAULT_COLLECTION_PERCENTILE,UE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),UE.DISABLED=new UE(-1,0,0);class VE{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new VE(0)}static cr(){return new VE(-1)}}const BE="LruGarbageCollector",WE=1048576;function qE(e,t){let[n,r]=e,[o,i]=t;const s=Lw(n,o);return 0===s?Lw(r,i):s}class HE{constructor(e){this.Ir=e,this.buffer=new rS(qE),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();qE(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class KE{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){mw(BE,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){y_(e)?mw(BE,"Ignoring IndexedDB error during garbage collection: ",e):await m_(e)}await this.Vr(3e5)})}}class GE{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return g_.resolve(b_.ce);const n=new HE(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(mw("LruGarbageCollector","Garbage collection skipped; disabled"),g_.resolve(jE)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(mw("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),jE):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,o,i,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(mw("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(o=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),fw()<=gc.DEBUG&&mw("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-i)+"ms\n"+"\tRemoved ".concat(o," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),g_.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})))}}function YE(e,t){return new GE(e,t)}class QE{constructor(){this.changes=new jC(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,GS.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?g_.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $E{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class XE{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&wk(n.mutation,e,iS.empty(),i_.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,QC()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:QC();const r=qC();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=BC();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=qC();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,QC()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let o=UC();const i=KC(),s=KC();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof kk)?o=o.insert(t.key,t):void 0!==s?(i.set(t.key,s.mutation.getFieldMask()),wk(s.mutation,t,s.mutation.getFieldMask(),i_.now())):i.set(t.key,iS.empty())}),this.recalculateAndSaveOverlays(e,o).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new $E(t,null!==(n=i.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=KC();let r=new eS((e,t)=>e-t),o=QC();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const o of e)o.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let s=n.get(e)||iS.empty();s=o.applyToLocalView(i,s),n.set(e,s);const a=(r.get(o.batchId)||QC()).add(e);r=r.insert(o.batchId,a)})}).next(()=>{const i=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=HC();l.forEach(e=>{if(!o.has(e)){const r=yk(t.get(e),n.get(e));null!==r&&c.set(e,r),o=o.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,a,c))}return g_.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Gw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):EC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(o=>{const i=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-o.size):g_.resolve(qC());let s=a_,a=o;return i.next(t=>g_.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),o.get(t)?g_.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,o)).next(()=>this.computeViews(e,a,t,QC())).next(e=>({batchId:s,changes:WC(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Gw(t)).next(e=>{let t=BC();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const o=t.collectionGroup;let i=BC();return this.indexManager.getCollectionParents(e,o).next(s=>g_.forEach(s,s=>{const a=function(e,t){return new _C(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(o));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,r))).next(e=>{o.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,GS.newInvalidDocument(r)))});let n=BC();return e.forEach((e,r)=>{const i=o.get(e);void 0!==i&&wk(i.mutation,r,iS.empty(),i_.now()),MC(t,r)&&(n=n.insert(e,r))}),n})}}class JE{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return g_.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:lE(e.createTime)}}(t)),g_.resolve()}getNamedQuery(e,t){return g_.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:ME(e.bundledQuery),readTime:lE(e.readTime)}}(t)),g_.resolve()}}class ZE{constructor(){this.overlays=new eS(Gw.comparator),this.qr=new Map}getOverlay(e,t){return g_.resolve(this.overlays.get(t))}getOverlays(e,t){const n=qC();return g_.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),g_.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),g_.resolve()}getOverlaysForCollection(e,t,n){const r=qC(),o=t.length+1,i=new Gw(t.child("")),s=this.overlays.getIteratorFrom(i);for(;s.hasNext();){const e=s.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===o&&e.largestBatchId>n&&r.set(e.getKey(),e)}return g_.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let o=new eS((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=o.get(e.largestBatchId);null===t&&(t=qC(),o=o.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=qC(),a=o.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return g_.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ak(t,n));let o=this.qr.get(t);void 0===o&&(o=QC(),this.qr.set(t,o)),this.qr.set(t,o.add(n.key))}}class ex{constructor(){this.sessionToken=aS.EMPTY_BYTE_STRING}getSessionToken(e){return g_.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,g_.resolve()}}class tx{constructor(){this.Qr=new rS(nx.$r),this.Ur=new rS(nx.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new nx(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new nx(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Gw(new qw([])),n=new nx(t,e),r=new nx(t,e+1),o=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),o.push(e.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Gw(new qw([])),n=new nx(t,e),r=new nx(t,e+1);let o=QC();return this.Ur.forEachInRange([n,r],e=>{o=o.add(e.key)}),o}containsKey(e){const t=new nx(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class nx{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Gw.comparator(e.key,t.key)||Lw(e.Yr,t.Yr)}static Kr(e,t){return Lw(e.Yr,t.Yr)||Gw.comparator(e.key,t.key)}}class rx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new rS(nx.$r)}checkEmpty(e){return g_.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Rk(o,t,n,r);this.mutationQueue.push(i);for(const s of r)this.Zr=this.Zr.add(new nx(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return g_.resolve(i)}lookupMutationBatch(e,t){return g_.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),o=r<0?0:r;return g_.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return g_.resolve(0===this.mutationQueue.length?w_:this.tr-1)}getAllMutationBatches(e){return g_.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new nx(t,0),r=new nx(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);o.push(t)}),g_.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new rS(Lw);return t.forEach(e=>{const t=new nx(e,0),r=new nx(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),g_.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let o=n;Gw.isDocumentKey(o)||(o=o.child(""));const i=new nx(new Gw(o),0);let s=new rS(Lw);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Yr)),!0)},i),g_.resolve(this.ti(s))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){_w(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return g_.forEach(t.mutations,r=>{const o=new nx(r.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new nx(t,0),r=this.Zr.firstAfterOrEqual(n);return g_.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,g_.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ox{constructor(e){this.ri=e,this.docs=new eS(Gw.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),o=r?r.size:0,i=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return g_.resolve(n?n.document.mutableCopy():GS.newInvalidDocument(t))}getEntries(e,t){let n=UC();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():GS.newInvalidDocument(e))}),g_.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let o=UC();const i=t.path,s=new Gw(i.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||h_(u_(s),n)<=0||(r.has(s.key)||MC(t,s))&&(o=o.insert(s.key,s.mutableCopy()))}return g_.resolve(o)}getAllFromCollectionGroup(e,t,n,r){bw(9500)}ii(e,t){return g_.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new ix(this)}getSize(e){return g_.resolve(this.size)}}class ix extends QE{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),g_.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class sx{constructor(e){this.persistence=e,this.si=new jC(e=>yC(e),bC),this.lastRemoteSnapshotVersion=s_.min(),this.highestTargetId=0,this.oi=0,this._i=new tx,this.targetCount=0,this.ai=VE.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),g_.resolve()}getLastRemoteSnapshotVersion(e){return g_.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return g_.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),g_.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),g_.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new VE(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,g_.resolve()}updateTargetData(e,t){return this.Pr(t),g_.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,g_.resolve()}removeTargets(e,t,n){let r=0;const o=[];return this.si.forEach((i,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.si.delete(i),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),g_.waitFor(o).next(()=>r)}getTargetCount(e){return g_.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return g_.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),g_.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(t=>{o.push(r.markPotentiallyOrphaned(e,t))}),g_.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),g_.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return g_.resolve(n)}containsKey(e,t){return g_.resolve(this._i.containsKey(t))}}class ax{constructor(e,t){this.ui={},this.overlays={},this.ci=new b_(0),this.li=!1,this.li=!0,this.hi=new ex,this.referenceDelegate=e(this),this.Pi=new sx(this),this.indexManager=new LE,this.remoteDocumentCache=function(e){return new ox(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new OE(t),this.Ii=new JE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ZE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new rx(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){mw("MemoryPersistence","Starting transaction:",e);const r=new lx(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return g_.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class lx extends f_{constructor(e){super(),this.currentSequenceNumber=e}}class cx{constructor(e){this.persistence=e,this.Ri=new tx,this.Vi=null}static mi(e){return new cx(e)}get fi(){if(this.Vi)return this.Vi;throw bw(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),g_.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),g_.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),g_.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return g_.forEach(this.fi,n=>{const r=Gw.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,s_.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return g_.or([()=>g_.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ux{constructor(e,t){this.persistence=e,this.pi=new jC(e=>E_(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=YE(this,t)}static mi(e,t){return new ux(e,t)}Ei(){}di(e){return g_.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return g_.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?g_.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,o.removeEntry(r,s_.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),g_.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),g_.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),g_.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),g_.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=DS(e.data.value)),t}br(e,t,n){return g_.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return g_.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class dx{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=QC(),r=QC();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new dx(e,t.fromCache,n,r)}}class hx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class px{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=Ul()?8:v_(Dl())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const o={result:null};return this.ys(e,t).next(e=>{o.result=e}).next(()=>{if(!o.result)return this.ws(e,t,r,n).next(e=>{o.result=e})}).next(()=>{if(o.result)return;const n=new hx;return this.Ss(e,t,n).next(r=>{if(o.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>o.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(fw()<=gc.DEBUG&&mw("QueryEngine","SDK will not create cache indexes for query:",OC(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),g_.resolve()):(fw()<=gc.DEBUG&&mw("QueryEngine","Query:",OC(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(fw()<=gc.DEBUG&&mw("QueryEngine","The SDK decides to create cache indexes for query:",OC(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,TC(t))):g_.resolve())}ys(e,t){if(kC(t))return g_.resolve(null);let n=TC(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=RC(t,null,"F"),n=TC(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const o=QC(...r);return this.ps.getDocuments(e,o).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.Ds(t,r);return this.Cs(t,i,o,n.readTime)?this.ys(e,RC(t,null,"F")):this.vs(e,i,t,n)}))})))}ws(e,t,n,r){return kC(t)||r.isEqual(s_.min())?g_.resolve(null):this.ps.getDocuments(e,n).next(o=>{const i=this.Ds(t,o);return this.Cs(t,i,n,r)?g_.resolve(null):(fw()<=gc.DEBUG&&mw("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),OC(t)),this.vs(e,i,t,c_(r,a_)).next(e=>e))})}Ds(e,t){let n=new rS(LC(e));return t.forEach((t,r)=>{MC(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(e,t,n){return fw()<=gc.DEBUG&&mw("QueryEngine","Using full collection scan to execute query:",OC(t)),this.ps.getDocumentsMatchingQuery(e,t,d_.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const fx="LocalStore";class mx{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new eS(Lw),this.xs=new jC(e=>yC(e),bC),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XE(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function gx(e,t,n,r){return new mx(e,t,n,r)}async function vx(e,t){const n=Sw(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(o=>(r=o,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const o=[],i=[];let s=QC();for(const e of r){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ls:e,removedBatchIds:o,addedBatchIds:i}))})})}function yx(e){const t=Sw(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function bx(e,t,n){let r=QC(),o=QC();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=UC();return n.forEach((n,i)=>{const s=e.get(n);i.isFoundDocument()!==s.isFoundDocument()&&(o=o.add(n)),i.isNoDocument()&&i.version.isEqual(s_.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):mw(fx,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)}),{ks:r,qs:o}})}function wx(e,t){const n=Sw(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=w_),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function _x(e,t){const n=Sw(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(o=>o?(r=o,g_.resolve(r)):n.Pi.allocateTargetId(e).next(o=>(r=new AE(t,o,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function Sx(e,t,n){const r=Sw(e),o=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,o))}catch(e){if(!y_(e))throw e;mw(fx,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function Cx(e,t,n){const r=Sw(e);let o=s_.min(),i=QC();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Sw(e),o=r.xs.get(n);return void 0!==o?g_.resolve(r.Ms.get(o)):r.Pi.getTargetData(t,n)}(r,e,TC(t)).next(t=>{if(t)return o=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?o:s_.min(),n?i:QC())).next(e=>(kx(r,DC(t),e),{documents:e,Qs:i})))}function kx(e,t,n){let r=e.Os.get(t)||s_.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class Ex{constructor(){this.activeTargetIds=XC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xx{constructor(){this.Mo=new Ex,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ex,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Tx{Oo(e){}shutdown(){}}const Ix="ConnectivityMonitor";class Px{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){mw(Ix,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){mw(Ix,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Rx=null;function Nx(){return null===Rx?Rx=268435456+Math.round(2147483648*Math.random()):Rx++,"0x"+Rx.toString(16)}const Ax="RestConnection",Ox={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===wS?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,o){const i=Nx(),s=this.zo(e,t.toUriEncodedString());mw(Ax,"Sending RPC '".concat(e,"' ").concat(i,":"),s,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,o);const{host:l}=new URL(s),c=Pl(l);return this.Jo(e,s,a,n,c).then(t=>(mw(Ax,"Received RPC '".concat(e,"' ").concat(i,": "),t),t),t=>{throw vw(Ax,"RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",s,"request:",n),t})}Ho(e,t,n,r,o,i){return this.Go(e,t,n,r,o)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+hw,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Ox[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Dx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Lx="WebChannelConnection";class Fx extends Mx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,o){const i=Nx();return new Promise((o,s)=>{const a=new Zb;a.setWithCredentials(!0),a.listenOnce(tw.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case nw.NO_ERROR:const n=a.getResponseJson();mw(Lx,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(n)),o(n);break;case nw.TIMEOUT:mw(Lx,"RPC '".concat(e,"' ").concat(i," timed out")),s(new kw(Cw.DEADLINE_EXCEEDED,"Request time out"));break;case nw.HTTP_ERROR:const r=a.getStatus();if(mw(Lx,"RPC '".concat(e,"' ").concat(i," failed with status:"),r,"response text:",a.getResponseText()),r>0){var t;let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Cw).indexOf(t)>=0?t:Cw.UNKNOWN}(n.status);s(new kw(e,n.message))}else s(new kw(Cw.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new kw(Cw.UNAVAILABLE,"Connection failed."));break;default:bw(9055,{l_:e,streamId:i,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{mw(Lx,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);mw(Lx,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Nx(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=sw(),s=iw(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=o.join("");mw(Lx,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=i.createWebChannel(c,a);this.I_(u);let d=!1,h=!1;const p=new Dx({Yo:t=>{h?mw(Lx,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(mw(Lx,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),mw(Lx,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),f=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return f(u,ew.EventType.OPEN,()=>{h||(mw(Lx,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),p.o_())}),f(u,ew.EventType.CLOSE,()=>{h||(h=!0,mw(Lx,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.a_(),this.E_(u))}),f(u,ew.EventType.ERROR,t=>{h||(h=!0,vw(Lx,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),p.a_(new kw(Cw.UNAVAILABLE,"The operation could not be completed")))}),f(u,ew.EventType.MESSAGE,t=>{if(!h){var n;const o=t.data[0];_w(!!o,16349);const i=o,s=(null===i||void 0===i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(s){mw(Lx,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Mk[e];if(void 0!==t)return Fk(t)}(t),o=s.message;void 0===n&&(n=Cw.INTERNAL,o="Unknown error status: "+t+" with message "+s.message),h=!0,p.a_(new kw(n,o)),u.close()}else mw(Lx,"RPC '".concat(e,"' stream ").concat(r," received:"),o),p.u_(o)}}),f(s,ow.STAT_EVENT,t=>{t.stat===rw.PROXY?mw(Lx,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===rw.NOPROXY&&mw(Lx,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{p.__()},0),p}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function jx(){return"undefined"!=typeof document?document:null}function zx(e){return new rE(e,!0)}class Ux{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&mw("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Vx="PersistentStream";class Bx{constructor(e,t,n,r,o,i,s,a){this.Mi=e,this.S_=n,this.b_=r,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ux(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Cw.RESOURCE_EXHAUSTED?(gw(t.toString()),gw("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Cw.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new kw(Cw.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return mw(Vx,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(mw(Vx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wx extends Bx{constructor(e,t,n,r,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:bw(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(_w(void 0===t||"string"==typeof t,58123),aS.fromBase64String(t||"")):(_w(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),aS.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Cw.UNKNOWN:Fk(e.code);return new kw(t,e.message||"")}(s);n=new Qk(r,o,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=pE(e,r.document.name),i=lE(r.document.updateTime),s=r.document.createTime?lE(r.document.createTime):s_.min(),a=new HS({mapValue:{fields:r.document.fields}}),l=GS.newFoundDocument(o,i,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Gk(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=pE(e,r.document),i=r.readTime?lE(r.readTime):s_.min(),s=GS.newNoDocument(o,i),a=r.removedTargetIds||[];n=new Gk([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=pE(e,r.document),i=r.removedTargetIds||[];n=new Gk([],i,o,null)}else{if(!("filter"in t))return bw(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:o}=e,i=new Ok(r,o),s=e.targetId;n=new Yk(s,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return s_.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?s_.min():t.readTime?lE(t.readTime):s_.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=gE(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=wC(r)?{documents:wE(e,r)}:{query:_E(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=sE(e,t.resumeToken);const r=oE(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(s_.min())>0){n.readTime=iE(e,t.snapshotVersion.toTimestamp());const r=oE(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bw(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=gE(this.serializer),t.removeTarget=e,this.q_(t)}}class qx extends Bx{constructor(e,t,n,r,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return _w(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_w(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){_w(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(_w(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?lE(e.updateTime):lE(t);return n.isEqual(s_.min())&&(n=lE(t)),new fk(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=lE(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=gE(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>bE(this.serializer,e))};this.q_(t)}}class Hx{}class Kx extends Hx{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new kw(Cw.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[i,s]=o;return this.connection.Go(e,uE(t,n),r,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Cw.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new kw(Cw.UNKNOWN,e.toString())})}Ho(e,t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Ho(e,uE(t,n),r,s,a,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Cw.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new kw(Cw.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Gx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(gw(t),this.aa=!1):mw("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Yx="RemoteStore";class Qx{constructor(e,t,n,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{oT(this)&&(mw(Yx,"Restarting streams for network reachability change."),await async function(e){const t=Sw(e);t.Ea.add(4),await Xx(t),t.Ra.set("Unknown"),t.Ea.delete(4),await $x(t)}(this))})}),this.Ra=new Gx(n,r)}}async function $x(e){if(oT(e))for(const t of e.da)await t(!0)}async function Xx(e){for(const t of e.da)await t(!1)}function Jx(e,t){const n=Sw(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),rT(n)?nT(n):CT(n).O_()&&eT(n,t))}function Zx(e,t){const n=Sw(e),r=CT(n);n.Ia.delete(t),r.O_()&&tT(n,t),0===n.Ia.size&&(r.O_()?r.L_():oT(n)&&n.Ra.set("Unknown"))}function eT(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(s_.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}CT(e).Y_(t)}function tT(e,t){e.Va.Ue(t),CT(e).Z_(t)}function nT(e){e.Va=new Xk({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),CT(e).start(),e.Ra.ua()}function rT(e){return oT(e)&&!CT(e).x_()&&e.Ia.size>0}function oT(e){return 0===Sw(e).Ea.size}function iT(e){e.Va=void 0}async function sT(e){e.Ra.set("Online")}async function aT(e){e.Ia.forEach((t,n)=>{eT(e,t)})}async function lT(e,t){iT(e),rT(e)?(e.Ra.ha(t),nT(e)):e.Ra.set("Unknown")}async function cT(e,t,n){if(e.Ra.set("Online"),t instanceof Qk&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){mw(Yx,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await uT(e,n)}else if(t instanceof Gk?e.Va.Ze(t):t instanceof Yk?e.Va.st(t):e.Va.tt(t),!n.isEqual(s_.min()))try{const t=await yx(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const o=e.Ia.get(r);o&&e.Ia.set(r,o.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(aS.EMPTY_BYTE_STRING,r.snapshotVersion)),tT(e,t);const o=new AE(r.target,t,n,r.sequenceNumber);eT(e,o)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){mw(Yx,"Failed to raise snapshot:",t),await uT(e,t)}}async function uT(e,t,n){if(!y_(t))throw t;e.Ea.add(1),await Xx(e),e.Ra.set("Offline"),n||(n=()=>yx(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{mw(Yx,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await $x(e)})}function dT(e,t){return t().catch(n=>uT(e,n,t))}async function hT(e){const t=Sw(e),n=kT(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:w_;for(;pT(t);)try{const e=await wx(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,fT(t,e)}catch(e){await uT(t,e)}mT(t)&&gT(t)}function pT(e){return oT(e)&&e.Ta.length<10}function fT(e,t){e.Ta.push(t);const n=kT(e);n.O_()&&n.X_&&n.ea(t.mutations)}function mT(e){return oT(e)&&!kT(e).x_()&&e.Ta.length>0}function gT(e){kT(e).start()}async function vT(e){kT(e).ra()}async function yT(e){const t=kT(e);for(const n of e.Ta)t.ea(n.mutations)}async function bT(e,t,n){const r=e.Ta.shift(),o=Nk.from(r,t,n);await dT(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await hT(e)}async function wT(e,t){t&&kT(e).X_&&await async function(e,t){if(function(e){return Lk(e)&&e!==Cw.ABORTED}(t.code)){const n=e.Ta.shift();kT(e).B_(),await dT(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await hT(e)}}(e,t),mT(e)&&gT(e)}async function _T(e,t){const n=Sw(e);n.asyncQueue.verifyOperationInProgress(),mw(Yx,"RemoteStore received new credentials");const r=oT(n);n.Ea.add(3),await Xx(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await $x(n)}async function ST(e,t){const n=Sw(e);t?(n.Ea.delete(2),await $x(n)):t||(n.Ea.add(2),await Xx(n),n.Ra.set("Unknown"))}function CT(e){return e.ma||(e.ma=function(e,t,n){const r=Sw(e);return r.sa(),new Wx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:sT.bind(null,e),t_:aT.bind(null,e),r_:lT.bind(null,e),H_:cT.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),rT(e)?nT(e):e.Ra.set("Unknown")):(await e.ma.stop(),iT(e))})),e.ma}function kT(e){return e.fa||(e.fa=function(e,t,n){const r=Sw(e);return r.sa(),new qx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:vT.bind(null,e),r_:wT.bind(null,e),ta:yT.bind(null,e),na:bT.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await hT(e)):(await e.fa.stop(),e.Ta.length>0&&(mw(Yx,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class ET{constructor(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new Ew,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,o){const i=Date.now()+n,s=new ET(e,t,i,r,o);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kw(Cw.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xT(e,t){if(gw("AsyncQueue","".concat(t,": ").concat(e)),y_(e))return new kw(Cw.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class TT{static emptySet(e){return new TT(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Gw.comparator(t.key,n.key):(e,t)=>Gw.comparator(e.key,t.key),this.keyedMap=BC(),this.sortedSet=new eS(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof TT))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new TT;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class IT{constructor(){this.ga=new eS(Gw.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):bw(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class PT{constructor(e,t,n,r,o,i,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,o){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new PT(e,t,TT.emptySet(t),i,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&NC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class RT{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class NT{constructor(){this.queries=AT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Sw(e),r=n.queries;n.queries=AT(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new kw(Cw.ABORTED,"Firestore shutting down"))}}function AT(){return new jC(e=>AC(e),NC)}async function OT(e,t){const n=Sw(e);let r=3;const o=t.query;let i=n.queries.get(o);i?!i.ba()&&t.Da()&&(r=2):(i=new RT,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(o,!0);break;case 1:i.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(e){const n=xT(e,"Initialization of query '".concat(OC(t.query),"' failed"));return void t.onError(n)}n.queries.set(o,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&FT(n)}async function MT(e,t){const n=Sw(e),r=t.query;let o=3;const i=n.queries.get(r);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?o=t.Da()?0:1:!i.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function DT(e,t){const n=Sw(e);let r=!1;for(const o of t){const e=o.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(o)&&(r=!0);t.wa=o}}r&&FT(n)}function LT(e,t,n){const r=Sw(e),o=r.queries.get(t);if(o)for(const i of o.Sa)i.onError(n);r.queries.delete(t)}function FT(e){e.Ca.forEach(e=>{e.next()})}var jT,zT;(zT=jT||(jT={})).Ma="default",zT.Cache="cache";class UT{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new PT(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=PT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jT.Cache}}class VT{constructor(e){this.key=e}}class BT{constructor(e){this.key=e}}class WT{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=QC(),this.mutatedKeys=QC(),this.eu=LC(e),this.tu=new TT(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new IT,r=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,i=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=MC(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.su(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.eu(u,a)>0||l&&this.eu(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(s=!0)),p&&(u?(i=i.add(u),o=h?o.add(e):o.delete(e)):(i=i.delete(e),o=o.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),o=o.delete(e.key),n.track({type:1,doc:e})}return{tu:i,iu:n,Cs:s,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bw(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const s=t&&!r?this._u():[],a=0===this.Xa.size&&this.current&&!r?1:0,l=a!==this.Za;return this.Za=a,0!==i.length||l?{snapshot:new PT(this.query,e.tu,o,i,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new IT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=QC(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new BT(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new VT(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=QC();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return PT.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const qT="SyncEngine";class HT{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class KT{constructor(e){this.key=e,this.hu=!1}}class GT{constructor(e,t,n,r,o,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new jC(e=>AC(e),NC),this.Iu=new Map,this.Eu=new Set,this.du=new eS(Gw.comparator),this.Au=new Map,this.Ru=new tx,this.Vu={},this.mu=new Map,this.fu=VE.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function YT(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=mI(e);let o;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),o=i.view.lu()):o=await $T(r,t,n,!0),o}async function QT(e,t){const n=mI(e);await $T(n,t,!0,!1)}async function $T(e,t,n,r){const o=await _x(e.localStore,TC(t)),i=o.targetId,s=e.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await XT(e,t,i,"current"===s,o.resumeToken)),e.isPrimaryClient&&n&&Jx(e.remoteStore,o),a}async function XT(e,t,n,r,o){e.pu=(t,n,r)=>async function(e,t,n,r){let o=t.view.ru(n);o.Cs&&(o=await Cx(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,o)}));const i=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(o,e.isPrimaryClient,i,s);return cI(e,t.targetId,a.au),a.snapshot}(e,t,n,r);const i=await Cx(e.localStore,t,!0),s=new WT(t,i.Qs),a=s.ru(i.documents),l=Kk.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,o),c=s.applyChanges(a,e.isPrimaryClient,l);cI(e,n,c.au);const u=new HT(t,n,s);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function JT(e,t,n){const r=Sw(e),o=r.Tu.get(t),i=r.Iu.get(o.targetId);if(i.length>1)return r.Iu.set(o.targetId,i.filter(e=>!NC(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Sx(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Zx(r.remoteStore,o.targetId),aI(r,o.targetId)}).catch(m_)):(aI(r,o.targetId),await Sx(r.localStore,o.targetId,!0))}async function ZT(e,t){const n=Sw(e),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&1===o.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zx(n.remoteStore,r.targetId))}async function eI(e,t){const n=Sw(e);try{const e=await function(e,t){const n=Sw(e),r=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const s=[];t.targetChanges.forEach((i,a)=>{const l=o.get(a);if(!l)return;s.push(n.Pi.removeMatchingKeys(e,i.removedDocuments,a).next(()=>n.Pi.addMatchingKeys(e,i.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(aS.EMPTY_BYTE_STRING,s_.min()).withLastLimboFreeSnapshotVersion(s_.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),o=o.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&s.push(n.Pi.updateTargetData(e,c))});let a=UC(),l=QC();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(bx(e,i,t.documentUpdates).next(e=>{a=e.ks,l=e.qs})),!r.isEqual(s_.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return g_.waitFor(s).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ms=o,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(_w(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?_w(r.hu,14607):e.removedDocuments.size>0&&(_w(r.hu,42227),r.hu=!1))}),await hI(n,e,t)}catch(e){await m_(e)}}function tI(e,t,n){const r=Sw(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const o=r.view.va(t);o.snapshot&&e.push(o.snapshot)}),function(e,t){const n=Sw(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const o of n.Sa)o.va(t)&&(r=!0)}),r&&FT(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function nI(e,t,n){const r=Sw(e);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),i=o&&o.key;if(i){let e=new eS(Gw.comparator);e=e.insert(i,GS.newNoDocument(i,s_.min()));const n=QC().add(i),o=new Hk(s_.min(),new Map,new eS(Lw),e,n);await eI(r,o),r.du=r.du.remove(i),r.Au.delete(t),dI(r)}else await Sx(r.localStore,t,!1).then(()=>aI(r,t,n)).catch(m_)}async function rI(e,t){const n=Sw(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Sw(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const o=n.batch,i=o.keys();let s=g_.resolve();return i.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);_w(null!==i,48541),t.version.compareTo(i)<0&&(o.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,o))}(n,e,t,o).next(()=>o.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=QC();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);sI(n,r,null),iI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hI(n,e)}catch(e){await m_(e)}}async function oI(e,t,n){const r=Sw(e);try{const e=await function(e,t){const n=Sw(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(_w(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);sI(r,t,n),iI(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await hI(r,e)}catch(n){await m_(n)}}function iI(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function sI(e,t,n){const r=Sw(e);let o=r.Vu[r.currentUser.toKey()];if(o){const e=o.get(t);e&&(n?e.reject(n):e.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function aI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||lI(e,t)})}function lI(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Zx(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),dI(e))}function cI(e,t,n){for(const r of n)r instanceof VT?(e.Ru.addReference(r.key,t),uI(e,r)):r instanceof BT?(mw(qT,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||lI(e,r.key)):bw(19791,{wu:r})}function uI(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(mw(qT,"New document in limbo: "+n),e.Eu.add(r),dI(e))}function dI(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Gw(qw.fromString(t)),r=e.fu.next();e.Au.set(r,new KT(n)),e.du=e.du.insert(n,r),Jx(e.remoteStore,new AE(TC(CC(n.path)),r,"TargetPurposeLimboResolution",b_.ce))}}async function hI(e,t,n){const r=Sw(e),o=[],i=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{s.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const o=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,o?"current":"not-current")}if(e){o.push(e);const t=dx.As(a.targetId,e);i.push(t)}}))}),await Promise.all(s),r.Pu.H_(o),await async function(e,t){const n=Sw(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>g_.forEach(t,t=>g_.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>g_.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!y_(e))throw e;mw(fx,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,o=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,o)}}}(r.localStore,i))}async function pI(e,t){const n=Sw(e);if(!n.currentUser.isEqual(t)){mw(qT,"User change. New user:",t.toKey());const e=await vx(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new kw(Cw.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await hI(n,e.Ls)}}function fI(e,t){const n=Sw(e),r=n.Au.get(t);if(r&&r.hu)return QC().add(r.key);{let e=QC();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function mI(e){const t=Sw(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=eI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nI.bind(null,t),t.Pu.H_=DT.bind(null,t.eventManager),t.Pu.yu=LT.bind(null,t.eventManager),t}function gI(e){const t=Sw(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oI.bind(null,t),t}class vI{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return gx(this.persistence,new px,e.initialUser,this.serializer)}Cu(e){return new ax(cx.mi,this.serializer)}Du(e){return new xx}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vI.provider={build:()=>new vI};class yI extends vI{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){_w(this.persistence.referenceDelegate instanceof ux,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new KE(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?UE.withCacheSize(this.cacheSizeBytes):UE.DEFAULT;return new ax(e=>ux.mi(e,t),this.serializer)}}class bI{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>tI(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=pI.bind(null,this.syncEngine),await ST(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new NT}createDatastore(e){const t=zx(e.databaseInfo.databaseId),n=function(e){return new Fx(e)}(e.databaseInfo);return function(e,t,n,r){return new Kx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,o){return new Qx(e,t,n,r,o)}(this.localStore,this.datastore,e.asyncQueue,e=>tI(this.syncEngine,e,0),Px.v()?new Px:new Tx)}createSyncEngine(e,t){return function(e,t,n,r,o,i,s){const a=new GT(e,t,n,r,o,i);return s&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Sw(e);mw(Yx,"RemoteStore shutting down."),t.Ea.add(5),await Xx(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}bI.provider={build:()=>new bI};class wI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gw("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const _I="FirestoreClient";class SI{constructor(e,t,n,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=dw.UNAUTHENTICATED,this.clientId=Dw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async e=>{mw(_I,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(mw(_I,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ew;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=xT(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function CI(e,t){e.asyncQueue.verifyOperationInProgress(),mw(_I,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await vx(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function kI(e,t){e.asyncQueue.verifyOperationInProgress();const n=await EI(e);mw(_I,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>_T(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>_T(t.remoteStore,n)),e._onlineComponents=t}async function EI(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){mw(_I,"Using user provided OfflineComponentProvider");try{await CI(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Cw.FAILED_PRECONDITION||e.code===Cw.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;vw("Error using user provided cache. Falling back to memory cache: "+n),await CI(e,new vI)}}else mw(_I,"Using default OfflineComponentProvider"),await CI(e,new yI(void 0));return e._offlineComponents}async function xI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(mw(_I,"Using user provided OnlineComponentProvider"),await kI(e,e._uninitializedComponentsProvider._online)):(mw(_I,"Using default OnlineComponentProvider"),await kI(e,new bI))),e._onlineComponents}function TI(e){return xI(e).then(e=>e.syncEngine)}async function II(e){const t=await xI(e),n=t.eventManager;return n.onListen=YT.bind(null,t.syncEngine),n.onUnlisten=JT.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=QT.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=ZT.bind(null,t.syncEngine),n}function PI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ew;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,o){const i=new wI({next:a=>{i.Nu(),t.enqueueAndForget(()=>MT(e,s));const l=a.docs.has(n);!l&&a.fromCache?o.reject(new kw(Cw.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?o.reject(new kw(Cw.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(a)},error:e=>o.reject(e)}),s=new UT(CC(n.path),i,{includeMetadataChanges:!0,qa:!0});return OT(e,s)}(await II(e),e.asyncQueue,t,n,r)),r.promise}function RI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ew;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,o){const i=new wI({next:n=>{i.Nu(),t.enqueueAndForget(()=>MT(e,s)),n.fromCache&&"server"===r.source?o.reject(new kw(Cw.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(n)},error:e=>o.reject(e)}),s=new UT(n,i,{includeMetadataChanges:!0,qa:!0});return OT(e,s)}(await II(e),e.asyncQueue,t,n,r)),r.promise}function NI(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const AI=new Map,OI="firestore.googleapis.com",MI=!0;class DI{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new kw(Cw.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OI,this.ssl=MI}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:MI;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=zE;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<WE)throw new kw(Cw.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new kw(Cw.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NI(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new kw(Cw.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new kw(Cw.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new kw(Cw.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class LI{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new kw(Cw.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new kw(Cw.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DI(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Tw;switch(e.type){case"firstParty":return new Nw(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new kw(Cw.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=AI.get(e);t&&(mw("ComponentProvider","Removing Datastore"),AI.delete(e),t.terminate())}(this),Promise.resolve()}}class FI{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new FI(this.firestore,e,this._query)}}class jI{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zI(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jI(this.firestore,e,this._key)}toJSON(){return{type:jI._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(n_(t,jI._jsonSchema))return new jI(e,n||null,new Gw(qw.fromString(t.referencePath)))}}jI._jsonSchemaVersion="firestore/documentReference/1.0",jI._jsonSchema={type:t_("string",jI._jsonSchemaVersion),referencePath:t_("string")};class zI extends FI{constructor(e,t,n){super(e,t,CC(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jI(this.firestore,null,new Gw(e))}withConverter(e){return new zI(this.firestore,e,this._path)}}function UI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e=cc(e),Yw("collection","path",t),e instanceof LI){const n=qw.fromString(t,...r);return $w(n),new zI(e,null,n)}{if(!(e instanceof jI||e instanceof zI))throw new kw(Cw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(qw.fromString(t,...r));return $w(n),new zI(e.firestore,null,n)}}function VI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e=cc(e),1===arguments.length&&(t=Dw.newId()),Yw("doc","path",t),e instanceof LI){const n=qw.fromString(t,...r);return Qw(n),new jI(e,null,new Gw(n))}{if(!(e instanceof jI||e instanceof zI))throw new kw(Cw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(qw.fromString(t,...r));return Qw(n),new jI(e.firestore,e instanceof zI?e.converter:null,new Gw(n))}}const BI="AsyncQueue";class WI{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ux(this,"async_queue_retry"),this._c=()=>{const e=jx();e&&mw(BI,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=jx();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=jx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Ew;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(gV){if(!y_(gV))throw gV;mw(BI,"Operation failed with retryable error: "+gV)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,gw("INTERNAL UNHANDLED ERROR: ",qI(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=ET.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&bw(47125,{Pc:qI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function qI(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function HI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class KI extends LI{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new WI,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WI(e),this._firestoreClient=void 0,await e}}}function GI(e){if(e._terminated)throw new kw(Cw.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||YI(e),e._firestoreClient}function YI(e){var t,n,r;const o=e._freezeSettings(),i=function(e,t,n,r){return new bS(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,NI(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,o);e._componentsProvider||null!==(n=o.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=o.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),e._firestoreClient=new SI(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class QI{constructor(e){this._byteString=e}static fromBase64String(e){try{return new QI(aS.fromBase64String(e))}catch(e){throw new kw(Cw.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new QI(aS.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:QI._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(n_(e,QI._jsonSchema))return QI.fromBase64String(e.bytes)}}QI._jsonSchemaVersion="firestore/bytes/1.0",QI._jsonSchema={type:t_("string",QI._jsonSchemaVersion),bytes:t_("string")};class $I{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new kw(Cw.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kw(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class XI{constructor(e){this._methodName=e}}class JI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new kw(Cw.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new kw(Cw.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Lw(this._lat,e._lat)||Lw(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:JI._jsonSchemaVersion}}static fromJSON(e){if(n_(e,JI._jsonSchema))return new JI(e.latitude,e.longitude)}}JI._jsonSchemaVersion="firestore/geoPoint/1.0",JI._jsonSchema={type:t_("string",JI._jsonSchemaVersion),latitude:t_("number"),longitude:t_("number")};class ZI{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ZI._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(n_(e,ZI._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new ZI(e.vectorValues);throw new kw(Cw.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ZI._jsonSchemaVersion="firestore/vectorValue/1.0",ZI._jsonSchema={type:t_("string",ZI._jsonSchemaVersion),vectorValues:t_("object")};const eP=/^__.*__$/;class tP{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new kk(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ck(e,this.data,t,this.fieldTransforms)}}class nP{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new kk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rP(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bw(40011,{Ac:e})}}class oP{constructor(e,t,n,r,o,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===o&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new oP(h(h({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wP(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(rP(this.Ac)&&eP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class iP{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||zx(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new oP({Ac:e,methodName:t,Dc:n,path:Kw.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sP(e){const t=e._freezeSettings(),n=zx(e._databaseId);return new iP(e._databaseId,!!t.ignoreUndefinedProperties,n)}function aP(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cc(i.merge||i.mergeFields?2:0,t,n,o);gP("Data must be an object, but it was:",s,r);const a=fP(r,s);let l,c;if(i.merge)l=new iS(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const o=vP(t,r,n);if(!s.contains(o))throw new kw(Cw.INVALID_ARGUMENT,"Field '".concat(o,"' is specified in your field mask but missing from your input data."));_P(e,o)||e.push(o)}l=new iS(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new tP(new HS(a),l,c)}class lP extends XI{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lP}}class cP extends XI{_toFieldTransform(e){return new pk(e.path,new ik)}isEqual(e){return e instanceof cP}}function uP(e,t,n,r){const o=e.Cc(1,t,n);gP("Data must be an object, but it was:",o,r);const i=[],s=HS.empty();J_(r,(e,r)=>{const a=bP(t,e,n);r=cc(r);const l=o.yc(a);if(r instanceof lP)i.push(a);else{const e=pP(r,l);null!=e&&(i.push(a),s.set(a,e))}});const a=new iS(i);return new nP(s,a,o.fieldTransforms)}function dP(e,t,n,r,o,i){const s=e.Cc(1,t,n),a=[vP(t,r,n)],l=[o];if(i.length%2!=0)throw new kw(Cw.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<i.length;h+=2)a.push(vP(t,i[h])),l.push(i[h+1]);const c=[],u=HS.empty();for(let h=a.length-1;h>=0;--h)if(!_P(c,a[h])){const e=a[h];let t=l[h];t=cc(t);const n=s.yc(e);if(t instanceof lP)c.push(e);else{const r=pP(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new iS(c);return new nP(u,d,s.fieldTransforms)}function hP(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return pP(n,e.Cc(r?4:3,t))}function pP(e,t){if(mP(e=cc(e)))return gP("Unsupported field value:",t,e),fP(e,t);if(e instanceof XI)return function(e,t){if(!rP(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const o of e){let e=pP(o,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=cc(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ek(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=i_.fromDate(e);return{timestampValue:iE(t.serializer,n)}}if(e instanceof i_){const n=new i_(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:iE(t.serializer,n)}}if(e instanceof JI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof QI)return{bytesValue:sE(t.serializer,e._byteString)};if(e instanceof jI){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:cE(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof ZI)return function(e,t){return{mapValue:{fields:{[SS]:{stringValue:ES},[xS]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return JC(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(Jw(e)))}(e,t)}function fP(e,t){const n={};return Z_(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):J_(e,(e,r)=>{const o=pP(r,t.mc(e));null!=o&&(n[e]=o)}),{mapValue:{fields:n}}}function mP(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof i_||e instanceof JI||e instanceof QI||e instanceof jI||e instanceof XI||e instanceof ZI)}function gP(e,t,n){if(!mP(n)||!Xw(n)){const r=Jw(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function vP(e,t,n){if((t=cc(t))instanceof $I)return t._internalPath;if("string"==typeof t)return bP(e,t);throw wP("Field path arguments must be of type string or ",e,!1,void 0,n)}const yP=new RegExp("[~\\*/\\[\\]]");function bP(e,t,n){if(t.search(yP)>=0)throw wP("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new $I(...t.split("."))._internalPath}catch(fo){throw wP("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function wP(e,t,n,r,o){const i=r&&!r.isEmpty(),s=void 0!==o;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(o)),l+=")"),new kw(Cw.INVALID_ARGUMENT,a+e+l)}function _P(e,t){return e.some(e=>e.isEqual(t))}class SP{constructor(e,t,n,r,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new jI(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new CP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kP("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class CP extends SP{data(){return super.data()}}function kP(e,t){return"string"==typeof t?bP(e,t):t instanceof $I?t._internalPath:t._delegate._internalPath}function EP(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new kw(Cw.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xP{}class TP extends xP{}function IP(e,t){let n=[];for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t instanceof xP&&n.push(t),n=n.concat(o),function(e){const t=e.filter(e=>e instanceof NP).length,n=e.filter(e=>e instanceof PP).length;if(t>1||t>0&&n>0)throw new kw(Cw.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class PP extends TP{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new PP(e,t,n)}_apply(e){const t=this._parse(e);return FP(e._query,t),new FI(e.firestore,e.converter,PC(e._query,t))}_parse(e){const t=sP(e.firestore),n=function(e,t,n,r,o,i,s){let a;if(o.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new kw(Cw.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(i,"' queries on documentId()."));if("in"===i||"not-in"===i){LP(s,i);const t=[];for(const n of s)t.push(DP(r,e,n));a={arrayValue:{values:t}}}else a=DP(r,e,s)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||LP(s,i),a=hP(n,t,s,"in"===i||"not-in"===i);return eC.create(o,i,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function RP(e,t,n){const r=t,o=kP("where",e);return PP._create(o,r,n)}class NP extends xP{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new NP(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:tC.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const o of r)FP(n,o),n=PC(n,o)}(e._query,t),new FI(e.firestore,e.converter,PC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class AP extends TP{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new AP(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new kw(Cw.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new kw(Cw.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new XS(t,n)}(e._query,this._field,this._direction);return new FI(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new _C(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function OP(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=kP("orderBy",e);return AP._create(n,t)}class MP extends TP{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new MP(e,t,n)}_apply(e){return new FI(e.firestore,e.converter,RC(e._query,this._limit,this._limitType))}}function DP(e,t,n){if("string"==typeof(n=cc(n))){if(""===n)throw new kw(Cw.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EC(t)&&-1!==n.indexOf("/"))throw new kw(Cw.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(qw.fromString(n));if(!Gw.isDocumentKey(r))throw new kw(Cw.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return LS(e,new Gw(r))}if(n instanceof jI)return LS(e,n._key);throw new kw(Cw.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Jw(n),"."))}function LP(e,t){if(!Array.isArray(e)||0===e.length)throw new kw(Cw.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function FP(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new kw(Cw.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new kw(Cw.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class jP{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(TS(e)){case 0:return null;case 1:return e.booleanValue;case 2:return uS(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(dS(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw bw(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return J_(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[xS].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>uS(e.doubleValue));return new ZI(n)}convertGeoPoint(e){return new JI(uS(e.latitude),uS(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=vS(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(yS(e));default:return null}}convertTimestamp(e){const t=cS(e);return new i_(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=qw.fromString(e);_w(NE(n),9688,{name:e});const r=new _S(n.get(1),n.get(3)),o=new Gw(n.popFirst(5));return r.isEqual(t)||gw("Document ".concat(o," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),o}}function zP(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class UP{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class VP extends SP{constructor(e,t,n,r,o,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new BP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(kP("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new kw(Cw.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=VP._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}VP._jsonSchemaVersion="firestore/documentSnapshot/1.0",VP._jsonSchema={type:t_("string",VP._jsonSchemaVersion),bundleSource:t_("string","DocumentSnapshot"),bundleName:t_("string"),bundle:t_("string")};class BP extends VP{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class WP{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new UP(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new BP(this._firestore,this._userDataWriter,n.key,n,new UP(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new kw(Cw.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new BP(e._firestore,e._userDataWriter,n.doc.key,n.doc,new UP(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new BP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new UP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let o=-1,i=-1;return 0!==t.type&&(o=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:qP(t.type),doc:r,oldIndex:o,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new kw(Cw.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=WP._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bw(61501,{type:e})}}function HP(e){e=Zw(e,jI);const t=Zw(e.firestore,KI);return PI(GI(t),e._key).then(n=>XP(t,e,n))}WP._jsonSchemaVersion="firestore/querySnapshot/1.0",WP._jsonSchema={type:t_("string",WP._jsonSchemaVersion),bundleSource:t_("string","QuerySnapshot"),bundleName:t_("string"),bundle:t_("string")};class KP extends jP{constructor(e){super(),this.firestore=e}convertBytes(e){return new QI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jI(this.firestore,null,t)}}function GP(e,t,n){e=Zw(e,jI);const r=Zw(e.firestore,KI),o=zP(e.converter,t,n);return $P(r,[aP(sP(r),"setDoc",e._key,o,null!==e.converter,n).toMutation(e._key,mk.none())])}function YP(e,t){const n=Zw(e.firestore,KI),r=VI(e),o=zP(e.converter,t);return $P(n,[aP(sP(e.firestore),"addDoc",r._key,o,null!==e.converter,{}).toMutation(r._key,mk.exists(!1))]).then(()=>r)}function QP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=cc(e);let o={includeMetadataChanges:!1,source:"default"},i=0;"object"!=typeof n[i]||HI(n[i])||(o=n[i++]);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(HI(n[i])){var a,l,c;const e=n[i];n[i]=null===(a=e.next)||void 0===a?void 0:a.bind(e),n[i+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[i+2]=null===(c=e.complete)||void 0===c?void 0:c.bind(e)}let u,d,h;if(e instanceof jI)d=Zw(e.firestore,KI),h=CC(e._key.path),u={next:t=>{n[i]&&n[i](XP(d,e,t))},error:n[i+1],complete:n[i+2]};else{const t=Zw(e,FI);d=Zw(t.firestore,KI),h=t._query;const r=new KP(d);u={next:e=>{n[i]&&n[i](new WP(d,r,t,e))},error:n[i+1],complete:n[i+2]},EP(e._query)}return function(e,t,n,r){const o=new wI(r),i=new UT(t,o,n);return e.asyncQueue.enqueueAndForget(async()=>OT(await II(e),i)),()=>{o.Nu(),e.asyncQueue.enqueueAndForget(async()=>MT(await II(e),i))}}(GI(d),h,s,u)}function $P(e,t){return function(e,t){const n=new Ew;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=gI(e);try{const e=await function(e,t){const n=Sw(e),r=i_.now(),o=t.reduce((e,t)=>e.add(t.key),QC());let i,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=UC(),l=QC();return n.Ns.getEntries(e,o).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(o=>{i=o;const s=[];for(const e of t){const t=_k(e,i.get(e.key).overlayedDocument);null!=t&&s.push(new kk(e.key,t,KS(t.value.mapValue),mk.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:WC(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new eS(Lw)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await hI(r,e.changes),await hT(r.remoteStore)}catch(e){const t=xT(e,"Failed to persist write");n.reject(t)}}(await TI(e),t,n)),n.promise}(GI(e),t)}function XP(e,t,n){const r=n.docs.get(t._key),o=new KP(e);return new VP(e,o,t._key,r,new UP(n.hasPendingWrites,n.fromCache),t.converter)}class JP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=sP(e)}set(e,t,n){this._verifyNotCommitted();const r=ZP(e,this._firestore),o=zP(r.converter,t,n),i=aP(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,n);return this._mutations.push(i.toMutation(r._key,mk.none())),this}update(e,t,n){this._verifyNotCommitted();const r=ZP(e,this._firestore);let o;for(var i=arguments.length,s=new Array(i>3?i-3:0),a=3;a<i;a++)s[a-3]=arguments[a];return o="string"==typeof(t=cc(t))||t instanceof $I?dP(this._dataReader,"WriteBatch.update",r._key,t,n,s):uP(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(o.toMutation(r._key,mk.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ZP(e,this._firestore);return this._mutations=this._mutations.concat(new Ik(t._key,mk.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new kw(Cw.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ZP(e,t){if((e=cc(e)).firestore!==t)throw new kw(Cw.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function eR(){return new cP("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){hw=e}(Tu),Su(new uc("firestore",(e,n)=>{let{instanceIdentifier:r,options:o}=n;const i=e.getProvider("app").getImmediate(),s=new KI(new Pw(e.getProvider("auth-internal")),new Ow(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new kw(Cw.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _S(e.options.projectId,t)}(i,r),i);return o=h({useFetchStreams:t},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Ru(cw,uw,e),Ru(cw,uw,"esm2020")}();const tR="@firebase/installations",nR="0.6.19",rR=1e4,oR="w:".concat(nR),iR="FIS_v2",sR=36e5,aR=new ql("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function lR(e){return e instanceof Wl&&e.code.includes("request-failed")}function cR(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function uR(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function dR(e,t){const n=(await t.json()).error;return aR.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function hR(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function pR(e,t){let{refreshToken:n}=t;const r=hR(e);return r.append("Authorization",function(e){return"".concat(iR," ").concat(e)}(n)),r}async function fR(e){const t=await e();return t.status>=500&&t.status<600?e():t}function mR(e){return new Promise(t=>{setTimeout(t,e)})}const gR=/^[cdef][\w-]{21}$/;function vR(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return gR.test(t)?t:""}catch(e){return""}}function yR(e){return"".concat(e.appName,"!").concat(e.appId)}const bR=new Map;function wR(e,t){const n=yR(e);_R(n,t),function(e,t){const n=CR();n&&n.postMessage({key:e,fid:t});kR()}(n,t)}function _R(e,t){const n=bR.get(e);if(n)for(const r of n)r(t)}let SR=null;function CR(){return!SR&&"BroadcastChannel"in self&&(SR=new BroadcastChannel("[Firebase] FID Change"),SR.onmessage=e=>{_R(e.data.key,e.data.fid)}),SR}function kR(){0===bR.size&&SR&&(SR.close(),SR=null)}const ER="firebase-installations-store";let xR=null;function TR(){return xR||(xR=Mc("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(ER)}})),xR}async function IR(e,t){const n=yR(e),r=(await TR()).transaction(ER,"readwrite"),o=r.objectStore(ER),i=await o.get(n);return await o.put(t,n),await r.done,i&&i.fid===t.fid||wR(e,t.fid),t}async function PR(e){const t=yR(e),n=(await TR()).transaction(ER,"readwrite");await n.objectStore(ER).delete(t),await n.done}async function RR(e,t){const n=yR(e),r=(await TR()).transaction(ER,"readwrite"),o=r.objectStore(ER),i=await o.get(n),s=t(i);return void 0===s?await o.delete(n):await o.put(s,n),await r.done,!s||i&&i.fid===s.fid||wR(e,s.fid),s}async function NR(e){let t;const n=await RR(e.appConfig,n=>{const r=function(e){const t=e||{fid:vR(),registrationStatus:0};return MR(t)}(n),o=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(aR.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:o}=t;const i=cR(n),s=hR(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:o,authVersion:iR,appId:n.appId,sdkVersion:oR},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await fR(()=>fetch(i,c));if(u.ok){const e=await u.json();return{fid:e.fid||o,registrationStatus:2,refreshToken:e.refreshToken,authToken:uR(e.authToken)}}throw await dR("Create Installation",u)}(e,t);return IR(e.appConfig,n)}catch(gV){throw lR(gV)&&409===gV.customData.serverCode?await PR(e.appConfig):await IR(e.appConfig,{fid:t.fid,registrationStatus:0}),gV}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:AR(e)}:{installationEntry:t}}(e,r);return t=o.registrationPromise,o.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function AR(e){let t=await OR(e.appConfig);for(;1===t.registrationStatus;)await mR(100),t=await OR(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await NR(e);return n||t}return t}function OR(e){return RR(e,e=>{if(!e)throw aR.create("installation-not-found");return MR(e)})}function MR(e){return 1===(t=e).registrationStatus&&t.registrationTime+rR<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function DR(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const o=function(e,t){let{fid:n}=t;return"".concat(cR(e),"/").concat(n,"/authTokens:generate")}(n,t),i=pR(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const a={installation:{sdkVersion:oR,appId:n.appId}},l={method:"POST",headers:i,body:JSON.stringify(a)},c=await fR(()=>fetch(o,l));if(c.ok){return uR(await c.json())}throw await dR("Generate Auth Token",c)}async function LR(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await RR(e.appConfig,r=>{if(!jR(r))throw aR.create("not-registered");const o=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+sR}(e)}(o))return r;if(1===o.requestStatus)return t=async function(e,t){let n=await FR(e.appConfig);for(;1===n.authToken.requestStatus;)await mR(100),n=await FR(e.appConfig);const r=n.authToken;return 0===r.requestStatus?LR(e,t):r}(e,n),r;{if(!navigator.onLine)throw aR.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return h(h({},e),{},{authToken:t})}(r);return t=async function(e,t){try{const n=await DR(e,t),r=h(h({},t),{},{authToken:n});return await IR(e.appConfig,r),n}catch(gV){if(!lR(gV)||401!==gV.customData.serverCode&&404!==gV.customData.serverCode){const n=h(h({},t),{},{authToken:{requestStatus:0}});await IR(e.appConfig,n)}else await PR(e.appConfig);throw gV}}(e,n),n}});return t?await t:r.authToken}function FR(e){return RR(e,e=>{if(!jR(e))throw aR.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+rR<Date.now()?h(h({},e),{},{authToken:{requestStatus:0}}):e;var n})}function jR(e){return void 0!==e&&2===e.registrationStatus}async function zR(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await NR(e);t&&await t}(n);return(await LR(n,t)).token}function UR(e){return aR.create("missing-app-config-values",{valueName:e})}const VR="installations",BR=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw UR("App Configuration");if(!e.name)throw UR("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw UR(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Cu(t,"heartbeat"),_delete:()=>Promise.resolve()}},WR=e=>{const t=Cu(e.getProvider("app").getImmediate(),VR).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await NR(t);return r?r.catch(console.error):LR(t).catch(console.error),n.fid}(t),getToken:e=>zR(t,e)}};Su(new uc(VR,BR,"PUBLIC")),Su(new uc("installations-internal",WR,"PRIVATE")),Ru(tR,nR),Ru(tR,nR,"esm2020");const qR="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",HR="google.c.a.c_id",KR=1e4;var GR,YR;function QR(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $R(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(GR||(GR={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(YR||(YR={}));const XR="fcm_token_details_db",JR="fcm_token_object_Store";const ZR="firebase-messaging-store";let eN=null;function tN(){return eN||(eN=Mc("firebase-messaging-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(ZR)}})),eN}async function nN(e){const t=oN(e),n=await tN(),r=await n.transaction(ZR).objectStore(ZR).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map(e=>e.name);if(!e.includes(XR))return null}let t=null;return(await Mc(XR,5,{upgrade:async(n,r,o,i)=>{if(r<2)return;if(!n.objectStoreNames.contains(JR))return;const s=i.objectStore(JR),a=await s.index("fcmSenderId").get(e);if(await s.clear(),a)if(2===r){var l;const e=a;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(l=e.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"===typeof e.vapidKey?e.vapidKey:QR(e.vapidKey)}}}else if(3===r){const e=a;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:QR(e.auth),p256dh:QR(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:QR(e.vapidKey)}}}else if(4===r){const e=a;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:QR(e.auth),p256dh:QR(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:QR(e.vapidKey)}}}}})).close(),await Dc(XR),await Dc("fcm_vapid_details_db"),await Dc("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await rN(e,t),t}}async function rN(e,t){const n=oN(e),r=(await tN()).transaction(ZR,"readwrite");return await r.objectStore(ZR).put(t,n),await r.done,t}function oN(e){let{appConfig:t}=e;return t.appId}const iN=new ql("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function sN(e,t){const n={method:"DELETE",headers:await lN(e)};try{const r=await fetch("".concat(aN(e.appConfig),"/").concat(t),n),o=await r.json();if(o.error){const e=o.error.message;throw iN.create("token-unsubscribe-failed",{errorInfo:e})}}catch(r){throw iN.create("token-unsubscribe-failed",{errorInfo:null===r||void 0===r?void 0:r.toString()})}}function aN(e){let{projectId:t}=e;return"".concat("https://fcmregistrations.googleapis.com/v1","/projects/").concat(t,"/registrations")}async function lN(e){let{appConfig:t,installations:n}=e;const r=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(r)})}function cN(e){let{p256dh:t,auth:n,endpoint:r,vapidKey:o}=e;const i={web:{endpoint:r,auth:n,p256dh:t}};return o!==qR&&(i.web.applicationPubKey=o),i}async function uN(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$R(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:QR(t.getKey("auth")),p256dh:QR(t.getKey("p256dh"))},r=await nN(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,o=t.auth===e.auth,i=t.p256dh===e.p256dh;return n&&r&&o&&i}(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){const n=await lN(e),r=cN(t.subscriptionOptions),o={method:"PATCH",headers:n,body:JSON.stringify(r)};let i;try{const n=await fetch("".concat(aN(e.appConfig),"/").concat(t.token),o);i=await n.json()}catch(s){throw iN.create("token-update-failed",{errorInfo:null===s||void 0===s?void 0:s.toString()})}if(i.error){const e=i.error.message;throw iN.create("token-update-failed",{errorInfo:e})}if(!i.token)throw iN.create("token-update-no-token");return i.token}(e.firebaseDependencies,t),r=h(h({},t),{},{token:n,createTime:Date.now()});return await rN(e.firebaseDependencies,r),n}catch(gV){throw gV}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await sN(e.firebaseDependencies,r.token)}catch(gV){console.warn(gV)}return dN(e.firebaseDependencies,n)}return dN(e.firebaseDependencies,n)}async function dN(e,t){const n=await async function(e,t){const n=await lN(e),r=cN(t),o={method:"POST",headers:n,body:JSON.stringify(r)};let i;try{const t=await fetch(aN(e.appConfig),o);i=await t.json()}catch(s){throw iN.create("token-subscribe-failed",{errorInfo:null===s||void 0===s?void 0:s.toString()})}if(i.error){const e=i.error.message;throw iN.create("token-subscribe-failed",{errorInfo:e})}if(!i.token)throw iN.create("token-subscribe-no-token");return i.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await rN(e,r),r.token}function hN(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const o=t.notification.image;o&&(e.notification.image=o);const i=t.notification.icon;i&&(e.notification.icon=i)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,o,i,s;if(!t.fcmOptions&&(null===(n=t.notification)||void 0===n||!n.click_action))return;e.fcmOptions={};const a=null!==(r=null===(o=t.fcmOptions)||void 0===o?void 0:o.link)&&void 0!==r?r:null===(i=t.notification)||void 0===i?void 0:i.click_action;a&&(e.fcmOptions.link=a);const l=null===(s=t.fcmOptions)||void 0===s?void 0:s.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}(t,e),t}function pN(e){return iN.create("missing-app-config-values",{valueName:e})}!function(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));n.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fN{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw pN("App Configuration Object");if(!e.name)throw pN("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw pN(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function mN(e){try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch(()=>{}),await async function(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error("Service worker not registered after ".concat(KR," ms"))),KR),o=e.installing||e.waiting;e.active?(clearTimeout(r),t()):o?o.onstatechange=e=>{var n;"activated"===(null===(n=e.target)||void 0===n?void 0:n.state)&&(o.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}(e.swRegistration)}catch(gV){throw iN.create("failed-service-worker-registration",{browserErrorMessage:null===gV||void 0===gV?void 0:gV.message})}}async function gN(e,t){if(!navigator)throw iN.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw iN.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=qR)}(e,null===t||void 0===t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await mN(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw iN.create("invalid-sw-registration");e.swRegistration=t}}(e,null===t||void 0===t?void 0:t.serviceWorkerRegistration),uN(e)}async function vN(e,t,n){const r=function(e){switch(e){case YR.NOTIFICATION_CLICKED:return"notification_open";case YR.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[HR],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function yN(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===YR.PUSH_RECEIVED&&("function"===typeof e.onMessageHandler?e.onMessageHandler(hN(n)):e.onMessageHandler.next(hN(n)));const r=n.data;(function(e){return"object"===typeof e&&!!e&&HR in e})(r)&&"1"===r["google.c.a.e"]&&await vN(e,n.messageType,r)}const bN="@firebase/messaging",wN="0.12.23",_N=e=>{const t=new fN(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>yN(t,e)),t},SN=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>gN(t,e)}};async function CN(){try{await Bl()}catch(gV){return!1}return"undefined"!==typeof window&&Vl()&&!("undefined"===typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function kN(e,t){return function(e,t){if(!navigator)throw iN.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}(e=cc(e),t)}Su(new uc("messaging",_N,"PUBLIC")),Su(new uc("messaging-internal",SN,"PRIVATE")),Ru(bN,wN),Ru(bN,wN,"esm2020");const EN=Iu({apiKey:"AIzaSyDWlH9BJSy0vLDxSt3OX8FpS7mck_KOx7A",authDomain:"my-chat-9be7c.firebaseapp.com",databaseURL:"https://my-chat-9be7c-default-rtdb.firebaseio.com",projectId:"my-chat-9be7c",storageBucket:"my-chat-9be7c.firebasestorage.app",messagingSenderId:"350321042515",appId:"1:350321042515:web:86519f0278d52b587792a6",measurementId:"G-B4EWB0TLMG"}),xN=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pu();const t=Cu(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Cu(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Zl(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Qu(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:cf,persistence:[yp,Jh,rp]}),r=Tl("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(o=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>pf)return;const r=null===t||void 0===t?void 0:t.token;ff!==r&&(ff=r,await fetch(o,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){cc(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){cc(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var o;const i=kl("auth");return i&&gh(n,"http://".concat(i)),n}(EN),TN=function(e,t){const n="object"==typeof e?e:Pu(),r="string"==typeof e?e:t||wS,o=Cu(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const e=El("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Zw(e,LI);const o=Pl(t),i=e._getSettings(),s=h(h({},i),{},{emulatorOptions:e._getEmulatorOptions()}),a="".concat(t,":").concat(n);o&&(Rl("https://".concat(a)),Ml("Firestore",!0)),i.host!==OI&&i.host!==a&&vw("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=h(h({},i),{},{host:a,ssl:o,emulatorOptions:r});if(!Zl(l,s)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=dw.MOCK_USER;else{var c;t=Nl(r.mockUserToken,null===(c=e._app)||void 0===c?void 0:c.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new kw(Cw.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new dw(o)}e._authCredentials=new Iw(new xw(t,n))}}(o,...e)}return o}(EN),IN=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pu(),t=arguments.length>1?arguments[1]:void 0;const n=Cu(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=El("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=cc(e),e._checkNotDeleted("useEmulator");const o="".concat(t,":").concat(n),i=e._repoInternal;if(e._instanceStarted){if(o===e._repoInternal.repoInfo_.host&&Zl(r,i.repoInfo_.emulatorOptions))return;Lf("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Lf('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new em(em.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:Nl(r.mockUserToken,e.app.options.projectId);s=new em(t)}Pl(t)&&(Rl(t),Ml("Database",!0));!function(e,t,n,r){const o=t.lastIndexOf(":"),i=Pl(t.substring(0,o));e.repoInfo_=new sm(t,i,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(i,o,r,s)}(n,...e)}return n}(EN),PN=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pu();return CN().then(e=>{if(!e)throw iN.create("unsupported-browser")},e=>{throw iN.create("indexed-db-unsupported")}),Cu(cc(e),"messaging").getImmediate()}(EN);"serviceWorker"in navigator?navigator.serviceWorker.register("/firebase-messaging-sw.js").then(e=>{console.log("[DEBUG] Service Worker registered successfully:",e)}).catch(e=>{console.error("[DEBUG] Service Worker registration failed:",e)}):console.warn("[DEBUG] Service Worker not supported in this browser.");(async()=>{try{console.log("[DEBUG] Requesting notification permission...");const e=await Notification.requestPermission();console.log("[DEBUG] Notification permission status:",e),"granted"===e?console.log("[DEBUG] Notification permission granted."):console.warn("[DEBUG] Notification permission not granted.")}catch(Df){console.error("[DEBUG] Error requesting notification permission:",Df)}})();const RN=Ea(),NN=["className","component","disableGutters","fixed","maxWidth","classes"],AN=xr(),ON=RN("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat(bn(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),MN=e=>function(e){let{props:t,name:n,defaultTheme:r,themeId:o}=e,i=Ns(r);return o&&(i=i[o]||i),vo({theme:i,name:n,props:t})}({props:e,name:"MuiContainer",defaultTheme:AN});const DN=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=ON,useThemeProps:n=MN,componentName:o="MuiContainer"}=e,i=t(e=>{let{theme:t,ownerState:n}=e;return h({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})},e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce((e,n)=>{const r=n,o=t.breakpoints.values[r];return 0!==o&&(e[t.breakpoints.up(r)]={maxWidth:"".concat(o).concat(t.breakpoints.unit)}),e},{})},e=>{let{theme:t,ownerState:n}=e;return h(h({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}}),n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}})}),s=r.forwardRef(function(e,t){const r=n(e),{className:s,component:l="div",disableGutters:c=!1,fixed:u=!1,maxWidth:d="lg",classes:p}=r,f=a(r,NN),m=h(h({},r),{},{component:l,disableGutters:c,fixed:u,maxWidth:d}),g=((e,t)=>{const{classes:n,fixed:r,disableGutters:o,maxWidth:i}=e;return fa({root:["root",i&&"maxWidth".concat(bn(String(i))),r&&"fixed",o&&"disableGutters"]},e=>aa(t,e),n)})(m,o);return(0,ns.jsx)(i,h({as:l,ownerState:m,className:mo(g.root,s),ref:t},f))});return s}({createStyledComponent:Na("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat(Da(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>Ma({props:e,name:"MuiContainer"})}),LN=DN;function FN(){const e=Ns(Ia);return e[Xi]||e}function jN(e){return aa("MuiPaper",e)}la("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const zN=["className","component","elevation","square","variant"],UN=Na("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})(Oa(e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:e=>{let{ownerState:t}=e;return!t.square},style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:"1px solid ".concat((t.vars||t).palette.divider)}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}})),VN=r.forwardRef(function(e,t){var n;const r=Ma({props:e,name:"MuiPaper"}),o=FN(),{className:i,component:s="div",elevation:l=1,square:c=!1,variant:u="elevation"}=r,d=a(r,zN),p=h(h({},r),{},{component:s,elevation:l,square:c,variant:u}),f=(e=>{const{square:t,elevation:n,variant:r,classes:o}=e;return fa({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},jN,o)})(p);return(0,ns.jsx)(UN,h(h({as:s,ownerState:p,className:mo(f.root,i),ref:t},d),{},{style:h(h({},"elevation"===u&&h(h({"--Paper-shadow":(o.vars||o).shadows[l]},o.vars&&{"--Paper-overlay":null===(n=o.vars.overlays)||void 0===n?void 0:n[l]}),!o.vars&&"dark"===o.palette.mode&&{"--Paper-overlay":"linear-gradient(".concat(Ut("#fff",Gr(l)),", ").concat(Ut("#fff",Gr(l)),")")})),d.style)}))}),BN=VN;function WN(e){return aa("MuiTypography",e)}const qN=la("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),HN=["color"],KN=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],GN={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},YN=na,QN=Na("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(Da(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(Oa(e=>{var t;let{theme:n}=e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(e=>{let[t,n]=e;return"inherit"!==t&&n&&"object"===typeof n}).map(e=>{let[t,n]=e;return{props:{variant:t},style:n}}),...Object.entries(n.palette).filter(La()).map(e=>{let[t]=e;return{props:{color:t},style:{color:(n.vars||n).palette[t].main}}}),...Object.entries((null===(t=n.palette)||void 0===t?void 0:t.text)||{}).filter(e=>{let[,t]=e;return"string"===typeof t}).map(e=>{let[t]=e;return{props:{color:"text".concat(Da(t))},style:{color:(n.vars||n).palette.text[t]}}}),{props:e=>{let{ownerState:t}=e;return"inherit"!==t.align},style:{textAlign:"var(--Typography-textAlign)"}},{props:e=>{let{ownerState:t}=e;return t.noWrap},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:e=>{let{ownerState:t}=e;return t.gutterBottom},style:{marginBottom:"0.35em"}},{props:e=>{let{ownerState:t}=e;return t.paragraph},style:{marginBottom:16}}]}})),$N={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},XN=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiTypography"}),{color:r}=n,o=a(n,HN),i=!GN[r],s=YN(h(h({},o),i&&{color:r})),{align:l="inherit",className:c,component:u,gutterBottom:d=!1,noWrap:p=!1,paragraph:f=!1,variant:m="body1",variantMapping:g=$N}=s,v=a(s,KN),y=h(h({},s),{},{align:l,color:r,className:c,component:u,gutterBottom:d,noWrap:p,paragraph:f,variant:m,variantMapping:g}),b=u||(f?"p":g[m]||$N[m])||"span",w=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:i,classes:s}=e;return fa({root:["root",i,"inherit"!==e.align&&"align".concat(Da(t)),n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]},WN,s)})(y);return(0,ns.jsx)(QN,h(h({as:b,ref:t,className:mo(w.root,c)},v),{},{ownerState:y,style:h(h({},"inherit"!==l&&{"--Typography-textAlign":l}),v.style)}))}),JN=XN;function ZN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const o=r.useRef(void 0),i=r.useCallback(e=>{const n=t.map(t=>{if(null==t)return null;if("function"===typeof t){const n=t,r=n(e);return"function"===typeof r?r:()=>{n(null)}}return t.current=e,()=>{t.current=null}});return()=>{n.forEach(e=>null===e||void 0===e?void 0:e())}},t);return r.useMemo(()=>t.every(e=>null==e)?null:e=>{o.current&&(o.current(),o.current=void 0),null!=e&&(o.current=i(e))},t)}const eA=function(e){return"string"===typeof e};const tA=function(e,t,n){return void 0===e||eA(e)?t:h(h({},t),{},{ownerState:h(h({},t.ownerState),n)})};const nA=function(e,t,n){return"function"===typeof e?e(t,n):e};const rA=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)).forEach(t=>{n[t]=e[t]}),n};const oA=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])).forEach(n=>{t[n]=e[n]}),t};const iA=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:i}=e;if(!t){const e=mo(null===n||void 0===n?void 0:n.className,i,null===o||void 0===o?void 0:o.className,null===r||void 0===r?void 0:r.className),t=h(h(h({},null===n||void 0===n?void 0:n.style),null===o||void 0===o?void 0:o.style),null===r||void 0===r?void 0:r.style),s=h(h(h({},n),o),r);return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=rA(h(h({},o),r)),a=oA(r),l=oA(o),c=t(s),u=mo(null===c||void 0===c?void 0:c.className,null===n||void 0===n?void 0:n.className,i,null===o||void 0===o?void 0:o.className,null===r||void 0===r?void 0:r.className),d=h(h(h(h({},null===c||void 0===c?void 0:c.style),null===n||void 0===n?void 0:n.style),null===o||void 0===o?void 0:o.style),null===r||void 0===r?void 0:r.style),p=h(h(h(h({},c),n),l),a);return u.length>0&&(p.className=u),Object.keys(d).length>0&&(p.style=d),{props:p,internalRef:c.ref}},sA=["className","elementType","ownerState","externalForwardedProps","internalForwardedProps","shouldForwardComponentProp"],aA=["component","slots","slotProps"],lA=["component"];function cA(e,t){const{className:n,elementType:r,ownerState:o,externalForwardedProps:i,internalForwardedProps:s,shouldForwardComponentProp:l=!1}=t,c=a(t,sA),{component:u,slots:d={[e]:void 0},slotProps:p={[e]:void 0}}=i,f=a(i,aA),m=d[e]||r,g=nA(p[e],o),v=iA(h(h({className:n},c),{},{externalForwardedProps:"root"===e?f:void 0,externalSlotProps:g})),{props:{component:y},internalRef:b}=v,w=a(v.props,lA),_=ZN(b,null===g||void 0===g?void 0:g.ref,t.ref),S="root"===e?y||u:y;return[m,tA(m,h(h(h(h(h(h({},"root"===e&&!u&&!d[e]&&s),"root"!==e&&!d[e]&&s),w),S&&!l&&{as:S}),S&&l&&{component:S}),{},{ref:_}),o)]}function uA(e){return aa("MuiAlert",e)}const dA=la("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),hA=ps;function pA(e){try{return e.matches(":focus-visible")}catch(Df){0}return!1}const fA=ZN;const mA=function(e){const t=r.useRef(e);return po(()=>{t.current=e}),r.useRef(function(){return(0,t.current)(...arguments)}).current},gA=mA,vA={};function yA(e,t){const n=r.useRef(vA);return n.current===vA&&(n.current=e(t)),n}class bA{static create(){return new bA}static use(){const e=yA(bA.create).current,[t,n]=r.useState(!1);return e.shouldMount=t,e.setShouldMount=n,r.useEffect(e.mountEffect,[t]),e}constructor(){u(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&null!==this.ref.current&&(this.didMount=!0,this.mounted.resolve())}),this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=function(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});return n.resolve=e,n.reject=t,n}(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then(()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.start(...t)})}stop(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then(()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.stop(...t)})}pulsate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then(()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.pulsate(...t)})}}function wA(e,t){return wA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wA(e,t)}function _A(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,wA(e,t)}const SA=r.createContext(null);function CA(e,t){var n=Object.create(null);return e&&r.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)}),n}function kA(e,t,n){return null!=n[t]?n[t]:e.props[t]}function EA(e,t,n){var o=CA(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var s in e)s in t?i.length&&(o[s]=i,i=[]):i.push(s);var a={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var c=o[l][r];a[o[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<i.length;r++)a[i[r]]=n(i[r]);return a}(t,o);return Object.keys(i).forEach(function(s){var a=i[s];if((0,r.isValidElement)(a)){var l=s in t,c=s in o,u=t[s],d=(0,r.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,r.isValidElement)(u)&&(i[s]=(0,r.cloneElement)(a,{onExited:n.bind(null,a),in:u.props.in,exit:kA(a,"exit",e),enter:kA(a,"enter",e)})):i[s]=(0,r.cloneElement)(a,{in:!1}):i[s]=(0,r.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:kA(a,"exit",e),enter:kA(a,"enter",e)})}}),i}var xA=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},TA=function(e){function t(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}_A(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,o,i=t.children,s=t.handleExited;return{children:t.firstRender?(n=e,o=s,CA(n.children,function(e){return(0,r.cloneElement)(e,{onExited:o.bind(null,e),in:!0,appear:kA(e,"appear",n),enter:kA(e,"enter",n),exit:kA(e,"exit",n)})})):EA(e,i,s),firstRender:!1}},n.handleExited=function(e,t){var n=CA(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=fs({},t.children);return delete n[e.key],{children:n}}))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,o=s(e,["component","childFactory"]),i=this.state.contextValue,a=xA(this.state.children).map(n);return delete o.appear,delete o.enter,delete o.exit,null===t?r.createElement(SA.Provider,{value:i},a):r.createElement(SA.Provider,{value:i},r.createElement(t,o,a))},t}(r.Component);TA.propTypes={},TA.defaultProps={component:"div",childFactory:function(e){return e}};const IA=TA,PA=[];class RA{constructor(){u(this,"currentId",null),u(this,"clear",()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)}),u(this,"disposeEffect",()=>this.clear)}static create(){return new RA}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function NA(){const e=yA(RA.create).current;var t;return t=e.disposeEffect,r.useEffect(t,PA),e}const AA=function(e){const{className:t,classes:n,pulsate:o=!1,rippleX:i,rippleY:s,rippleSize:a,in:l,onExited:c,timeout:u}=e,[d,h]=r.useState(!1),p=mo(t,n.ripple,n.rippleVisible,o&&n.ripplePulsate),f={width:a,height:a,top:-a/2+s,left:-a/2+i},m=mo(n.child,d&&n.childLeaving,o&&n.childPulsate);return l||d||h(!0),r.useEffect(()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}},[c,l,u]),(0,ns.jsx)("span",{className:p,style:f,children:(0,ns.jsx)("span",{className:m})})};const OA=la("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),MA=["center","classes","className"];var DA,LA,FA,jA;const zA=Is(DA||(DA=pa(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"]))),UA=Is(LA||(LA=pa(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"]))),VA=Is(FA||(FA=pa(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"]))),BA=Na("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),WA=Na(AA,{name:"MuiTouchRipple",slot:"Ripple"})(jA||(jA=pa(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"])),OA.rippleVisible,zA,550,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut},OA.ripplePulsate,e=>{let{theme:t}=e;return t.transitions.duration.shorter},OA.child,OA.childLeaving,UA,550,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut},OA.childPulsate,VA,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),qA=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiTouchRipple"}),{center:o=!1,classes:i={},className:s}=n,l=a(n,MA),[c,u]=r.useState([]),d=r.useRef(0),p=r.useRef(null);r.useEffect(()=>{p.current&&(p.current(),p.current=null)},[c]);const f=r.useRef(!1),m=NA(),g=r.useRef(null),v=r.useRef(null),y=r.useCallback(e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:o,cb:s}=e;u(e=>[...e,(0,ns.jsx)(WA,{classes:{ripple:mo(i.ripple,OA.ripple),rippleVisible:mo(i.rippleVisible,OA.rippleVisible),ripplePulsate:mo(i.ripplePulsate,OA.ripplePulsate),child:mo(i.child,OA.child),childLeaving:mo(i.childLeaving,OA.childLeaving),childPulsate:mo(i.childPulsate,OA.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:o},d.current)]),d.current+=1,p.current=s},[i]),b=r.useCallback(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:i=o||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null===e||void 0===e?void 0:e.type)&&f.current)return void(f.current=!1);"touchstart"===(null===e||void 0===e?void 0:e.type)&&(f.current=!0);const a=s?null:v.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(i||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(i)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!==e&&void 0!==e&&e.touches?null===g.current&&(g.current=()=>{y({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},m.start(80,()=>{g.current&&(g.current(),g.current=null)})):y({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},[o,y,m]),w=r.useCallback(()=>{b({},{pulsate:!0})},[b]),_=r.useCallback((e,t)=>{if(m.clear(),"touchend"===(null===e||void 0===e?void 0:e.type)&&g.current)return g.current(),g.current=null,void m.start(0,()=>{_(e,t)});g.current=null,u(e=>e.length>0?e.slice(1):e),p.current=t},[m]);return r.useImperativeHandle(t,()=>({pulsate:w,start:b,stop:_}),[w,b,_]),(0,ns.jsx)(BA,h(h({className:mo(OA.root,i.root,s),ref:v},l),{},{children:(0,ns.jsx)(IA,{component:null,exit:!0,children:c})}))}),HA=qA;function KA(e){return aa("MuiButtonBase",e)}const GA=la("MuiButtonBase",["root","disabled","focusVisible"]),YA=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],QA=Na("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(GA.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),$A=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiButtonBase"}),{action:o,centerRipple:i=!1,children:s,className:l,component:c="button",disabled:u=!1,disableRipple:d=!1,disableTouchRipple:p=!1,focusRipple:f=!1,focusVisibleClassName:m,LinkComponent:g="a",onBlur:v,onClick:y,onContextMenu:b,onDragLeave:w,onFocus:_,onFocusVisible:S,onKeyDown:C,onKeyUp:k,onMouseDown:E,onMouseLeave:x,onMouseUp:T,onTouchEnd:I,onTouchMove:P,onTouchStart:R,tabIndex:N=0,TouchRippleProps:A,touchRippleRef:O,type:M}=n,D=a(n,YA),L=r.useRef(null),F=bA.use(),j=fA(F.ref,O),[z,U]=r.useState(!1);u&&z&&U(!1),r.useImperativeHandle(o,()=>({focusVisible:()=>{U(!0),L.current.focus()}}),[]);const V=F.shouldMount&&!d&&!u;r.useEffect(()=>{z&&f&&!d&&F.pulsate()},[d,f,z,F]);const B=XA(F,"start",E,p),W=XA(F,"stop",b,p),q=XA(F,"stop",w,p),H=XA(F,"stop",T,p),K=XA(F,"stop",e=>{z&&e.preventDefault(),x&&x(e)},p),G=XA(F,"start",R,p),Y=XA(F,"stop",I,p),Q=XA(F,"stop",P,p),$=XA(F,"stop",e=>{pA(e.target)||U(!1),v&&v(e)},!1),X=gA(e=>{L.current||(L.current=e.currentTarget),pA(e.target)&&(U(!0),S&&S(e)),_&&_(e)}),J=()=>{const e=L.current;return c&&"button"!==c&&!("A"===e.tagName&&e.href)},Z=gA(e=>{f&&!e.repeat&&z&&" "===e.key&&F.stop(e,()=>{F.start(e)}),e.target===e.currentTarget&&J()&&" "===e.key&&e.preventDefault(),C&&C(e),e.target===e.currentTarget&&J()&&"Enter"===e.key&&!u&&(e.preventDefault(),y&&y(e))}),ee=gA(e=>{f&&" "===e.key&&z&&!e.defaultPrevented&&F.stop(e,()=>{F.pulsate(e)}),k&&k(e),y&&e.target===e.currentTarget&&J()&&" "===e.key&&!e.defaultPrevented&&y(e)});let te=c;"button"===te&&(D.href||D.to)&&(te=g);const ne={};"button"===te?(ne.type=void 0===M?"button":M,ne.disabled=u):(D.href||D.to||(ne.role="button"),u&&(ne["aria-disabled"]=u));const re=fA(t,L),oe=h(h({},n),{},{centerRipple:i,component:c,disabled:u,disableRipple:d,disableTouchRipple:p,focusRipple:f,tabIndex:N,focusVisible:z}),ie=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,i=fa({root:["root",t&&"disabled",n&&"focusVisible"]},KA,o);return n&&r&&(i.root+=" ".concat(r)),i})(oe);return(0,ns.jsxs)(QA,h(h(h({as:te,className:mo(ie.root,l),ownerState:oe,onBlur:$,onClick:y,onContextMenu:W,onFocus:X,onKeyDown:Z,onKeyUp:ee,onMouseDown:B,onMouseLeave:K,onMouseUp:H,onDragLeave:q,onTouchEnd:Y,onTouchMove:Q,onTouchStart:G,ref:re,tabIndex:u?-1:N,type:M},ne),D),{},{children:[s,V?(0,ns.jsx)(HA,h({ref:j,center:i},A)):null]}))});function XA(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return gA(o=>(n&&n(o),r||e[t](o),!0))}const JA=$A;function ZA(e){return aa("MuiIconButton",e)}const eO=la("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),tO=["edge","children","className","color","disabled","disableFocusRipple","size","id","loading","loadingIndicator"],nO=Na(JA,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,"default"!==n.color&&t["color".concat(Da(n.color))],n.edge&&t["edge".concat(Da(n.edge))],t["size".concat(Da(n.size))]]}})(Oa(e=>{let{theme:t}=e;return{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}}),Oa(e=>{let{theme:t}=e;return{variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(La()).map(e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}}),...Object.entries(t.palette).filter(La()).map(e=>{let[n]=e;return{props:{color:n},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)}}}),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],["&.".concat(eO.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},["&.".concat(eO.loading)]:{color:"transparent"}}})),rO=Na("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]}}),oO=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiIconButton"}),{edge:r=!1,children:o,className:i,color:s="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium",id:d,loading:p=null,loadingIndicator:f}=n,m=a(n,tO),g=hA(d),v=null!==f&&void 0!==f?f:(0,ns.jsx)(Ja,{"aria-labelledby":g,color:"inherit",size:16}),y=h(h({},n),{},{edge:r,color:s,disabled:l,disableFocusRipple:c,loading:p,loadingIndicator:v,size:u}),b=(e=>{const{classes:t,disabled:n,color:r,edge:o,size:i,loading:s}=e;return fa({root:["root",s&&"loading",n&&"disabled","default"!==r&&"color".concat(Da(r)),o&&"edge".concat(Da(o)),"size".concat(Da(i))],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},ZA,t)})(y);return(0,ns.jsxs)(nO,h(h({id:p?g:d,className:mo(b.root,i),centerRipple:!0,focusRipple:!c,disabled:l||p,ref:t},m),{},{ownerState:y,children:["boolean"===typeof p&&(0,ns.jsx)("span",{className:b.loadingWrapper,style:{display:"contents"},children:(0,ns.jsx)(rO,{className:b.loadingIndicator,ownerState:y,children:p&&v})}),o]}))}),iO=oO;function sO(e){return aa("MuiSvgIcon",e)}la("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const aO=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],lO=Na("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(Da(n.color))],t["fontSize".concat(Da(n.fontSize))]]}})(Oa(e=>{var t,n,r,o,i,s,a,l,c,u,d,h,p,f,m;let{theme:g}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:null===(t=g.transitions)||void 0===t||null===(n=t.create)||void 0===n?void 0:n.call(t,"fill",{duration:null===(r=(null!==(o=g.vars)&&void 0!==o?o:g).transitions)||void 0===r||null===(r=r.duration)||void 0===r?void 0:r.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:(null===(i=g.typography)||void 0===i||null===(s=i.pxToRem)||void 0===s?void 0:s.call(i,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:(null===(a=g.typography)||void 0===a||null===(l=a.pxToRem)||void 0===l?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:(null===(c=g.typography)||void 0===c||null===(u=c.pxToRem)||void 0===u?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((null!==(d=g.vars)&&void 0!==d?d:g).palette).filter(e=>{let[,t]=e;return t&&t.main}).map(e=>{var t,n;let[r]=e;return{props:{color:r},style:{color:null===(t=(null!==(n=g.vars)&&void 0!==n?n:g).palette)||void 0===t||null===(t=t[r])||void 0===t?void 0:t.main}}}),{props:{color:"action"},style:{color:null===(h=(null!==(p=g.vars)&&void 0!==p?p:g).palette)||void 0===h||null===(h=h.action)||void 0===h?void 0:h.active}},{props:{color:"disabled"},style:{color:null===(f=(null!==(m=g.vars)&&void 0!==m?m:g).palette)||void 0===f||null===(f=f.action)||void 0===f?void 0:f.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),cO=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiSvgIcon"}),{children:o,className:i,color:s="inherit",component:l="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:p,viewBox:f="0 0 24 24"}=n,m=a(n,aO),g=r.isValidElement(o)&&"svg"===o.type,v=h(h({},n),{},{color:s,component:l,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:f,hasSvgAsChild:g}),y={};d||(y.viewBox=f);const b=(e=>{const{color:t,fontSize:n,classes:r}=e;return fa({root:["root","inherit"!==t&&"color".concat(Da(t)),"fontSize".concat(Da(n))]},sO,r)})(v);return(0,ns.jsxs)(lO,h(h(h(h({as:l,className:mo(b.root,i),focusable:"false",color:u,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:t},y),m),g&&o.props),{},{ownerState:v,children:[g?o.props.children:o,p?(0,ns.jsx)("title",{children:p}):null]}))});cO.muiName="SvgIcon";const uO=cO;function dO(e,t){function n(t,n){return(0,ns.jsx)(uO,h(h({"data-testid":void 0,ref:n},t),{},{children:e}))}return n.muiName=uO.muiName,r.memo(r.forwardRef(n))}const hO=dO((0,ns.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),pO=dO((0,ns.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),fO=dO((0,ns.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),mO=dO((0,ns.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),gO=dO((0,ns.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),vO=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],yO=Na(BN,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(Da(n.color||n.severity))]]}})(Oa(e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.darken:t.lighten,r="light"===t.palette.mode?t.lighten:t.darken;return h(h({},t.typography.body2),{},{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(La(["light"])).map(e=>{let[o]=e;return{props:{colorSeverity:o,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert["".concat(o,"Color")]:n(t.palette[o].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(o,"StandardBg")]:r(t.palette[o].light,.9),["& .".concat(dA.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(o,"IconColor")]}:{color:t.palette[o].main}}}}),...Object.entries(t.palette).filter(La(["light"])).map(e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert["".concat(r,"Color")]:n(t.palette[r].light,.6),border:"1px solid ".concat((t.vars||t).palette[r].light),["& .".concat(dA.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(r,"IconColor")]}:{color:t.palette[r].main}}}}),...Object.entries(t.palette).filter(La(["dark"])).map(e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:h({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(n,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(n,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)})}})]})})),bO=Na("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),wO=Na("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),_O=Na("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),SO={success:(0,ns.jsx)(hO,{fontSize:"inherit"}),warning:(0,ns.jsx)(pO,{fontSize:"inherit"}),error:(0,ns.jsx)(fO,{fontSize:"inherit"}),info:(0,ns.jsx)(mO,{fontSize:"inherit"})},CO=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiAlert"}),{action:r,children:o,className:i,closeText:s="Close",color:l,components:c={},componentsProps:u={},icon:d,iconMapping:p=SO,onClose:f,role:m="alert",severity:g="success",slotProps:v={},slots:y={},variant:b="standard"}=n,w=a(n,vO),_=h(h({},n),{},{color:l,severity:g,variant:b,colorSeverity:l||g}),S=(e=>{const{variant:t,color:n,severity:r,classes:o}=e;return fa({root:["root","color".concat(Da(n||r)),"".concat(t).concat(Da(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]},uA,o)})(_),C={slots:h({closeButton:c.CloseButton,closeIcon:c.CloseIcon},y),slotProps:h(h({},u),v)},[k,E]=cA("root",{ref:t,shouldForwardComponentProp:!0,className:mo(S.root,i),elementType:yO,externalForwardedProps:h(h({},C),w),ownerState:_,additionalProps:{role:m,elevation:0}}),[x,T]=cA("icon",{className:S.icon,elementType:bO,externalForwardedProps:C,ownerState:_}),[I,P]=cA("message",{className:S.message,elementType:wO,externalForwardedProps:C,ownerState:_}),[R,N]=cA("action",{className:S.action,elementType:_O,externalForwardedProps:C,ownerState:_}),[A,O]=cA("closeButton",{elementType:iO,externalForwardedProps:C,ownerState:_}),[M,D]=cA("closeIcon",{elementType:gO,externalForwardedProps:C,ownerState:_});return(0,ns.jsxs)(k,h(h({},E),{},{children:[!1!==d?(0,ns.jsx)(x,h(h({},T),{},{children:d||p[g]||SO[g]})):null,(0,ns.jsx)(I,h(h({},P),{},{children:o})),null!=r?(0,ns.jsx)(R,h(h({},N),{},{children:r})):null,null==r&&f?(0,ns.jsx)(R,h(h({},N),{},{children:(0,ns.jsx)(A,h(h({size:"small","aria-label":s,title:s,color:"inherit",onClick:f},O),{},{children:(0,ns.jsx)(M,h({fontSize:"small"},D))}))})):null]}))}),kO=CO;function EO(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout(()=>{e.apply(this,o)},n)}return r.clear=()=>{clearTimeout(t)},r}function xO(e){return e&&e.ownerDocument||document}function TO(e){return xO(e).defaultView||window}const IO=["onChange","maxRows","minRows","style","value"];function PO(e){return parseInt(e,10)||0}const RO={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function NO(e){return function(e){for(const t in e)return!1;return!0}(e)||0===e.outerHeightStyle&&!e.overflowing}const AO=r.forwardRef(function(e,t){const{onChange:n,maxRows:o,minRows:i=1,style:s,value:l}=e,c=a(e,IO),{current:u}=r.useRef(null!=l),d=r.useRef(null),p=ZN(t,d),f=r.useRef(null),m=r.useRef(null),g=r.useCallback(()=>{const t=d.current,n=m.current;if(!t||!n)return;const r=TO(t).getComputedStyle(t);if("0px"===r.width)return{outerHeightStyle:0,overflowing:!1};n.style.width=r.width,n.value=t.value||e.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");const s=r.boxSizing,a=PO(r.paddingBottom)+PO(r.paddingTop),l=PO(r.borderBottomWidth)+PO(r.borderTopWidth),c=n.scrollHeight;n.value="x";const u=n.scrollHeight;let h=c;i&&(h=Math.max(Number(i)*u,h)),o&&(h=Math.min(Number(o)*u,h)),h=Math.max(h,u);return{outerHeightStyle:h+("border-box"===s?a+l:0),overflowing:Math.abs(h-c)<=1}},[o,i,e.placeholder]),v=mA(()=>{const e=d.current,t=g();if(!e||!t||NO(t))return!1;const n=t.outerHeightStyle;return null!=f.current&&f.current!==n}),y=r.useCallback(()=>{const e=d.current,t=g();if(!e||!t||NO(t))return;const n=t.outerHeightStyle;f.current!==n&&(f.current=n,e.style.height="".concat(n,"px")),e.style.overflow=t.overflowing?"hidden":""},[g]),b=r.useRef(-1);po(()=>{const e=EO(y),t=null===d||void 0===d?void 0:d.current;if(!t)return;const n=TO(t);let r;return n.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(r=new ResizeObserver(()=>{v()&&(r.unobserve(t),cancelAnimationFrame(b.current),y(),b.current=requestAnimationFrame(()=>{r.observe(t)}))}),r.observe(t)),()=>{e.clear(),cancelAnimationFrame(b.current),n.removeEventListener("resize",e),r&&r.disconnect()}},[g,y,v]),po(()=>{y()});return(0,ns.jsxs)(r.Fragment,{children:[(0,ns.jsx)("textarea",h({value:l,onChange:e=>{u||y();const t=e.target,r=t.value.length,o=t.value.endsWith("\n"),i=t.selectionStart===r;o&&i&&t.setSelectionRange(r,r),n&&n(e)},ref:p,rows:i,style:s},c)),(0,ns.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:m,tabIndex:-1,style:h(h(h({},RO),s),{},{paddingTop:0,paddingBottom:0})})]})}),OO=AO;function MO(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e),{})}const DO=r.createContext(void 0);function LO(){return r.useContext(DO)}const FO=po;function jO(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function zO(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(jO(e.value)&&""!==e.value||t&&jO(e.defaultValue)&&""!==e.defaultValue)}function UO(e){return aa("MuiInputBase",e)}const VO=la("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),BO=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"];var WO;const qO=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(Da(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},HO=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},KO=Na("div",{name:"MuiInputBase",slot:"Root",overridesResolver:qO})(Oa(e=>{let{theme:t}=e;return h(h({},t.typography.body1),{},{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(VO.disabled)]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"4px 0 5px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{width:"100%"}}]})})),GO=Na("input",{name:"MuiInputBase",slot:"Input",overridesResolver:HO})(Oa(e=>{let{theme:t}=e;const n="light"===t.palette.mode,r=h(h({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5}),{},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),o={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(VO.formControl," &")]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},["&.".concat(VO.disabled)]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableInjectingGlobalStyles},style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),YO=el({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),QO=r.forwardRef(function(e,t){var n;const o=Ma({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:l,className:c,color:u,components:d={},componentsProps:p={},defaultValue:f,disabled:m,disableInjectingGlobalStyles:g,endAdornment:v,error:y,fullWidth:b=!1,id:w,inputComponent:_="input",inputProps:S={},inputRef:C,margin:k,maxRows:E,minRows:x,multiline:T=!1,name:I,onBlur:P,onChange:R,onClick:N,onFocus:A,onKeyDown:O,onKeyUp:M,placeholder:D,readOnly:L,renderSuffix:F,rows:j,size:z,slotProps:U={},slots:V={},startAdornment:B,type:W="text",value:q}=o,H=a(o,BO),K=null!=S.value?S.value:q,{current:G}=r.useRef(null!=K),Y=r.useRef(),Q=r.useCallback(e=>{0},[]),$=fA(Y,C,S.ref,Q),[X,J]=r.useState(!1),Z=LO();const ee=MO({props:o,muiFormControl:Z,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ee.focused=Z?Z.focused:X,r.useEffect(()=>{!Z&&m&&X&&(J(!1),P&&P())},[Z,m,X,P]);const te=Z&&Z.onFilled,ne=Z&&Z.onEmpty,re=r.useCallback(e=>{zO(e)?te&&te():ne&&ne()},[te,ne]);FO(()=>{G&&re({value:K})},[K,re,G]);r.useEffect(()=>{re(Y.current)},[]);let oe=_,ie=S;T&&"input"===oe&&(ie=h(j?{type:void 0,minRows:j,maxRows:j}:{type:void 0,maxRows:E,minRows:x},ie),oe=OO);r.useEffect(()=>{Z&&Z.setAdornedStart(Boolean(B))},[Z,B]);const se=h(h({},o),{},{color:ee.color||"primary",disabled:ee.disabled,endAdornment:v,error:ee.error,focused:ee.focused,formControl:Z,fullWidth:b,hiddenLabel:ee.hiddenLabel,multiline:T,size:ee.size,startAdornment:B,type:W}),ae=(e=>{const{classes:t,color:n,disabled:r,error:o,endAdornment:i,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:f}=e;return fa({root:["root","color".concat(Da(n)),r&&"disabled",o&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&"medium"!==h&&"size".concat(Da(h)),u&&"multiline",p&&"adornedStart",i&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===f&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",i&&"inputAdornedEnd",d&&"readOnly"]},UO,t)})(se),le=V.root||d.Root||KO,ce=U.root||p.root||{},ue=V.input||d.Input||GO;return ie=h(h({},ie),null!==(n=U.input)&&void 0!==n?n:p.input),(0,ns.jsxs)(r.Fragment,{children:[!g&&"function"===typeof YO&&(WO||(WO=(0,ns.jsx)(YO,{}))),(0,ns.jsxs)(le,h(h(h(h({},ce),{},{ref:t,onClick:e=>{Y.current&&e.currentTarget===e.target&&Y.current.focus(),N&&N(e)}},H),!eA(le)&&{ownerState:h(h({},se),ce.ownerState)}),{},{className:mo(ae.root,ce.className,c,L&&"MuiInputBase-readOnly"),children:[B,(0,ns.jsx)(DO.Provider,{value:null,children:(0,ns.jsx)(ue,h(h(h({"aria-invalid":ee.error,"aria-describedby":i,autoComplete:s,autoFocus:l,defaultValue:f,disabled:ee.disabled,id:w,onAnimationStart:e=>{re("mui-auto-fill-cancel"===e.animationName?Y.current:{value:"x"})},name:I,placeholder:D,readOnly:L,required:ee.required,rows:j,value:K,onKeyDown:O,onKeyUp:M,type:W},ie),!eA(ue)&&{as:oe,ownerState:h(h({},se),ie.ownerState)}),{},{ref:$,className:mo(ae.input,ie.className,L&&"MuiInputBase-readOnly"),onBlur:e=>{P&&P(e),S.onBlur&&S.onBlur(e),Z&&Z.onBlur?Z.onBlur(e):J(!1)},onChange:function(e){if(!G){const t=e.target||Y.current;if(null==t)throw new Error(It(1));re({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];S.onChange&&S.onChange(e,...n),R&&R(e,...n)},onFocus:e=>{A&&A(e),S.onFocus&&S.onFocus(e),Z&&Z.onFocus?Z.onFocus(e):J(!0)}}))}),v,F?F(h(h({},ee),{},{startAdornment:B})):null]}))]})}),$O=QO;function XO(e){return aa("MuiInput",e)}const JO=h(h({},VO),la("MuiInput",["root","underline","input"])),ZO=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],eM=Na(KO,{shouldForwardProp:e=>Ra(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...qO(e,t),!n.disableUnderline&&t.underline]}})(Oa(e=>{let{theme:t}=e;let n="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{"label + &":{marginTop:16}}},{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(JO.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(JO.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(JO.disabled,", .").concat(JO.error,"):before")]:{borderBottom:"2px solid ".concat((t.vars||t).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(n)}},["&.".concat(JO.disabled,":before")]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(La()).map(e=>{let[n]=e;return{props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:"2px solid ".concat((t.vars||t).palette[n].main)}}}})]}})),tM=Na(GO,{name:"MuiInput",slot:"Input",overridesResolver:HO})({}),nM=r.forwardRef(function(e,t){var n,r,o,i;const s=Ma({props:e,name:"MuiInput"}),{disableUnderline:l=!1,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:p="input",multiline:f=!1,slotProps:m,slots:g={},type:v="text"}=s,y=a(s,ZO),b=(e=>{const{classes:t,disableUnderline:n}=e,r=fa({root:["root",!n&&"underline"],input:["input"]},XO,t);return h(h({},t),r)})(s),w={root:{ownerState:{disableUnderline:l}}},_=(null!==m&&void 0!==m?m:u)?At(null!==m&&void 0!==m?m:u,w):w,S=null!==(n=null!==(r=g.root)&&void 0!==r?r:c.Root)&&void 0!==n?n:eM,C=null!==(o=null!==(i=g.input)&&void 0!==i?i:c.Input)&&void 0!==o?o:tM;return(0,ns.jsx)($O,h(h({slots:{root:S,input:C},slotProps:_,fullWidth:d,inputComponent:p,multiline:f,ref:t,type:v},y),{},{classes:b}))});nM.muiName="Input";const rM=nM;function oM(e){return aa("MuiFilledInput",e)}const iM=h(h({},VO),la("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])),sM=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],aM=Na(KO,{shouldForwardProp:e=>Ra(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...qO(e,t),!n.disableUnderline&&t.underline]}})(Oa(e=>{let{theme:t}=e;const n="light"===t.palette.mode,r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o}},["&.".concat(iM.focused)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o},["&.".concat(iM.disabled)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(iM.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(iM.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(iM.disabled,", .").concat(iM.error,"):before")]:{borderBottom:"1px solid ".concat((t.vars||t).palette.text.primary)},["&.".concat(iM.disabled,":before")]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(La()).map(e=>{var n;let[r]=e;return{props:{disableUnderline:!1,color:r},style:{"&::after":{borderBottom:"2px solid ".concat(null===(n=(t.vars||t).palette[r])||void 0===n?void 0:n.main)}}}}),{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:12}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:12}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"25px 12px 8px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}}]}})),lM=Na(GO,{name:"MuiFilledInput",slot:"Input",overridesResolver:HO})(Oa(e=>{let{theme:t}=e;return h(h(h({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}}),t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}}),{},{variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]})})),cM=r.forwardRef(function(e,t){var n,r,o,i;const s=Ma({props:e,name:"MuiFilledInput"}),{disableUnderline:l=!1,components:c={},componentsProps:u,fullWidth:d=!1,hiddenLabel:p,inputComponent:f="input",multiline:m=!1,slotProps:g,slots:v={},type:y="text"}=s,b=a(s,sM),w=h(h({},s),{},{disableUnderline:l,fullWidth:d,inputComponent:f,multiline:m,type:y}),_=(e=>{const{classes:t,disableUnderline:n,startAdornment:r,endAdornment:o,size:i,hiddenLabel:s,multiline:a}=e,l=fa({root:["root",!n&&"underline",r&&"adornedStart",o&&"adornedEnd","small"===i&&"size".concat(Da(i)),s&&"hiddenLabel",a&&"multiline"],input:["input"]},oM,t);return h(h({},t),l)})(s),S={root:{ownerState:w},input:{ownerState:w}},C=(null!==g&&void 0!==g?g:u)?At(S,null!==g&&void 0!==g?g:u):S,k=null!==(n=null!==(r=v.root)&&void 0!==r?r:c.Root)&&void 0!==n?n:aM,E=null!==(o=null!==(i=v.input)&&void 0!==i?i:c.Input)&&void 0!==o?o:lM;return(0,ns.jsx)($O,h(h({slots:{root:k,input:E},slotProps:C,fullWidth:d,inputComponent:f,multiline:m,ref:t,type:y},b),{},{classes:_}))});cM.muiName="Input";const uM=cM,dM=["children","classes","className","label","notched"];var hM;const pM=Na("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Ra})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),fM=Na("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Ra})(Oa(e=>{let{theme:t}=e;return{float:"unset",width:"auto",overflow:"hidden",variants:[{props:e=>{let{ownerState:t}=e;return!t.withLabel},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:e=>{let{ownerState:t}=e;return t.withLabel},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:e=>{let{ownerState:t}=e;return t.withLabel&&t.notched},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}}));function mM(e){return aa("MuiOutlinedInput",e)}const gM=h(h({},VO),la("MuiOutlinedInput",["root","notchedOutline","input"])),vM=["components","fullWidth","inputComponent","label","multiline","notched","slots","slotProps","type"],yM=Na(KO,{shouldForwardProp:e=>Ra(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:qO})(Oa(e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,["&:hover .".concat(gM.notchedOutline)]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(gM.notchedOutline)]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):n}},["&.".concat(gM.focused," .").concat(gM.notchedOutline)]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(La()).map(e=>{let[n]=e;return{props:{color:n},style:{["&.".concat(gM.focused," .").concat(gM.notchedOutline)]:{borderColor:(t.vars||t).palette[n].main}}}}),{props:{},style:{["&.".concat(gM.error," .").concat(gM.notchedOutline)]:{borderColor:(t.vars||t).palette.error.main},["&.".concat(gM.disabled," .").concat(gM.notchedOutline)]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:14}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:14}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"16.5px 14px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{padding:"8.5px 14px"}}]}})),bM=Na(function(e){const{children:t,classes:n,className:r,label:o,notched:i}=e,s=a(e,dM),l=null!=o&&""!==o,c=h(h({},e),{},{notched:i,withLabel:l});return(0,ns.jsx)(pM,h(h({"aria-hidden":!0,className:r,ownerState:c},s),{},{children:(0,ns.jsx)(fM,{ownerState:c,children:l?(0,ns.jsx)("span",{children:o}):hM||(hM=(0,ns.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"}))})}))},{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Oa(e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):n}})),wM=Na(GO,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:HO})(Oa(e=>{let{theme:t}=e;return h(h(h({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}}),t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}}),{},{variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:0}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}}]})})),_M=r.forwardRef(function(e,t){var n,o,i,s;const l=Ma({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:p,multiline:f=!1,notched:m,slots:g={},slotProps:v={},type:y="text"}=l,b=a(l,vM),w=(e=>{const{classes:t}=e,n=fa({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},mM,t);return h(h({},t),n)})(l),_=LO(),S=MO({props:l,muiFormControl:_,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),C=h(h({},l),{},{color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:_,fullWidth:u,hiddenLabel:S.hiddenLabel,multiline:f,size:S.size,type:y}),k=null!==(n=null!==(o=g.root)&&void 0!==o?o:c.Root)&&void 0!==n?n:yM,E=null!==(i=null!==(s=g.input)&&void 0!==s?s:c.Input)&&void 0!==i?i:wM,[x,T]=cA("notchedOutline",{elementType:bM,className:w.notchedOutline,shouldForwardComponentProp:!0,ownerState:C,externalForwardedProps:{slots:g,slotProps:v},additionalProps:{label:null!=p&&""!==p&&S.required?(0,ns.jsxs)(r.Fragment,{children:[p,"\u2009","*"]}):p}});return(0,ns.jsx)($O,h(h({slots:{root:k,input:E},slotProps:v,renderSuffix:e=>(0,ns.jsx)(x,h(h({},T),{},{notched:"undefined"!==typeof m?m:Boolean(e.startAdornment||e.filled||e.focused)})),fullWidth:u,inputComponent:d,multiline:f,ref:t,type:y},b),{},{classes:h(h({},w),{},{notchedOutline:null})}))});_M.muiName="Input";const SM=_M;function CM(e){return aa("MuiFormLabel",e)}const kM=la("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),EM=["children","className","color","component","disabled","error","filled","focused","required"],xM=Na("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled]}})(Oa(e=>{let{theme:t}=e;return h(h({color:(t.vars||t).palette.text.secondary},t.typography.body1),{},{lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(La()).map(e=>{let[n]=e;return{props:{color:n},style:{["&.".concat(kM.focused)]:{color:(t.vars||t).palette[n].main}}}}),{props:{},style:{["&.".concat(kM.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(kM.error)]:{color:(t.vars||t).palette.error.main}}}]})})),TM=Na("span",{name:"MuiFormLabel",slot:"Asterisk"})(Oa(e=>{let{theme:t}=e;return{["&.".concat(kM.error)]:{color:(t.vars||t).palette.error.main}}})),IM=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiFormLabel"}),{children:r,className:o,color:i,component:s="label",disabled:l,error:c,filled:u,focused:d,required:p}=n,f=a(n,EM),m=MO({props:n,muiFormControl:LO(),states:["color","required","focused","disabled","error","filled"]}),g=h(h({},n),{},{color:m.color||"primary",component:s,disabled:m.disabled,error:m.error,filled:m.filled,focused:m.focused,required:m.required}),v=(e=>{const{classes:t,color:n,focused:r,disabled:o,error:i,filled:s,required:a}=e;return fa({root:["root","color".concat(Da(n)),o&&"disabled",i&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",i&&"error"]},CM,t)})(g);return(0,ns.jsxs)(xM,h(h({as:s,ownerState:g,className:mo(v.root,o),ref:t},f),{},{children:[r,m.required&&(0,ns.jsxs)(TM,{ownerState:g,"aria-hidden":!0,className:v.asterisk,children:["\u2009","*"]})]}))}),PM=IM;function RM(e){return aa("MuiInputLabel",e)}la("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const NM=["disableAnimation","margin","shrink","variant","className"],AM=Na(PM,{shouldForwardProp:e=>Ra(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(kM.asterisk)]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(Oa(e=>{let{theme:t}=e;return{display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:e=>{let{ownerState:t}=e;return t.shrink},style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:e=>{let{ownerState:t}=e;return!t.disableAnimation},style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:e=>{let{variant:t,ownerState:n}=e;return"filled"===t&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:e=>{let{variant:t,ownerState:n,size:r}=e;return"filled"===t&&n.shrink&&"small"===r},style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:e=>{let{variant:t,ownerState:n}=e;return"outlined"===t&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}})),OM=r.forwardRef(function(e,t){const n=Ma({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,margin:o,shrink:i,variant:s,className:l}=n,c=a(n,NM),u=LO();let d=i;"undefined"===typeof d&&u&&(d=u.filled||u.focused||u.adornedStart);const p=MO({props:n,muiFormControl:u,states:["size","variant","required","focused"]}),f=h(h({},n),{},{disableAnimation:r,formControl:u,shrink:d,size:p.size,variant:p.variant,required:p.required,focused:p.focused}),m=(e=>{const{classes:t,formControl:n,size:r,shrink:o,disableAnimation:i,variant:s,required:a}=e,l=fa({root:["root",n&&"formControl",!i&&"animated",o&&"shrink",r&&"medium"!==r&&"size".concat(Da(r)),s],asterisk:[a&&"asterisk"]},RM,t);return h(h({},t),l)})(f);return(0,ns.jsx)(AM,h(h({"data-shrink":d,ref:t,className:mo(m.root,l)},c),{},{ownerState:f,classes:m}))}),MM=OM;const DM=function(e,t){var n,o;return r.isValidElement(e)&&-1!==t.indexOf(null!==(n=e.type.muiName)&&void 0!==n?n:null===(o=e.type)||void 0===o||null===(o=o._payload)||void 0===o||null===(o=o.value)||void 0===o?void 0:o.muiName)};function LM(e){return aa("MuiFormControl",e)}la("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const FM=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],jM=Na("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["margin".concat(Da(n.margin))],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),zM=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiFormControl"}),{children:o,className:i,color:s="primary",component:l="div",disabled:c=!1,error:u=!1,focused:d,fullWidth:p=!1,hiddenLabel:f=!1,margin:m="none",required:g=!1,size:v="medium",variant:y="outlined"}=n,b=a(n,FM),w=h(h({},n),{},{color:s,component:l,disabled:c,error:u,fullWidth:p,hiddenLabel:f,margin:m,required:g,size:v,variant:y}),_=(e=>{const{classes:t,margin:n,fullWidth:r}=e;return fa({root:["root","none"!==n&&"margin".concat(Da(n)),r&&"fullWidth"]},LM,t)})(w),[S,C]=r.useState(()=>{let e=!1;return o&&r.Children.forEach(o,t=>{if(!DM(t,["Input","Select"]))return;const n=DM(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}),e}),[k,E]=r.useState(()=>{let e=!1;return o&&r.Children.forEach(o,t=>{DM(t,["Input","Select"])&&(zO(t.props,!0)||zO(t.props.inputProps,!0))&&(e=!0)}),e}),[x,T]=r.useState(!1);c&&x&&T(!1);const I=void 0===d||c?x:d;let P;r.useRef(!1);const R=r.useCallback(()=>{E(!0)},[]),N=r.useCallback(()=>{E(!1)},[]),A=r.useMemo(()=>({adornedStart:S,setAdornedStart:C,color:s,disabled:c,error:u,filled:k,focused:I,fullWidth:p,hiddenLabel:f,size:v,onBlur:()=>{T(!1)},onFocus:()=>{T(!0)},onEmpty:N,onFilled:R,registerEffect:P,required:g,variant:y}),[S,s,c,u,k,I,p,f,P,N,R,g,v,y]);return(0,ns.jsx)(DO.Provider,{value:A,children:(0,ns.jsx)(jM,h(h({as:l,ownerState:w,className:mo(_.root,i),ref:t},b),{},{children:o}))})}),UM=zM;function VM(e){return aa("MuiFormHelperText",e)}const BM=la("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),WM=["children","className","component","disabled","error","filled","focused","margin","required","variant"];var qM;const HM=Na("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t["size".concat(Da(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})(Oa(e=>{let{theme:t}=e;return h(h({color:(t.vars||t).palette.text.secondary},t.typography.caption),{},{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(BM.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(BM.error)]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:e=>{let{ownerState:t}=e;return t.contained},style:{marginLeft:14,marginRight:14}}]})})),KM=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiFormHelperText"}),{children:r,className:o,component:i="p",disabled:s,error:l,filled:c,focused:u,margin:d,required:p,variant:f}=n,m=a(n,WM),g=MO({props:n,muiFormControl:LO(),states:["variant","size","disabled","error","filled","focused","required"]}),v=h(h({},n),{},{component:i,contained:"filled"===g.variant||"outlined"===g.variant,variant:g.variant,size:g.size,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required});delete v.ownerState;const y=(e=>{const{classes:t,contained:n,size:r,disabled:o,error:i,filled:s,focused:a,required:l}=e;return fa({root:["root",o&&"disabled",i&&"error",r&&"size".concat(Da(r)),n&&"contained",a&&"focused",s&&"filled",l&&"required"]},VM,t)})(v);return(0,ns.jsx)(HM,h(h({as:i,className:mo(y.root,o),ref:t},m),{},{ownerState:v,children:" "===r?qM||(qM=(0,ns.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):r}))}),GM=KM;function YM(e){var t;return parseInt(r.version,10)>=19?(null===e||void 0===e||null===(t=e.props)||void 0===t?void 0:t.ref)||null:(null===e||void 0===e?void 0:e.ref)||null}const QM=xO,$M=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const XM=function(e){var t;const{elementType:n,externalSlotProps:r,ownerState:o,skipResolvingSlotProps:i=!1}=e,s=a(e,$M),l=i?{}:nA(r,o),{props:c,internalRef:u}=iA(h(h({},s),{},{externalSlotProps:l})),d=ZN(u,null===l||void 0===l?void 0:l.ref,null===(t=e.additionalProps)||void 0===t?void 0:t.ref);return tA(n,h(h({},c),{},{ref:d}),o)};const JM=r.createContext({});function ZM(e){return aa("MuiList",e)}la("MuiList",["root","padding","dense","subheader"]);const eD=["children","className","component","dense","disablePadding","subheader"],tD=Na("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return t.subheader},style:{paddingTop:0}}]}),nD=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiList"}),{children:o,className:i,component:s="ul",dense:l=!1,disablePadding:c=!1,subheader:u}=n,d=a(n,eD),p=r.useMemo(()=>({dense:l}),[l]),f=h(h({},n),{},{component:s,dense:l,disablePadding:c}),m=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:o}=e;return fa({root:["root",!n&&"padding",r&&"dense",o&&"subheader"]},ZM,t)})(f);return(0,ns.jsx)(JM.Provider,{value:p,children:(0,ns.jsxs)(tD,h(h({as:s,className:mo(m.root,i),ref:t,ownerState:f},d),{},{children:[u,o]}))})}),rD=nD;function oD(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t=e.document.documentElement.clientWidth;return e.innerWidth-t}const iD=oD,sD=TO,aD=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function lD(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function cD(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function uD(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join("")))}function dD(e,t,n,r,o,i){let s=!1,a=o(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&uD(a,i)&&!t)return a.focus(),!0;a=o(e,a,n)}return!1}const hD=r.forwardRef(function(e,t){const{actions:n,autoFocus:o=!1,autoFocusItem:i=!1,children:s,className:l,disabledItemsFocusable:c=!1,disableListWrap:u=!1,onKeyDown:d,variant:p="selectedMenu"}=e,f=a(e,aD),m=r.useRef(null),g=r.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});FO(()=>{o&&m.current.focus()},[o]),r.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!m.current.style.width;if(e.clientHeight<m.current.clientHeight&&r){const t="".concat(iD(sD(e)),"px");m.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,m.current.style.width="calc(100% + ".concat(t,")")}return m.current}}),[]);const v=fA(m,t);let y=-1;r.Children.forEach(s,(e,t)=>{r.isValidElement(e)?(e.props.disabled||("selectedMenu"===p&&e.props.selected||-1===y)&&(y=t),y===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(y+=1,y>=s.length&&(y=-1))):y===t&&(y+=1,y>=s.length&&(y=-1))});const b=r.Children.map(s,(e,t)=>{if(t===y){const t={};return i&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===p&&(t.tabIndex=0),r.cloneElement(e,t)}return e});return(0,ns.jsx)(rD,h(h({role:"menu",ref:v,className:l,onKeyDown:e=>{const t=m.current,n=e.key;if(e.ctrlKey||e.metaKey||e.altKey)return void(d&&d(e));const r=QM(t).activeElement;if("ArrowDown"===n)e.preventDefault(),dD(t,r,u,c,lD);else if("ArrowUp"===n)e.preventDefault(),dD(t,r,u,c,cD);else if("Home"===n)e.preventDefault(),dD(t,null,u,c,lD);else if("End"===n)e.preventDefault(),dD(t,null,u,c,cD);else if(1===n.length){const o=g.current,i=n.toLowerCase(),s=performance.now();o.keys.length>0&&(s-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&i!==o.keys[0]&&(o.repeating=!1)),o.lastTime=s,o.keys.push(i);const a=r&&!o.repeating&&uD(r,o);o.previousKeyMatched&&(a||dD(t,r,!1,c,lD,o))?e.preventDefault():o.previousKeyMatched=!1}d&&d(e)},tabIndex:o?0:-1},f),{},{children:b}))}),pD=hD,fD=EO;var mD=n(950);const gD=!1;var vD="unmounted",yD="exited",bD="entering",wD="entered",_D="exiting",SD=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=yD,r.appearStatus=bD):o=wD:o=t.unmountOnExit||t.mountOnEnter?vD:yD,r.state={status:o},r.nextCallback=null,r}_A(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===vD?{status:yD}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==bD&&n!==wD&&(t=bD):n!==bD&&n!==wD||(t=_D)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===bD){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:mD.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===yD&&this.setState({status:vD})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[mD.findDOMNode(this),r],i=o[0],s=o[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||gD?this.safeSetState({status:wD},function(){t.props.onEntered(i)}):(this.props.onEnter(i,s),this.safeSetState({status:bD},function(){t.props.onEntering(i,s),t.onTransitionEnd(l,function(){t.safeSetState({status:wD},function(){t.props.onEntered(i,s)})})}))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:mD.findDOMNode(this);t&&!gD?(this.props.onExit(r),this.safeSetState({status:_D},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:yD},function(){e.props.onExited(r)})})})):this.safeSetState({status:yD},function(){e.props.onExited(r)})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:mD.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],s=o[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===vD)return null;var t=this.props,n=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,s(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(SA.Provider,{value:null},"function"===typeof n?n(e,o):r.cloneElement(r.Children.only(n),o))},t}(r.Component);function CD(){}SD.contextType=SA,SD.propTypes={},SD.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:CD,onEntering:CD,onEntered:CD,onExit:CD,onExiting:CD,onExited:CD},SD.UNMOUNTED=vD,SD.EXITED=yD,SD.ENTERING=bD,SD.ENTERED=wD,SD.EXITING=_D;const kD=SD,ED=e=>e.scrollTop;function xD(e,t){var n,r;const{timeout:o,easing:i,style:s={}}=e;return{duration:null!==(n=s.transitionDuration)&&void 0!==n?n:"number"===typeof o?o:o[t.mode]||0,easing:null!==(r=s.transitionTimingFunction)&&void 0!==r?r:"object"===typeof i?i[t.mode]:i,delay:s.transitionDelay}}const TD=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],ID=["ownerState"];function PD(e){return"scale(".concat(e,", ").concat(e**2,")")}const RD={entering:{opacity:1,transform:PD(1)},entered:{opacity:1,transform:"none"}},ND="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),AD=r.forwardRef(function(e,t){const{addEndListener:n,appear:o=!0,children:i,easing:s,in:l,onEnter:c,onEntered:u,onEntering:d,onExit:p,onExited:f,onExiting:m,style:g,timeout:v="auto",TransitionComponent:y=kD}=e,b=a(e,TD),w=NA(),_=r.useRef(),S=FN(),C=r.useRef(null),k=fA(C,YM(i),t),E=e=>t=>{if(e){const n=C.current;void 0===t?e(n):e(n,t)}},x=E(d),T=E((e,t)=>{ED(e);const{duration:n,delay:r,easing:o}=xD({style:g,timeout:v,easing:s},{mode:"enter"});let i;"auto"===v?(i=S.transitions.getAutoHeightDuration(e.clientHeight),_.current=i):i=n,e.style.transition=[S.transitions.create("opacity",{duration:i,delay:r}),S.transitions.create("transform",{duration:ND?i:.666*i,delay:r,easing:o})].join(","),c&&c(e,t)}),I=E(u),P=E(m),R=E(e=>{const{duration:t,delay:n,easing:r}=xD({style:g,timeout:v,easing:s},{mode:"exit"});let o;"auto"===v?(o=S.transitions.getAutoHeightDuration(e.clientHeight),_.current=o):o=t,e.style.transition=[S.transitions.create("opacity",{duration:o,delay:n}),S.transitions.create("transform",{duration:ND?o:.666*o,delay:ND?n:n||.333*o,easing:r})].join(","),e.style.opacity=0,e.style.transform=PD(.75),p&&p(e)}),N=E(f);return(0,ns.jsx)(y,h(h({appear:o,in:l,nodeRef:C,onEnter:T,onEntered:I,onEntering:x,onExit:R,onExited:N,onExiting:P,addEndListener:e=>{"auto"===v&&w.start(_.current||0,e),n&&n(C.current,e)},timeout:"auto"===v?null:v},b),{},{children:(e,t)=>{let{ownerState:n}=t,o=a(t,ID);return r.cloneElement(i,h({style:h(h(h({opacity:0,transform:PD(.75),visibility:"exited"!==e||l?void 0:"hidden"},RD[e]),g),i.props.style),ref:k},o))}}))});AD&&(AD.muiSupportAuto=!0);const OD=AD,MD=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function DD(e){const t=[],n=[];return Array.from(e.querySelectorAll(MD)).forEach((e,r)=>{const o=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===o?t.push(e):n.push({documentOrder:r,tabIndex:o,node:e}))}),n.sort((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex).map(e=>e.node).concat(t)}function LD(){return!0}const FD=function(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:o=!1,disableRestoreFocus:i=!1,getTabbable:s=DD,isEnabled:a=LD,open:l}=e,c=r.useRef(!1),u=r.useRef(null),d=r.useRef(null),h=r.useRef(null),p=r.useRef(null),f=r.useRef(!1),m=r.useRef(null),g=ZN(YM(t),m),v=r.useRef(null);r.useEffect(()=>{l&&m.current&&(f.current=!n)},[n,l]),r.useEffect(()=>{if(!l||!m.current)return;const e=xO(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),f.current&&m.current.focus()),()=>{i||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}},[l]),r.useEffect(()=>{if(!l||!m.current)return;const e=xO(m.current),t=t=>{v.current=t,!o&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(o&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!f.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=s(m.current)),n.length>0){var r,i;const e=Boolean((null===(r=v.current)||void 0===r?void 0:r.shiftKey)&&"Tab"===(null===(i=v.current)||void 0===i?void 0:i.key)),t=n[0],o=n[n.length-1];"string"!==typeof t&&"string"!==typeof o&&(e?o.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval(()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()},50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}},[n,o,i,a,l,s]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0};return(0,ns.jsxs)(r.Fragment,{children:[(0,ns.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),r.cloneElement(t,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0,p.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,ns.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})};function jD(e,t){"function"===typeof e?e(t):e&&(e.current=t)}const zD=r.forwardRef(function(e,t){const{children:n,container:o,disablePortal:i=!1}=e,[s,a]=r.useState(null),l=ZN(r.isValidElement(n)?YM(n):null,t);if(po(()=>{i||a(function(e){return"function"===typeof e?e():e}(o)||document.body)},[o,i]),po(()=>{if(s&&!i)return jD(t,s),()=>{jD(t,null)}},[t,s,i]),i){if(r.isValidElement(n)){const e={ref:l};return r.cloneElement(n,e)}return n}return s?mD.createPortal(n,s):s}),UD=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],VD=["ownerState"],BD={entering:{opacity:1},entered:{opacity:1}},WD=r.forwardRef(function(e,t){const n=FN(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:i,appear:s=!0,children:l,easing:c,in:u,onEnter:d,onEntered:p,onEntering:f,onExit:m,onExited:g,onExiting:v,style:y,timeout:b=o,TransitionComponent:w=kD}=e,_=a(e,UD),S=r.useRef(null),C=fA(S,YM(l),t),k=e=>t=>{if(e){const n=S.current;void 0===t?e(n):e(n,t)}},E=k(f),x=k((e,t)=>{ED(e);const r=xD({style:y,timeout:b,easing:c},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),d&&d(e,t)}),T=k(p),I=k(v),P=k(e=>{const t=xD({style:y,timeout:b,easing:c},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),m&&m(e)}),R=k(g);return(0,ns.jsx)(w,h(h({appear:s,in:u,nodeRef:S,onEnter:x,onEntered:T,onEntering:E,onExit:P,onExited:R,onExiting:I,addEndListener:e=>{i&&i(S.current,e)},timeout:b},_),{},{children:(e,t)=>{let{ownerState:n}=t,o=a(t,VD);return r.cloneElement(l,h({style:h(h(h({opacity:0,visibility:"exited"!==e||u?void 0:"hidden"},BD[e]),y),l.props.style),ref:C},o))}}))}),qD=WD;function HD(e){return aa("MuiBackdrop",e)}la("MuiBackdrop",["root","invisible"]);const KD=["children","className","component","invisible","open","components","componentsProps","slotProps","slots","TransitionComponent","transitionDuration"],GD=Na("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),YD=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiBackdrop"}),{children:r,className:o,component:i="div",invisible:s=!1,open:l,components:c={},componentsProps:u={},slotProps:d={},slots:p={},TransitionComponent:f,transitionDuration:m}=n,g=a(n,KD),v=h(h({},n),{},{component:i,invisible:s}),y=(e=>{const{classes:t,invisible:n}=e;return fa({root:["root",n&&"invisible"]},HD,t)})(v),b={component:i,slots:h({transition:f,root:c.Root},p),slotProps:h(h({},u),d)},[w,_]=cA("root",{elementType:GD,externalForwardedProps:b,className:mo(y.root,o),ownerState:v}),[S,C]=cA("transition",{elementType:qD,externalForwardedProps:b,ownerState:v});return(0,ns.jsx)(S,h(h(h({in:l,timeout:m},g),C),{},{children:(0,ns.jsx)(w,h(h({"aria-hidden":!0},_),{},{classes:y,ref:t,children:r}))}))}),QD=YD;function $D(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)},()=>{})}function XD(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function JD(e){return parseInt(TO(e).getComputedStyle(e).paddingRight,10)||0}function ZD(e,t,n,r,o){const i=[t,n,...r];[].forEach.call(e.children,e=>{const t=!i.includes(e),n=!function(e){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&XD(e,o)})}function eL(e,t){let n=-1;return e.some((e,r)=>!!t(e)&&(n=r,!0)),n}function tL(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=xO(e);return t.body===e?TO(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=oD(TO(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(JD(r)+e,"px");const t=xO(r).querySelectorAll(".mui-fixed");[].forEach.call(t,t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(JD(t)+e,"px")})}let e;if(r.parentNode instanceof DocumentFragment)e=xO(r).body;else{const t=r.parentElement,n=TO(r);e="HTML"===(null===t||void 0===t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach(e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)})}}const nL=()=>{},rL=new class{constructor(){this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&XD(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)}),t}(t);ZD(t,e.mount,e.modalRef,r,!0);const o=eL(this.containers,e=>e.container===t);return-1!==o?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=eL(this.containers,t=>t.modals.includes(e)),r=this.containers[n];r.restore||(r.restore=tL(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=eL(this.containers,t=>t.modals.includes(e)),o=this.containers[r];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&XD(e.modalRef,t),ZD(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&XD(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const oL=function(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:o=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=e,p=r.useRef({}),f=r.useRef(null),m=r.useRef(null),g=ZN(m,d),[v,y]=r.useState(!u),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(l);let w=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(w=!1);const _=()=>(p.current.modalRef=m.current,p.current.mount=f.current,p.current),S=()=>{rL.mount(_(),{disableScrollLock:o}),m.current&&(m.current.scrollTop=0)},C=mA(()=>{const e=function(e){return"function"===typeof e?e():e}(t)||xO(f.current).body;rL.add(_(),e),m.current&&S()}),k=()=>rL.isTopModal(_()),E=mA(e=>{f.current=e,e&&(u&&k()?S():m.current&&XD(m.current,w))}),x=r.useCallback(()=>{rL.remove(_(),w)},[w]);r.useEffect(()=>()=>{x()},[x]),r.useEffect(()=>{u?C():b&&i||x()},[u,x,b,i,C]);const T=e=>t=>{var r;null===(r=e.onKeyDown)||void 0===r||r.call(e,t),"Escape"===t.key&&229!==t.which&&k()&&(n||(t.stopPropagation(),c&&c(t,"escapeKeyDown")))},I=e=>t=>{var n;null===(n=e.onClick)||void 0===n||n.call(e,t),t.target===t.currentTarget&&c&&c(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=rA(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=h(h({},n),t);return h(h({role:"presentation"},r),{},{onKeyDown:T(r),ref:g})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(h({"aria-hidden":!0},e),{},{onClick:I(e),open:u})},getTransitionProps:()=>{var e,t;return{onEnter:$D(()=>{y(!1),s&&s()},null!==(e=null===l||void 0===l?void 0:l.props.onEnter)&&void 0!==e?e:nL),onExited:$D(()=>{y(!0),a&&a(),i&&x()},null!==(t=null===l||void 0===l?void 0:l.props.onExited)&&void 0!==t?t:nL)}},rootRef:g,portalRef:E,isTopModal:k,exited:v,hasTransition:b}};function iL(e){return aa("MuiModal",e)}la("MuiModal",["root","hidden","backdrop"]);const sL=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],aL=Na("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(Oa(e=>{let{theme:t}=e;return{position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:e=>{let{ownerState:t}=e;return!t.open&&t.exited},style:{visibility:"hidden"}}]}})),lL=Na(QD,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),cL=r.forwardRef(function(e,t){const n=Ma({name:"MuiModal",props:e}),{BackdropComponent:o=lL,BackdropProps:i,classes:s,className:l,closeAfterTransition:c=!1,children:u,container:d,component:p,components:f={},componentsProps:m={},disableAutoFocus:g=!1,disableEnforceFocus:v=!1,disableEscapeKeyDown:y=!1,disablePortal:b=!1,disableRestoreFocus:w=!1,disableScrollLock:_=!1,hideBackdrop:S=!1,keepMounted:C=!1,onClose:k,onTransitionEnter:E,onTransitionExited:x,open:T,slotProps:I={},slots:P={},theme:R}=n,N=a(n,sL),A=h(h({},n),{},{closeAfterTransition:c,disableAutoFocus:g,disableEnforceFocus:v,disableEscapeKeyDown:y,disablePortal:b,disableRestoreFocus:w,disableScrollLock:_,hideBackdrop:S,keepMounted:C}),{getRootProps:O,getBackdropProps:M,getTransitionProps:D,portalRef:L,isTopModal:F,exited:j,hasTransition:z}=oL(h(h({},A),{},{rootRef:t})),U=h(h({},A),{},{exited:j}),V=(e=>{const{open:t,exited:n,classes:r}=e;return fa({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},iL,r)})(U),B={};if(void 0===u.props.tabIndex&&(B.tabIndex="-1"),z){const{onEnter:e,onExited:t}=D();B.onEnter=e,B.onExited=t}const W={slots:h({root:f.Root,backdrop:f.Backdrop},P),slotProps:h(h({},m),I)},[q,H]=cA("root",{ref:t,elementType:aL,externalForwardedProps:h(h(h({},W),N),{},{component:p}),getSlotProps:O,ownerState:U,className:mo(l,null===V||void 0===V?void 0:V.root,!U.open&&U.exited&&(null===V||void 0===V?void 0:V.hidden))}),[K,G]=cA("backdrop",{ref:null===i||void 0===i?void 0:i.ref,elementType:o,externalForwardedProps:W,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:e=>M(h(h({},e),{},{onClick:t=>{null!==e&&void 0!==e&&e.onClick&&e.onClick(t)}})),className:mo(null===i||void 0===i?void 0:i.className,null===V||void 0===V?void 0:V.backdrop),ownerState:U});return C||T||z&&!j?(0,ns.jsx)(zD,{ref:L,container:d,disablePortal:b,children:(0,ns.jsxs)(q,h(h({},H),{},{children:[!S&&o?(0,ns.jsx)(K,h({},G)):null,(0,ns.jsx)(FD,{disableEnforceFocus:v,disableAutoFocus:g,disableRestoreFocus:w,isEnabled:F,open:T,children:r.cloneElement(u,B)})]}))}):null}),uL=cL;function dL(e){return aa("MuiPopover",e)}la("MuiPopover",["root","paper"]);function hL(e,t){if(!e)return t;function n(e,t){const n={};return Object.keys(t).forEach(r=>{(function(e,t){const n=e.charCodeAt(2);return"o"===e[0]&&"n"===e[1]&&n>=65&&n<=90&&"function"===typeof t})(r,t[r])&&"function"===typeof e[r]&&(n[r]=function(){e[r](...arguments),t[r](...arguments)})}),n}if("function"===typeof e||"function"===typeof t)return r=>{const o="function"===typeof t?t(r):t,i="function"===typeof e?e(h(h({},r),o)):e,s=mo(null===r||void 0===r?void 0:r.className,null===o||void 0===o?void 0:o.className,null===i||void 0===i?void 0:i.className),a=n(i,o);return h(h(h(h(h(h({},o),i),a),!!s&&{className:s}),(null===o||void 0===o?void 0:o.style)&&(null===i||void 0===i?void 0:i.style)&&{style:h(h({},o.style),i.style)}),(null===o||void 0===o?void 0:o.sx)&&(null===i||void 0===i?void 0:i.sx)&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(i.sx)?i.sx:[i.sx]]})};const r=t,o=n(e,r),i=mo(null===r||void 0===r?void 0:r.className,null===e||void 0===e?void 0:e.className);return h(h(h(h(h(h({},t),e),o),!!i&&{className:i}),(null===r||void 0===r?void 0:r.style)&&(null===e||void 0===e?void 0:e.style)&&{style:h(h({},r.style),e.style)}),(null===r||void 0===r?void 0:r.sx)&&(null===e||void 0===e?void 0:e.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]})}const pL=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],fL=["slots","slotProps"];function mL(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function gL(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function vL(e){return[e.horizontal,e.vertical].map(e=>"number"===typeof e?"".concat(e,"px"):e).join(" ")}function yL(e){return"function"===typeof e?e():e}const bL=Na(uL,{name:"MuiPopover",slot:"Root"})({}),wL=Na(BN,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),_L=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiPopover"}),{action:o,anchorEl:i,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:c="anchorEl",children:u,className:d,container:p,elevation:f=8,marginThreshold:m=16,open:g,PaperProps:v={},slots:y={},slotProps:b={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:_,transitionDuration:S="auto",TransitionProps:C={},disableScrollLock:k=!1}=n,E=a(n,pL),x=r.useRef(),T=h(h({},n),{},{anchorOrigin:s,anchorReference:c,elevation:f,marginThreshold:m,transformOrigin:w,TransitionComponent:_,transitionDuration:S,TransitionProps:C}),I=(e=>{const{classes:t}=e;return fa({root:["root"],paper:["paper"]},dL,t)})(T),P=r.useCallback(()=>{if("anchorPosition"===c)return l;const e=yL(i),t=(e&&1===e.nodeType?e:QM(x.current).body).getBoundingClientRect();return{top:t.top+mL(t,s.vertical),left:t.left+gL(t,s.horizontal)}},[i,s.horizontal,s.vertical,l,c]),R=r.useCallback(e=>({vertical:mL(e,w.vertical),horizontal:gL(e,w.horizontal)}),[w.horizontal,w.vertical]),N=r.useCallback(e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=R(t);if("none"===c)return{top:null,left:null,transformOrigin:vL(n)};const r=P();let o=r.top-n.vertical,s=r.left-n.horizontal;const a=o+t.height,l=s+t.width,u=sD(yL(i)),d=u.innerHeight-m,h=u.innerWidth-m;if(null!==m&&o<m){const e=o-m;o-=e,n.vertical+=e}else if(null!==m&&a>d){const e=a-d;o-=e,n.vertical+=e}if(null!==m&&s<m){const e=s-m;s-=e,n.horizontal+=e}else if(l>h){const e=l-h;s-=e,n.horizontal+=e}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(s),"px"),transformOrigin:vL(n)}},[i,c,P,R,m]),[A,O]=r.useState(g),M=r.useCallback(()=>{const e=x.current;if(!e)return;const t=N(e);null!==t.top&&e.style.setProperty("top",t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,O(!0)},[N]);r.useEffect(()=>(k&&window.addEventListener("scroll",M),()=>window.removeEventListener("scroll",M)),[i,k,M]);r.useEffect(()=>{g&&M()}),r.useImperativeHandle(o,()=>g?{updatePosition:()=>{M()}}:null,[g,M]),r.useEffect(()=>{if(!g)return;const e=fD(()=>{M()}),t=sD(yL(i));return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[i,g,M]);let D=S;const L={slots:h({transition:_},y),slotProps:h({transition:C,paper:v},b)},[F,j]=cA("transition",{elementType:OD,externalForwardedProps:L,ownerState:T,getSlotProps:e=>h(h({},e),{},{onEntering:(t,n)=>{var r;null===(r=e.onEntering)||void 0===r||r.call(e,t,n),M()},onExited:t=>{var n;null===(n=e.onExited)||void 0===n||n.call(e,t),O(!1)}}),additionalProps:{appear:!0,in:g}});"auto"!==S||F.muiSupportAuto||(D=void 0);const z=p||(i?QM(yL(i)).body:void 0),[U,V]=cA("root",{ref:t,elementType:bL,externalForwardedProps:h(h({},L),E),shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:y.backdrop},slotProps:{backdrop:hL("function"===typeof b.backdrop?b.backdrop(T):b.backdrop,{invisible:!0})},container:z,open:g},ownerState:T,className:mo(I.root,d)}),{slots:B,slotProps:W}=V,q=a(V,fL),[H,K]=cA("paper",{ref:x,className:I.paper,elementType:wL,externalForwardedProps:L,shouldForwardComponentProp:!0,additionalProps:{elevation:f,style:A?void 0:{opacity:0}},ownerState:T});return(0,ns.jsx)(U,h(h(h({},q),!eA(U)&&{slots:B,slotProps:W,disableScrollLock:k}),{},{children:(0,ns.jsx)(F,h(h({},j),{},{timeout:D,children:(0,ns.jsx)(H,h(h({},K),{},{children:u}))}))}))}),SL=_L;function CL(e){return aa("MuiMenu",e)}la("MuiMenu",["root","paper","list"]);const kL=["onEntering"],EL=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],xL={vertical:"top",horizontal:"right"},TL={vertical:"top",horizontal:"left"},IL=Na(SL,{shouldForwardProp:e=>Ra(e)||"classes"===e,name:"MuiMenu",slot:"Root"})({}),PL=Na(wL,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),RL=Na(pD,{name:"MuiMenu",slot:"List"})({outline:0}),NL=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:i,className:s,disableAutoFocusItem:l=!1,MenuListProps:c={},onClose:u,open:d,PaperProps:p={},PopoverClasses:f,transitionDuration:m="auto",TransitionProps:{onEntering:g}={},variant:v="selectedMenu",slots:y={},slotProps:b={}}=n,w=a(n.TransitionProps,kL),_=a(n,EL),S=ss(),C=h(h({},n),{},{autoFocus:o,disableAutoFocusItem:l,MenuListProps:c,onEntering:g,PaperProps:p,transitionDuration:m,TransitionProps:w,variant:v}),k=(e=>{const{classes:t}=e;return fa({root:["root"],paper:["paper"],list:["list"]},CL,t)})(C),E=o&&!l&&d,x=r.useRef(null);let T=-1;r.Children.map(i,(e,t)=>{r.isValidElement(e)&&(e.props.disabled||("selectedMenu"===v&&e.props.selected||-1===T)&&(T=t))});const I={slots:y,slotProps:h({list:c,transition:w,paper:p},b)},P=XM({elementType:y.root,externalSlotProps:b.root,ownerState:C,className:[k.root,s]}),[R,N]=cA("paper",{className:k.paper,elementType:PL,externalForwardedProps:I,shouldForwardComponentProp:!0,ownerState:C}),[A,O]=cA("list",{className:mo(k.list,c.className),elementType:RL,shouldForwardComponentProp:!0,externalForwardedProps:I,getSlotProps:e=>h(h({},e),{},{onKeyDown:t=>{var n;(e=>{"Tab"===e.key&&(e.preventDefault(),u&&u(e,"tabKeyDown"))})(t),null===(n=e.onKeyDown)||void 0===n||n.call(e,t)}}),ownerState:C}),M="function"===typeof I.slotProps.transition?I.slotProps.transition(C):I.slotProps.transition;return(0,ns.jsx)(IL,h(h({onClose:u,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?xL:TL,slots:h({root:y.root,paper:R,backdrop:y.backdrop},y.transition&&{transition:y.transition}),slotProps:{root:P,paper:N,backdrop:"function"===typeof b.backdrop?b.backdrop(C):b.backdrop,transition:h(h({},M),{},{onEntering:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];((e,t)=>{x.current&&x.current.adjustStyleForScrollbar(e,{direction:S?"rtl":"ltr"}),g&&g(e,t)})(...n),null===M||void 0===M||null===(e=M.onEntering)||void 0===e||e.call(M,...n)}})},open:d,ref:t,transitionDuration:m,ownerState:C},_),{},{classes:f,children:(0,ns.jsx)(A,h(h({actions:x,autoFocus:o&&(-1===T||l),autoFocusItem:E,variant:v},O),{},{children:i}))}))}),AL=NL;function OL(e){return aa("MuiNativeSelect",e)}const ML=la("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),DL=["className","disabled","error","IconComponent","inputRef","variant"],LL=Na("select",{name:"MuiNativeSelect"})(e=>{let{theme:t}=e;return{MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},["&.".concat(ML.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:e=>{let{ownerState:t}=e;return"filled"!==t.variant&&"outlined"!==t.variant},style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]}}),FL=Na(LL,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ra,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{["&.".concat(ML.multiple)]:t.multiple}]}})({}),jL=Na("svg",{name:"MuiNativeSelect"})(e=>{let{theme:t}=e;return{position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,["&.".concat(ML.disabled)]:{color:(t.vars||t).palette.action.disabled},variants:[{props:e=>{let{ownerState:t}=e;return t.open},style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]}}),zL=Na(jL,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(Da(n.variant))],n.open&&t.iconOpen]}})({}),UL=r.forwardRef(function(e,t){const{className:n,disabled:o,error:i,IconComponent:s,inputRef:l,variant:c="standard"}=e,u=a(e,DL),d=h(h({},e),{},{disabled:o,variant:c,error:i}),p=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e;return fa({select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon","icon".concat(Da(n)),i&&"iconOpen",r&&"disabled"]},OL,t)})(d);return(0,ns.jsxs)(r.Fragment,{children:[(0,ns.jsx)(FL,h({ownerState:d,className:mo(p.select,n),disabled:o,ref:l||t},u)),e.multiple?null:(0,ns.jsx)(zL,{as:s,ownerState:d,className:p.icon})]})}),VL=UL;const BL=function(e){const{controlled:t,default:n,name:o,state:i="value"}=e,{current:s}=r.useRef(void 0!==t),[a,l]=r.useState(n);return[s?t:a,r.useCallback(e=>{s||l(e)},[])]};function WL(e){return aa("MuiSelect",e)}const qL=la("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),HL=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","required","SelectDisplayProps","tabIndex","type","value","variant"];var KL;const GL=Na(LL,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["&.".concat(qL.select)]:t.select},{["&.".concat(qL.select)]:t[n.variant]},{["&.".concat(qL.error)]:t.error},{["&.".concat(qL.multiple)]:t.multiple}]}})({["&.".concat(qL.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),YL=Na(jL,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(Da(n.variant))],n.open&&t.iconOpen]}})({}),QL=Na("input",{shouldForwardProp:e=>Pa(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function $L(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function XL(e){return null==e||"string"===typeof e&&!e.trim()}const JL=r.forwardRef(function(e,t){var n,o,i,s;const{"aria-describedby":l,"aria-label":c,autoFocus:u,autoWidth:d,children:p,className:f,defaultOpen:m,defaultValue:g,disabled:v,displayEmpty:y,error:b=!1,IconComponent:w,inputRef:_,labelId:S,MenuProps:C={},multiple:k,name:E,onBlur:x,onChange:T,onClose:I,onFocus:P,onOpen:R,open:N,readOnly:A,renderValue:O,required:M,SelectDisplayProps:D={},tabIndex:L,type:F,value:j,variant:z="standard"}=e,U=a(e,HL),[V,B]=BL({controlled:j,default:g,name:"Select"}),[W,q]=BL({controlled:N,default:m,name:"Select"}),H=r.useRef(null),K=r.useRef(null),[G,Y]=r.useState(null),{current:Q}=r.useRef(null!=N),[$,X]=r.useState(),J=fA(t,_),Z=r.useCallback(e=>{K.current=e,e&&Y(e)},[]),ee=null===G||void 0===G?void 0:G.parentNode;r.useImperativeHandle(J,()=>({focus:()=>{K.current.focus()},node:H.current,value:V}),[V]),r.useEffect(()=>{m&&W&&G&&!Q&&(X(d?null:ee.clientWidth),K.current.focus())},[G,d]),r.useEffect(()=>{u&&K.current.focus()},[u]),r.useEffect(()=>{if(!S)return;const e=QM(K.current).getElementById(S);if(e){const t=()=>{getSelection().isCollapsed&&K.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}},[S]);const te=(e,t)=>{e?R&&R(t):I&&I(t),Q||(X(d?null:ee.clientWidth),q(e))},ne=r.Children.toArray(p),re=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(k){n=Array.isArray(V)?V.slice():[];const t=V.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),V!==n&&(B(n),T)){const r=t.nativeEvent||t,o=new r.constructor(r.type,r);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:E}}),T(o,e)}k||te(!1,t)}},oe=null!==G&&W;let ie,se;delete U["aria-invalid"];const ae=[];let le=!1,ce=!1;(zO({value:V})||y)&&(O?ie=O(V):le=!0);const ue=ne.map(e=>{if(!r.isValidElement(e))return null;let t;if(k){if(!Array.isArray(V))throw new Error(It(2));t=V.some(t=>$L(t,e.props.value)),t&&le&&ae.push(e.props.children)}else t=$L(V,e.props.value),t&&le&&(se=e.props.children);return t&&(ce=!0),r.cloneElement(e,{"aria-selected":t?"true":"false",onClick:re(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})});le&&(ie=k?0===ae.length?null:ae.reduce((e,t,n)=>(e.push(t),n<ae.length-1&&e.push(", "),e),[]):se);let de,he=$;!d&&Q&&G&&(he=ee.clientWidth),de="undefined"!==typeof L?L:v?null:0;const pe=D.id||(E?"mui-component-select-".concat(E):void 0),fe=h(h({},e),{},{variant:z,value:V,open:oe,error:b}),me=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e;return fa({select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon","icon".concat(Da(n)),i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},WL,t)})(fe),ge=h(h({},C.PaperProps),"function"===typeof(null===(n=C.slotProps)||void 0===n?void 0:n.paper)?C.slotProps.paper(fe):null===(o=C.slotProps)||void 0===o?void 0:o.paper),ve=h(h({},C.MenuListProps),"function"===typeof(null===(i=C.slotProps)||void 0===i?void 0:i.list)?C.slotProps.list(fe):null===(s=C.slotProps)||void 0===s?void 0:s.list),ye=ps();return(0,ns.jsxs)(r.Fragment,{children:[(0,ns.jsx)(GL,h(h({as:"div",ref:Z,tabIndex:de,role:"combobox","aria-controls":oe?ye:void 0,"aria-disabled":v?"true":void 0,"aria-expanded":oe?"true":"false","aria-haspopup":"listbox","aria-label":c,"aria-labelledby":[S,pe].filter(Boolean).join(" ")||void 0,"aria-describedby":l,"aria-required":M?"true":void 0,"aria-invalid":b?"true":void 0,onKeyDown:e=>{if(!A){[" ","ArrowUp","ArrowDown","Enter"].includes(e.key)&&(e.preventDefault(),te(!0,e))}},onMouseDown:v||A?null:e=>{0===e.button&&(e.preventDefault(),K.current.focus(),te(!0,e))},onBlur:e=>{!oe&&x&&(Object.defineProperty(e,"target",{writable:!0,value:{value:V,name:E}}),x(e))},onFocus:P},D),{},{ownerState:fe,className:mo(D.className,me.select,f),id:pe,children:XL(ie)?KL||(KL=(0,ns.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):ie})),(0,ns.jsx)(QL,h(h({"aria-invalid":b,value:Array.isArray(V)?V.join(","):V,name:E,ref:H,"aria-hidden":!0,onChange:e=>{const t=ne.find(t=>t.props.value===e.target.value);void 0!==t&&(B(t.props.value),T&&T(e,t))},tabIndex:-1,disabled:v,className:me.nativeInput,autoFocus:u,required:M},U),{},{ownerState:fe})),(0,ns.jsx)(YL,{as:w,className:me.icon,ownerState:fe}),(0,ns.jsx)(AL,h(h({id:"menu-".concat(E||""),anchorEl:ee,open:oe,onClose:e=>{te(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},C),{},{slotProps:h(h({},C.slotProps),{},{list:h({"aria-labelledby":S,role:"listbox","aria-multiselectable":k?"true":void 0,disableListWrap:!0,id:ye},ve),paper:h(h({},ge),{},{style:h({minWidth:he},null!=ge?ge.style:null)})}),children:ue}))]})}),ZL=JL,eF=dO((0,ns.jsx)("path",{d:"M7 10l5 5 5-5z"})),tF=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],nF=["root"],rF={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>Ra(e)&&"variant"!==e},oF=Na(rM,rF)(""),iF=Na(SM,rF)(""),sF=Na(uM,rF)(""),aF=r.forwardRef(function(e,t){const n=Ma({name:"MuiSelect",props:e}),{autoWidth:o=!1,children:i,classes:s={},className:l,defaultOpen:c=!1,displayEmpty:u=!1,IconComponent:d=eF,id:p,input:f,inputProps:m,label:g,labelId:v,MenuProps:y,multiple:b=!1,native:w=!1,onClose:_,onOpen:S,open:C,renderValue:k,SelectDisplayProps:E,variant:x="outlined"}=n,T=a(n,tF),I=w?VL:ZL,P=MO({props:n,muiFormControl:LO(),states:["variant","error"]}),R=P.variant||x,N=h(h({},n),{},{variant:R,classes:s}),A=(e=>{const{classes:t}=e,n=fa({root:["root"]},WL,t);return h(h({},t),n)})(N),{root:O}=A,M=a(A,nF),D=f||{standard:(0,ns.jsx)(oF,{ownerState:N}),outlined:(0,ns.jsx)(iF,{label:g,ownerState:N}),filled:(0,ns.jsx)(sF,{ownerState:N})}[R],L=fA(t,YM(D));return(0,ns.jsx)(r.Fragment,{children:r.cloneElement(D,h(h(h({inputComponent:I,inputProps:h(h(h({children:i,error:P.error,IconComponent:d,variant:R,type:void 0,multiple:b},w?{id:p}:{autoWidth:o,defaultOpen:c,displayEmpty:u,labelId:v,MenuProps:y,onClose:_,onOpen:S,open:C,renderValue:k,SelectDisplayProps:h({id:p},E)}),m),{},{classes:m?At(M,m.classes):M},f?f.props.inputProps:{})},(b&&w||u)&&"outlined"===R?{notched:!0}:{}),{},{ref:L,className:mo(D.props.className,l,A.root)},!f&&{variant:R}),T))})});aF.muiName="Select";const lF=aF;function cF(e){return aa("MuiTextField",e)}la("MuiTextField",["root"]);const uF=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","slots","slotProps","type","value","variant"],dF={standard:rM,filled:uM,outlined:SM},hF=Na(UM,{name:"MuiTextField",slot:"Root"})({}),pF=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:o=!1,children:i,className:s,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:p,fullWidth:f=!1,helperText:m,id:g,InputLabelProps:v,inputProps:y,InputProps:b,inputRef:w,label:_,maxRows:S,minRows:C,multiline:k=!1,name:E,onBlur:x,onChange:T,onFocus:I,placeholder:P,required:R=!1,rows:N,select:A=!1,SelectProps:O,slots:M={},slotProps:D={},type:L,value:F,variant:j="outlined"}=n,z=a(n,uF),U=h(h({},n),{},{autoFocus:o,color:l,disabled:u,error:d,fullWidth:f,multiline:k,required:R,select:A,variant:j}),V=(e=>{const{classes:t}=e;return fa({root:["root"]},cF,t)})(U);const B=ps(g),W=m&&B?"".concat(B,"-helper-text"):void 0,q=_&&B?"".concat(B,"-label"):void 0,H=dF[j],K={slots:M,slotProps:h({input:b,inputLabel:v,htmlInput:y,formHelperText:p,select:O},D)},G={},Y=K.slotProps.inputLabel;"outlined"===j&&(Y&&"undefined"!==typeof Y.shrink&&(G.notched=Y.shrink),G.label=_),A&&(O&&O.native||(G.id=void 0),G["aria-describedby"]=void 0);const[Q,$]=cA("root",{elementType:hF,shouldForwardComponentProp:!0,externalForwardedProps:h(h({},K),z),ownerState:U,className:mo(V.root,s),ref:t,additionalProps:{disabled:u,error:d,fullWidth:f,required:R,color:l,variant:j}}),[X,J]=cA("input",{elementType:H,externalForwardedProps:K,additionalProps:G,ownerState:U}),[Z,ee]=cA("inputLabel",{elementType:MM,externalForwardedProps:K,ownerState:U}),[te,ne]=cA("htmlInput",{elementType:"input",externalForwardedProps:K,ownerState:U}),[re,oe]=cA("formHelperText",{elementType:GM,externalForwardedProps:K,ownerState:U}),[ie,se]=cA("select",{elementType:lF,externalForwardedProps:K,ownerState:U}),ae=(0,ns.jsx)(X,h({"aria-describedby":W,autoComplete:r,autoFocus:o,defaultValue:c,fullWidth:f,multiline:k,name:E,rows:N,maxRows:S,minRows:C,type:L,value:F,id:B,inputRef:w,onBlur:x,onChange:T,onFocus:I,placeholder:P,inputProps:ne,slots:{input:M.htmlInput?te:void 0}},J));return(0,ns.jsxs)(Q,h(h({},$),{},{children:[null!=_&&""!==_&&(0,ns.jsx)(Z,h(h({htmlFor:B,id:q},ee),{},{children:_})),A?(0,ns.jsx)(ie,h(h({"aria-describedby":W,id:B,labelId:q,value:F,input:ae},se),{},{children:i})):ae,m&&(0,ns.jsx)(re,h(h({id:W},oe),{},{children:m}))]}))}),fF=pF;function mF(e){return aa("MuiButton",e)}const gF=la("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]);const vF=r.createContext({});const yF=r.createContext(void 0),bF=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","id","loading","loadingIndicator","loadingPosition","size","startIcon","type","variant"],wF=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],_F=Na(JA,{shouldForwardProp:e=>Ra(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(Da(n.color))],t["size".concat(Da(n.size))],t["".concat(n.variant,"Size").concat(Da(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(Oa(e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],r="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return h(h({},t.typography.button),{},{minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},["&.".concat(gF.disabled)]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},["&.".concat(gF.focusVisible)]:{boxShadow:(t.vars||t).shadows[6]},["&.".concat(gF.disabled)]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",["&.".concat(gF.disabled)]:{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(La()).map(e=>{let[n]=e;return{props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)}}}}}),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:n,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(gF.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(gF.disabled)]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),["&.".concat(gF.loading)]:{color:"transparent"}}}]})})),SF=Na("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t["iconSize".concat(Da(n.size))]]}})(e=>{let{theme:t}=e;return{display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...wF]}}),CF=Na("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t["iconSize".concat(Da(n.size))]]}})(e=>{let{theme:t}=e;return{display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...wF]}}),kF=Na("span",{name:"MuiButton",slot:"LoadingIndicator"})(e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]}}),EF=Na("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),xF=r.forwardRef(function(e,t){const n=r.useContext(vF),o=r.useContext(yF),i=Ma({props:go(n,e),name:"MuiButton"}),{children:s,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:p=!1,disableFocusRipple:f=!1,endIcon:m,focusVisibleClassName:g,fullWidth:v=!1,id:y,loading:b=null,loadingIndicator:w,loadingPosition:_="center",size:S="medium",startIcon:C,type:k,variant:E="text"}=i,x=a(i,bF),T=hA(y),I=null!==w&&void 0!==w?w:(0,ns.jsx)(Ja,{"aria-labelledby":T,color:"inherit",size:16}),P=h(h({},i),{},{color:l,component:c,disabled:d,disableElevation:p,disableFocusRipple:f,fullWidth:v,loading:b,loadingIndicator:I,loadingPosition:_,size:S,type:k,variant:E}),R=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:i,loading:s,loadingPosition:a,classes:l}=e,c=fa({root:["root",s&&"loading",i,"".concat(i).concat(Da(t)),"size".concat(Da(o)),"".concat(i,"Size").concat(Da(o)),"color".concat(Da(t)),n&&"disableElevation",r&&"fullWidth",s&&"loadingPosition".concat(Da(a))],startIcon:["icon","startIcon","iconSize".concat(Da(o))],endIcon:["icon","endIcon","iconSize".concat(Da(o))],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},mF,l);return h(h({},l),c)})(P),N=(C||b&&"start"===_)&&(0,ns.jsx)(SF,{className:R.startIcon,ownerState:P,children:C||(0,ns.jsx)(EF,{className:R.loadingIconPlaceholder,ownerState:P})}),A=(m||b&&"end"===_)&&(0,ns.jsx)(CF,{className:R.endIcon,ownerState:P,children:m||(0,ns.jsx)(EF,{className:R.loadingIconPlaceholder,ownerState:P})}),O=o||"",M="boolean"===typeof b?(0,ns.jsx)("span",{className:R.loadingWrapper,style:{display:"contents"},children:b&&(0,ns.jsx)(kF,{className:R.loadingIndicator,ownerState:P,children:I})}):null;return(0,ns.jsxs)(_F,h(h({ownerState:P,className:mo(n.className,R.root,u,O),component:c,disabled:d||b,focusRipple:!f,focusVisibleClassName:mo(R.focusVisible,g),ref:t,type:k,id:b?T:y},x),{},{classes:R,children:[N,"end"!==_&&M,s,"end"===_&&M,A]}))}),TF=xF;const IF=function(){const[e,t]=(0,r.useState)(""),[n,o]=(0,r.useState)(""),[i,s]=(0,r.useState)(!1),[a,l]=(0,r.useState)("");return(0,ns.jsx)(LN,{maxWidth:"sm",children:(0,ns.jsx)(ha,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:(0,ns.jsxs)(BN,{elevation:3,sx:{p:4,width:"100%"},children:[(0,ns.jsx)(JN,{variant:"h4",align:"center",gutterBottom:!0,children:i?"Sign Up":"Login"}),a&&(0,ns.jsx)(kO,{severity:"error",sx:{mb:2},children:a}),(0,ns.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l("");try{if(i){const t=await async function(e,t,n){if(ku(e.app))return Promise.reject(Ju(e));const r=oh(e),o=fh(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Lh,"EMAIL_PASSWORD_PROVIDER"),i=await o.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Hh(e),t}),s=await Fh._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}(xN,e,n),r=t.user,o=r.email.split("@")[0].replace(/[^a-zA-Z0-9]/g,""),i=Math.floor(1e3+9e3*Math.random()),s="".concat(o).concat(i);await Kh(r,{displayName:s}),await GP(VI(TN,"users",r.uid),{uid:r.uid,email:r.email,displayName:s})}else await function(e,t,n){return ku(e.app)?Promise.reject(Ju(e)):qh(cc(e),Ph.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Hh(e),t})}(xN,e,n)}catch(a){console.error("Login/Signup Error:",a.code,a.message);let t="An unknown error occurred. Please try again.";switch(a.code){case"auth/invalid-credential":t="Incorrect email or password. Please try again.";break;case"auth/email-already-in-use":t="This email is already registered. Please log in.";break;case"auth/weak-password":t="Password must be at least 6 characters long.";break;case"auth/invalid-email":t="Please enter a valid email address.";break;case"auth/network-request-failed":t="Network error. Please check your internet connection.";break;default:t=a.message}l(t)}},children:[(0,ns.jsx)(fF,{fullWidth:!0,label:"Email",type:"email",value:e,onChange:e=>t(e.target.value),margin:"normal",required:!0}),(0,ns.jsx)(fF,{fullWidth:!0,label:"Password",type:"password",value:n,onChange:e=>o(e.target.value),margin:"normal",required:!0}),(0,ns.jsx)(TF,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:i?"Sign Up":"Login"}),(0,ns.jsx)(TF,{fullWidth:!0,onClick:()=>{s(!i),l("")},children:i?"Already have account? Login":"Need account? Sign Up"})]})]})})})},PF=e=>{const t=r.useRef({});return r.useEffect(()=>{t.current=e}),t.current};const RF=function(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:o=!1}=e,i=PF({badgeContent:t,max:r});let s=n;!1!==n||0!==t||o||(s=!0);const{badgeContent:a,max:l=r}=s?i:e;return{badgeContent:a,invisible:s,max:l,displayValue:a&&Number(a)>l?"".concat(l,"+"):a}};function NF(e){return aa("MuiBadge",e)}const AF=la("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),OF=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],MF=Na("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),DF=Na("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t["anchorOrigin".concat(Da(n.anchorOrigin.vertical)).concat(Da(n.anchorOrigin.horizontal)).concat(Da(n.overlap))],"default"!==n.color&&t["color".concat(Da(n.color))],n.invisible&&t.invisible]}})(Oa(e=>{let{theme:t}=e;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(La(["contrastText"])).map(e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText}}}),{props:{variant:"dot"},style:{borderRadius:4,height:8,minWidth:8,padding:0}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",["&.".concat(AF.invisible)]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",["&.".concat(AF.invisible)]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",["&.".concat(AF.invisible)]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",["&.".concat(AF.invisible)]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",["&.".concat(AF.invisible)]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",["&.".concat(AF.invisible)]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",["&.".concat(AF.invisible)]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",["&.".concat(AF.invisible)]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]}}));function LF(e){var t,n;return{vertical:null!==(t=null===e||void 0===e?void 0:e.vertical)&&void 0!==t?t:"top",horizontal:null!==(n=null===e||void 0===e?void 0:e.horizontal)&&void 0!==n?n:"right"}}const FF=r.forwardRef(function(e,t){var n,r,o,i;const s=Ma({props:e,name:"MuiBadge"}),{anchorOrigin:l,className:c,classes:u,component:d,components:p={},componentsProps:f={},children:m,overlap:g="rectangular",color:v="default",invisible:y=!1,max:b=99,badgeContent:w,slots:_,slotProps:S,showZero:C=!1,variant:k="standard"}=s,E=a(s,OF),{badgeContent:x,invisible:T,max:I,displayValue:P}=RF({max:b,invisible:y,badgeContent:w,showZero:C}),R=PF({anchorOrigin:LF(l),color:v,overlap:g,variant:k,badgeContent:w}),N=T||null==x&&"dot"!==k,{color:A=v,overlap:O=g,anchorOrigin:M,variant:D=k}=N?R:s,L=LF(M),F="dot"!==D?P:void 0,j=h(h({},s),{},{badgeContent:x,invisible:N,max:I,displayValue:F,showZero:C,anchorOrigin:L,color:A,overlap:O,variant:D}),z=(e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:o,variant:i,classes:s={}}=e;return fa({root:["root"],badge:["badge",i,r&&"invisible","anchorOrigin".concat(Da(n.vertical)).concat(Da(n.horizontal)),"anchorOrigin".concat(Da(n.vertical)).concat(Da(n.horizontal)).concat(Da(o)),"overlap".concat(Da(o)),"default"!==t&&"color".concat(Da(t))]},NF,s)})(j),U={slots:{root:null!==(n=null===_||void 0===_?void 0:_.root)&&void 0!==n?n:p.Root,badge:null!==(r=null===_||void 0===_?void 0:_.badge)&&void 0!==r?r:p.Badge},slotProps:{root:null!==(o=null===S||void 0===S?void 0:S.root)&&void 0!==o?o:f.root,badge:null!==(i=null===S||void 0===S?void 0:S.badge)&&void 0!==i?i:f.badge}},[V,B]=cA("root",{elementType:MF,externalForwardedProps:h(h({},U),E),ownerState:j,className:mo(z.root,c),ref:t,additionalProps:{as:d}}),[W,q]=cA("badge",{elementType:DF,externalForwardedProps:U,ownerState:j,className:z.badge});return(0,ns.jsxs)(V,h(h({},B),{},{children:[m,(0,ns.jsx)(W,h(h({},q),{},{children:F}))]}))}),jF=FF;function zF(e){return aa("MuiToolbar",e)}la("MuiToolbar",["root","gutters","regular","dense"]);const UF=["className","component","disableGutters","variant"],VF=Na("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(Oa(e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}})),BF=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiToolbar"}),{className:r,component:o="div",disableGutters:i=!1,variant:s="regular"}=n,l=a(n,UF),c=h(h({},n),{},{component:o,disableGutters:i,variant:s}),u=(e=>{const{classes:t,disableGutters:n,variant:r}=e;return fa({root:["root",!n&&"gutters",r]},zF,t)})(c);return(0,ns.jsx)(VF,h({as:o,className:mo(u.root,r),ref:t,ownerState:c},l))}),WF=BF;function qF(e){return aa("MuiDivider",e)}const HF=la("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),KF=["absolute","children","className","orientation","component","flexItem","light","role","textAlign","variant"],GF=Na("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})(Oa(e=>{let{theme:t}=e;return{margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.alpha((t.vars||t).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:e=>{let{ownerState:t}=e;return!!t.children},style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:e=>{let{ownerState:t}=e;return t.children&&"vertical"!==t.orientation},style:{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider),borderTopStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"vertical"===t.orientation&&t.children},style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider),borderLeftStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:e=>{let{ownerState:t}=e;return"left"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}})),YF=Na("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})(Oa(e=>{let{theme:t}=e;return{display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)"),whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")}}]}})),QF=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiDivider"}),{absolute:r=!1,children:o,className:i,orientation:s="horizontal",component:l=(o||"vertical"===s?"div":"hr"),flexItem:c=!1,light:u=!1,role:d=("hr"!==l?"separator":void 0),textAlign:p="center",variant:f="fullWidth"}=n,m=a(n,KF),g=h(h({},n),{},{absolute:r,component:l,flexItem:c,light:u,orientation:s,role:d,textAlign:p,variant:f}),v=(e=>{const{absolute:t,children:n,classes:r,flexItem:o,light:i,orientation:s,textAlign:a,variant:l}=e;return fa({root:["root",t&&"absolute",l,i&&"light","vertical"===s&&"vertical",o&&"flexItem",n&&"withChildren",n&&"vertical"===s&&"withChildrenVertical","right"===a&&"vertical"!==s&&"textAlignRight","left"===a&&"vertical"!==s&&"textAlignLeft"],wrapper:["wrapper","vertical"===s&&"wrapperVertical"]},qF,r)})(g);return(0,ns.jsx)(GF,h(h({as:l,className:mo(v.root,i),role:d,ref:t,ownerState:g,"aria-orientation":"separator"!==d||"hr"===l&&"vertical"!==s?void 0:s},m),{},{children:o?(0,ns.jsx)(YF,{className:v.wrapper,ownerState:g,children:o}):null}))});QF&&(QF.muiSkipListHighlight=!0);const $F=QF;function XF(e){return aa("MuiListItem",e)}la("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const JF=la("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function ZF(e){return aa("MuiListItemSecondaryAction",e)}la("MuiListItemSecondaryAction",["root","disableGutters"]);const ej=["className"],tj=Na("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:e=>{let{ownerState:t}=e;return t.disableGutters},style:{right:0}}]}),nj=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiListItemSecondaryAction"}),{className:o}=n,i=a(n,ej),s=r.useContext(JM),l=h(h({},n),{},{disableGutters:s.disableGutters}),c=(e=>{const{disableGutters:t,classes:n}=e;return fa({root:["root",t&&"disableGutters"]},ZF,n)})(l);return(0,ns.jsx)(tj,h({className:mo(c.root,o),ownerState:l,ref:t},i))});nj.muiName="ListItemSecondaryAction";const rj=nj,oj=["className"],ij=["alignItems","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disableGutters","disablePadding","divider","secondaryAction","slotProps","slots"],sj=Na("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.hasSecondaryAction&&t.secondaryAction]}})(Oa(e=>{let{theme:t}=e;return{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&t.dense},style:{paddingTop:4,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&!!t.secondaryAction},style:{paddingRight:48}},{props:e=>{let{ownerState:t}=e;return!!t.secondaryAction},style:{["& > .".concat(JF.root)]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return t.button},style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:e=>{let{ownerState:t}=e;return t.hasSecondaryAction},style:{paddingRight:48}}]}})),aj=Na("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),lj=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiListItem"}),{alignItems:o="center",children:i,className:s,component:l,components:c={},componentsProps:u={},ContainerComponent:d="li",ContainerProps:{className:p}={},dense:f=!1,disableGutters:m=!1,disablePadding:g=!1,divider:v=!1,secondaryAction:y,slotProps:b={},slots:w={}}=n,_=a(n.ContainerProps,oj),S=a(n,ij),C=r.useContext(JM),k=r.useMemo(()=>({dense:f||C.dense||!1,alignItems:o,disableGutters:m}),[o,C.dense,f,m]),E=r.useRef(null),x=r.Children.toArray(i),T=x.length&&DM(x[x.length-1],["ListItemSecondaryAction"]),I=h(h({},n),{},{alignItems:o,dense:k.dense,disableGutters:m,disablePadding:g,divider:v,hasSecondaryAction:T}),P=(e=>{const{alignItems:t,classes:n,dense:r,disableGutters:o,disablePadding:i,divider:s,hasSecondaryAction:a}=e;return fa({root:["root",r&&"dense",!o&&"gutters",!i&&"padding",s&&"divider","flex-start"===t&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},XF,n)})(I),R=fA(E,t),N=w.root||c.Root||sj,A=b.root||u.root||{},O=h({className:mo(P.root,A.className,s)},S);let M=l||"li";return T?(M=O.component||l?M:"div","li"===d&&("li"===M?M="div":"li"===O.component&&(O.component="div")),(0,ns.jsx)(JM.Provider,{value:k,children:(0,ns.jsxs)(aj,h(h({as:d,className:mo(P.container,p),ref:R,ownerState:I},_),{},{children:[(0,ns.jsx)(N,h(h(h(h({},A),!eA(N)&&{as:M,ownerState:h(h({},I),A.ownerState)}),O),{},{children:x})),x.pop()]}))})):(0,ns.jsx)(JM.Provider,{value:k,children:(0,ns.jsxs)(N,h(h(h(h({},A),{},{as:M,ref:R},!eA(N)&&{ownerState:h(h({},I),A.ownerState)}),O),{},{children:[x,y&&(0,ns.jsx)(rj,{children:y})]}))})}),cj=lj;function uj(e){return aa("MuiListItemIcon",e)}const dj=la("MuiListItemIcon",["root","alignItemsFlexStart"]),hj=["className"],pj=Na("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})(Oa(e=>{let{theme:t}=e;return{minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}})),fj=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiListItemIcon"}),{className:o}=n,i=a(n,hj),s=r.useContext(JM),l=h(h({},n),{},{alignItems:s.alignItems}),c=(e=>{const{alignItems:t,classes:n}=e;return fa({root:["root","flex-start"===t&&"alignItemsFlexStart"]},uj,n)})(l);return(0,ns.jsx)(pj,h({className:mo(c.root,o),ownerState:l,ref:t},i))}),mj=fj,gj=dO((0,ns.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function vj(e){return aa("MuiAvatar",e)}la("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const yj=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],bj=Na("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})(Oa(e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:h({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:h({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]}})),wj=Na("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),_j=Na(gj,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});const Sj=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiAvatar"}),{alt:o,children:i,className:s,component:l="div",slots:c={},slotProps:u={},imgProps:d,sizes:p,src:f,srcSet:m,variant:g="circular"}=n,v=a(n,yj);let y=null;const b=h(h({},n),{},{component:l,variant:g}),w=function(e){let{crossOrigin:t,referrerPolicy:n,src:o,srcSet:i}=e;const[s,a]=r.useState(!1);return r.useEffect(()=>{if(!o&&!i)return;a(!1);let e=!0;const r=new Image;return r.onload=()=>{e&&a("loaded")},r.onerror=()=>{e&&a("error")},r.crossOrigin=t,r.referrerPolicy=n,r.src=o,i&&(r.srcset=i),()=>{e=!1}},[t,n,o,i]),s}(h(h(h({},d),"function"===typeof u.img?u.img(b):u.img),{},{src:f,srcSet:m})),_=f||m,S=_&&"error"!==w;b.colorDefault=!S,delete b.ownerState;const C=(e=>{const{classes:t,variant:n,colorDefault:r}=e;return fa({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},vj,t)})(b),[k,E]=cA("root",{ref:t,className:mo(C.root,s),elementType:bj,externalForwardedProps:h({slots:c,slotProps:u,component:l},v),ownerState:b}),[x,T]=cA("img",{className:C.img,elementType:wj,externalForwardedProps:{slots:c,slotProps:{img:h(h({},d),u.img)}},additionalProps:{alt:o,src:f,srcSet:m,sizes:p},ownerState:b}),[I,P]=cA("fallback",{className:C.fallback,elementType:_j,externalForwardedProps:{slots:c,slotProps:u},shouldForwardComponentProp:!0,ownerState:b});return y=S?(0,ns.jsx)(x,h({},T)):i||0===i?i:_&&o?o[0]:(0,ns.jsx)(I,h({},P)),(0,ns.jsx)(k,h(h({},E),{},{children:y}))}),Cj=Sj;function kj(e){return aa("MuiListItemText",e)}const Ej=la("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),xj=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps","slots","slotProps"],Tj=Na("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(Ej.primary)]:t.primary},{["& .".concat(Ej.secondary)]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[".".concat(qN.root,":where(& .").concat(Ej.primary,")")]:{display:"block"},[".".concat(qN.root,":where(& .").concat(Ej.secondary,")")]:{display:"block"},variants:[{props:e=>{let{ownerState:t}=e;return t.primary&&t.secondary},style:{marginTop:6,marginBottom:6}},{props:e=>{let{ownerState:t}=e;return t.inset},style:{paddingLeft:56}}]}),Ij=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiListItemText"}),{children:o,className:i,disableTypography:s=!1,inset:l=!1,primary:c,primaryTypographyProps:u,secondary:d,secondaryTypographyProps:p,slots:f={},slotProps:m={}}=n,g=a(n,xj),{dense:v}=r.useContext(JM);let y=null!=c?c:o,b=d;const w=h(h({},n),{},{disableTypography:s,inset:l,primary:!!y,secondary:!!b,dense:v}),_=(e=>{const{classes:t,inset:n,primary:r,secondary:o,dense:i}=e;return fa({root:["root",n&&"inset",i&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},kj,t)})(w),S={slots:f,slotProps:h({primary:u,secondary:p},m)},[C,k]=cA("root",{className:mo(_.root,i),elementType:Tj,externalForwardedProps:h(h({},S),g),ownerState:w,ref:t}),[E,x]=cA("primary",{className:_.primary,elementType:JN,externalForwardedProps:S,ownerState:w}),[T,I]=cA("secondary",{className:_.secondary,elementType:JN,externalForwardedProps:S,ownerState:w});return null==y||y.type===JN||s||(y=(0,ns.jsx)(E,h(h({variant:v?"body2":"body1",component:null!==x&&void 0!==x&&x.variant?void 0:"span"},x),{},{children:y}))),null==b||b.type===JN||s||(b=(0,ns.jsx)(T,h(h({variant:"body2",color:"textSecondary"},I),{},{children:b}))),(0,ns.jsxs)(C,h(h({},k),{},{children:[y,b]}))}),Pj=Ij,Rj=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Nj=["ownerState"];function Aj(e,t,n){var r;const o=function(e,t,n){const r=t.getBoundingClientRect(),o=n&&n.getBoundingClientRect(),i=sD(t);let s;if(t.fakeTransform)s=t.fakeTransform;else{const e=i.getComputedStyle(t);s=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let a=0,l=0;if(s&&"none"!==s&&"string"===typeof s){const e=s.split("(")[1].split(")")[0].split(",");a=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?"translateX(".concat(o?o.right+a-r.left:i.innerWidth+a-r.left,"px)"):"right"===e?"translateX(-".concat(o?r.right-o.left-a:r.left+r.width-a,"px)"):"up"===e?"translateY(".concat(o?o.bottom+l-r.top:i.innerHeight+l-r.top,"px)"):"translateY(-".concat(o?r.top-o.top+r.height-l:r.top+r.height-l,"px)")}(e,t,"function"===typeof(r=n)?r():r);o&&(t.style.webkitTransform=o,t.style.transform=o)}const Oj=r.forwardRef(function(e,t){const n=FN(),o={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:s,appear:l=!0,children:c,container:u,direction:d="down",easing:p=o,in:f,onEnter:m,onEntered:g,onEntering:v,onExit:y,onExited:b,onExiting:w,style:_,timeout:S=i,TransitionComponent:C=kD}=e,k=a(e,Rj),E=r.useRef(null),x=fA(YM(c),E,t),T=e=>t=>{e&&(void 0===t?e(E.current):e(E.current,t))},I=T((e,t)=>{Aj(d,e,u),ED(e),m&&m(e,t)}),P=T((e,t)=>{const r=xD({timeout:S,style:_,easing:p},{mode:"enter"});e.style.webkitTransition=n.transitions.create("-webkit-transform",h({},r)),e.style.transition=n.transitions.create("transform",h({},r)),e.style.webkitTransform="none",e.style.transform="none",v&&v(e,t)}),R=T(g),N=T(w),A=T(e=>{const t=xD({timeout:S,style:_,easing:p},{mode:"exit"});e.style.webkitTransition=n.transitions.create("-webkit-transform",t),e.style.transition=n.transitions.create("transform",t),Aj(d,e,u),y&&y(e)}),O=T(e=>{e.style.webkitTransition="",e.style.transition="",b&&b(e)}),M=r.useCallback(()=>{E.current&&Aj(d,E.current,u)},[d,u]);return r.useEffect(()=>{if(f||"down"===d||"right"===d)return;const e=fD(()=>{E.current&&Aj(d,E.current,u)}),t=sD(E.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[d,f,u]),r.useEffect(()=>{f||M()},[f,M]),(0,ns.jsx)(C,h(h({nodeRef:E,onEnter:I,onEntered:R,onEntering:P,onExit:A,onExited:O,onExiting:N,addEndListener:e=>{s&&s(E.current,e)},appear:l,in:f,timeout:S},k),{},{children:(e,t)=>{let{ownerState:n}=t,o=a(t,Nj);return r.cloneElement(c,h({ref:x,style:h(h({visibility:"exited"!==e||f?void 0:"hidden"},_),c.props.style)},o))}}))}),Mj=Oj;function Dj(e){return aa("MuiDrawer",e)}la("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Lj=["BackdropProps"],Fj=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant","slots","slotProps"],jj=(e,t)=>{const{ownerState:n}=e;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},zj=Na(uL,{name:"MuiDrawer",slot:"Root",overridesResolver:jj})(Oa(e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.drawer}})),Uj=Na("div",{shouldForwardProp:Ra,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:jj})({flex:"0 0 auto"}),Vj=Na(BN,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["paperAnchor".concat(Da(n.anchor))],"temporary"!==n.variant&&t["paperAnchorDocked".concat(Da(n.anchor))]]}})(Oa(e=>{let{theme:t}=e;return{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:e=>{let{ownerState:t}=e;return"left"===t.anchor&&"temporary"!==t.variant},style:{borderRight:"1px solid ".concat((t.vars||t).palette.divider)}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchor&&"temporary"!==t.variant},style:{borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}},{props:e=>{let{ownerState:t}=e;return"right"===t.anchor&&"temporary"!==t.variant},style:{borderLeft:"1px solid ".concat((t.vars||t).palette.divider)}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchor&&"temporary"!==t.variant},style:{borderTop:"1px solid ".concat((t.vars||t).palette.divider)}}]}})),Bj={left:"right",right:"left",top:"down",bottom:"up"};const Wj=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiDrawer"}),o=FN(),i=ss(),s={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{anchor:l="left",BackdropProps:c,children:u,className:d,elevation:p=16,hideBackdrop:f=!1,ModalProps:{BackdropProps:m}={},onClose:g,open:v=!1,PaperProps:y={},SlideProps:b,TransitionComponent:w,transitionDuration:_=s,variant:S="temporary",slots:C={},slotProps:k={}}=n,E=a(n.ModalProps,Lj),x=a(n,Fj),T=r.useRef(!1);r.useEffect(()=>{T.current=!0},[]);const I=function(e,t){let{direction:n}=e;return"rtl"===n&&function(e){return["left","right"].includes(e)}(t)?Bj[t]:t}({direction:i?"rtl":"ltr"},l),P=l,R=h(h({},n),{},{anchor:P,elevation:p,open:v,variant:S},x),N=(e=>{const{classes:t,anchor:n,variant:r}=e;return fa({root:["root","anchor".concat(Da(n))],docked:[("permanent"===r||"persistent"===r)&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat(Da(n)),"temporary"!==r&&"paperAnchorDocked".concat(Da(n))]},Dj,t)})(R),A={slots:h({transition:w},C),slotProps:h(h({paper:y,transition:b},k),{},{backdrop:hL(k.backdrop||h(h({},c),m),{transitionDuration:_})})},[O,M]=cA("root",{ref:t,elementType:zj,className:mo(N.root,N.modal,d),shouldForwardComponentProp:!0,ownerState:R,externalForwardedProps:h(h(h({},A),x),E),additionalProps:{open:v,onClose:g,hideBackdrop:f,slots:{backdrop:A.slots.backdrop},slotProps:{backdrop:A.slotProps.backdrop}}}),[D,L]=cA("paper",{elementType:Vj,shouldForwardComponentProp:!0,className:mo(N.paper,y.className),ownerState:R,externalForwardedProps:A,additionalProps:h({elevation:"temporary"===S?p:0,square:!0},"temporary"===S&&{role:"dialog","aria-modal":"true"})}),[F,j]=cA("docked",{elementType:Uj,ref:t,className:mo(N.root,N.docked,d),ownerState:R,externalForwardedProps:A,additionalProps:x}),[z,U]=cA("transition",{elementType:Mj,ownerState:R,externalForwardedProps:A,additionalProps:{in:v,direction:Bj[I],timeout:_,appear:T.current}}),V=(0,ns.jsx)(D,h(h({},L),{},{children:u}));if("permanent"===S)return(0,ns.jsx)(F,h(h({},j),{},{children:V}));const B=(0,ns.jsx)(z,h(h({},U),{},{children:V}));return"persistent"===S?(0,ns.jsx)(F,h(h({},j),{},{children:B})):(0,ns.jsx)(O,h(h({},M),{},{children:B}))}),qj=Wj;function Hj(e){return aa("MuiAppBar",e)}la("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Kj=["className","color","enableColorOnDark","position"],Gj=(e,t)=>e?"".concat(null===e||void 0===e?void 0:e.replace(")",""),", ").concat(t,")"):t,Yj=Na(BN,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat(Da(n.position))],t["color".concat(Da(n.color))]]}})(Oa(e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:h({"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100])},t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])}))},...Object.entries(t.palette).filter(La(["contrastText"])).map(e=>{var n,r;let[o]=e;return{props:{color:o},style:{"--AppBar-background":(null!==(n=t.vars)&&void 0!==n?n:t).palette[o].main,"--AppBar-color":(null!==(r=t.vars)&&void 0!==r?r:t).palette[o].contrastText}}}),{props:e=>!0===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>!1===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:h({backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"},t.applyStyles("dark",{backgroundColor:t.vars?Gj(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?Gj(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null}))},{props:{color:"transparent"},style:h({"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"},t.applyStyles("dark",{backgroundImage:"none"}))}]}})),Qj=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiAppBar"}),{className:r,color:o="primary",enableColorOnDark:i=!1,position:s="fixed"}=n,l=a(n,Kj),c=h(h({},n),{},{color:o,position:s,enableColorOnDark:i}),u=(e=>{const{color:t,position:n,classes:r}=e;return fa({root:["root","color".concat(Da(t)),"position".concat(Da(n))]},Hj,r)})(c);return(0,ns.jsx)(Yj,h({square:!0,component:"header",ownerState:c,elevation:4,className:mo(u.root,r,"fixed"===s&&"mui-fixed"),ref:t},l))}),$j=Qj,Xj=dO((0,ns.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function Jj(e){return aa("MuiChip",e)}const Zj=la("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),ez=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled","slots","slotProps"],tz=Na("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:o,clickable:i,onDelete:s,size:a,variant:l}=n;return[{["& .".concat(Zj.avatar)]:t.avatar},{["& .".concat(Zj.avatar)]:t["avatar".concat(Da(a))]},{["& .".concat(Zj.avatar)]:t["avatarColor".concat(Da(r))]},{["& .".concat(Zj.icon)]:t.icon},{["& .".concat(Zj.icon)]:t["icon".concat(Da(a))]},{["& .".concat(Zj.icon)]:t["iconColor".concat(Da(o))]},{["& .".concat(Zj.deleteIcon)]:t.deleteIcon},{["& .".concat(Zj.deleteIcon)]:t["deleteIcon".concat(Da(a))]},{["& .".concat(Zj.deleteIcon)]:t["deleteIconColor".concat(Da(r))]},{["& .".concat(Zj.deleteIcon)]:t["deleteIcon".concat(Da(l),"Color").concat(Da(r))]},t.root,t["size".concat(Da(a))],t["color".concat(Da(r))],i&&t.clickable,i&&"default"!==r&&t["clickableColor".concat(Da(r),")")],s&&t.deletable,s&&"default"!==r&&t["deletableColor".concat(Da(r))],t[l],t["".concat(l).concat(Da(r))]]}})(Oa(e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",["&.".concat(Zj.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["& .".concat(Zj.avatar)]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},["& .".concat(Zj.avatarColorPrimary)]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},["& .".concat(Zj.avatarColorSecondary)]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},["& .".concat(Zj.avatarSmall)]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},["& .".concat(Zj.icon)]:{marginLeft:5,marginRight:-6},["& .".concat(Zj.deleteIcon)]:{WebkitTapHighlightColor:"transparent",color:t.alpha((t.vars||t).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.alpha((t.vars||t).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,["& .".concat(Zj.icon)]:{fontSize:18,marginLeft:4,marginRight:-4},["& .".concat(Zj.deleteIcon)]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(La(["contrastText"])).map(e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,["& .".concat(Zj.deleteIcon)]:{color:t.alpha((t.vars||t).palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}}}),{props:e=>e.iconColor===e.color,style:{["& .".concat(Zj.icon)]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:n}}},{props:e=>e.iconColor===e.color&&"default"!==e.color,style:{["& .".concat(Zj.icon)]:{color:"inherit"}}},{props:{onDelete:!0},style:{["&.".concat(Zj.focusVisible)]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.focusOpacity))}}},...Object.entries(t.palette).filter(La(["dark"])).map(e=>{let[n]=e;return{props:{color:n,onDelete:!0},style:{["&.".concat(Zj.focusVisible)]:{background:(t.vars||t).palette[n].dark}}}}),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.hoverOpacity))},["&.".concat(Zj.focusVisible)]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.focusOpacity))},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(La(["dark"])).map(e=>{let[n]=e;return{props:{color:n,clickable:!0},style:{["&:hover, &.".concat(Zj.focusVisible)]:{backgroundColor:(t.vars||t).palette[n].dark}}}}),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?"1px solid ".concat(t.vars.palette.Chip.defaultBorder):"1px solid ".concat("light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]),["&.".concat(Zj.clickable,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(Zj.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["& .".concat(Zj.avatar)]:{marginLeft:4},["& .".concat(Zj.avatarSmall)]:{marginLeft:2},["& .".concat(Zj.icon)]:{marginLeft:4},["& .".concat(Zj.iconSmall)]:{marginLeft:2},["& .".concat(Zj.deleteIcon)]:{marginRight:5},["& .".concat(Zj.deleteIconSmall)]:{marginRight:3}}},...Object.entries(t.palette).filter(La()).map(e=>{let[n]=e;return{props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:"1px solid ".concat(t.alpha((t.vars||t).palette[n].main,.7)),["&.".concat(Zj.clickable,":hover")]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)},["&.".concat(Zj.focusVisible)]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.focusOpacity)},["& .".concat(Zj.deleteIcon)]:{color:t.alpha((t.vars||t).palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}})]}})),nz=Na("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t["label".concat(Da(r))]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function rz(e){return"Backspace"===e.key||"Delete"===e.key}const oz=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiChip"}),{avatar:o,className:i,clickable:s,color:l="default",component:c,deleteIcon:u,disabled:d=!1,icon:p,label:f,onClick:m,onDelete:g,onKeyDown:v,onKeyUp:y,size:b="medium",variant:w="filled",tabIndex:_,skipFocusWhenDisabled:S=!1,slots:C={},slotProps:k={}}=n,E=a(n,ez),x=r.useRef(null),T=fA(x,t),I=e=>{e.stopPropagation(),g&&g(e)},P=!(!1===s||!m)||s,R=P||g?JA:c||"div",N=h(h({},n),{},{component:R,disabled:d,size:b,color:l,iconColor:r.isValidElement(p)&&p.props.color||l,onDelete:!!g,clickable:P,variant:w}),A=(e=>{const{classes:t,disabled:n,size:r,color:o,iconColor:i,onDelete:s,clickable:a,variant:l}=e;return fa({root:["root",l,n&&"disabled","size".concat(Da(r)),"color".concat(Da(o)),a&&"clickable",a&&"clickableColor".concat(Da(o)),s&&"deletable",s&&"deletableColor".concat(Da(o)),"".concat(l).concat(Da(o))],label:["label","label".concat(Da(r))],avatar:["avatar","avatar".concat(Da(r)),"avatarColor".concat(Da(o))],icon:["icon","icon".concat(Da(r)),"iconColor".concat(Da(i))],deleteIcon:["deleteIcon","deleteIcon".concat(Da(r)),"deleteIconColor".concat(Da(o)),"deleteIcon".concat(Da(l),"Color").concat(Da(o))]},Jj,t)})(N),O=R===JA?h({component:c||"div",focusVisibleClassName:A.focusVisible},g&&{disableRipple:!0}):{};let M=null;g&&(M=u&&r.isValidElement(u)?r.cloneElement(u,{className:mo(u.props.className,A.deleteIcon),onClick:I}):(0,ns.jsx)(Xj,{className:A.deleteIcon,onClick:I}));let D=null;o&&r.isValidElement(o)&&(D=r.cloneElement(o,{className:mo(A.avatar,o.props.className)}));let L=null;p&&r.isValidElement(p)&&(L=r.cloneElement(p,{className:mo(A.icon,p.props.className)}));const F={slots:C,slotProps:k},[j,z]=cA("root",{elementType:tz,externalForwardedProps:h(h({},F),E),ownerState:N,shouldForwardComponentProp:!0,ref:T,className:mo(A.root,i),additionalProps:h({disabled:!(!P||!d)||void 0,tabIndex:S&&d?-1:_},O),getSlotProps:e=>h(h({},e),{},{onClick:t=>{var n;null===(n=e.onClick)||void 0===n||n.call(e,t),null===m||void 0===m||m(t)},onKeyDown:t=>{var n;null===(n=e.onKeyDown)||void 0===n||n.call(e,t),(e=>{e.currentTarget===e.target&&rz(e)&&e.preventDefault(),v&&v(e)})(t)},onKeyUp:t=>{var n;null===(n=e.onKeyUp)||void 0===n||n.call(e,t),(e=>{e.currentTarget===e.target&&g&&rz(e)&&g(e),y&&y(e)})(t)}})}),[U,V]=cA("label",{elementType:nz,externalForwardedProps:F,ownerState:N,className:A.label});return(0,ns.jsxs)(j,h(h({as:R},z),{},{children:[D||L,(0,ns.jsx)(U,h(h({},V),{},{children:f})),M]}))}),iz=oz;function sz(e){return aa("MuiMenuItem",e)}const az=la("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),lz=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],cz=Na(JA,{shouldForwardProp:e=>Ra(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(Oa(e=>{let{theme:t}=e;return h(h({},t.typography.body1),{},{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(az.selected)]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),["&.".concat(az.focusVisible)]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.focusOpacity))}},["&.".concat(az.selected,":hover")]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.hoverOpacity)),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},["&.".concat(az.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(az.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(HF.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(HF.inset)]:{marginLeft:52},["& .".concat(Ej.root)]:{marginTop:0,marginBottom:0},["& .".concat(Ej.inset)]:{paddingLeft:36},["& .".concat(dj.root)]:{minWidth:36},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return!t.dense},style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:e=>{let{ownerState:t}=e;return t.dense},style:h(h({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2),{},{["& .".concat(dj.root," svg")]:{fontSize:"1.25rem"}})}]})})),uz=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:i="li",dense:s=!1,divider:l=!1,disableGutters:c=!1,focusVisibleClassName:u,role:d="menuitem",tabIndex:p,className:f}=n,m=a(n,lz),g=r.useContext(JM),v=r.useMemo(()=>({dense:s||g.dense||!1,disableGutters:c}),[g.dense,s,c]),y=r.useRef(null);FO(()=>{o&&y.current&&y.current.focus()},[o]);const b=h(h({},n),{},{dense:v.dense,divider:l,disableGutters:c}),w=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:o,selected:i,classes:s}=e,a=fa({root:["root",n&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",i&&"selected"]},sz,s);return h(h({},s),a)})(n),_=fA(y,t);let S;return n.disabled||(S=void 0!==p?p:-1),(0,ns.jsx)(JM.Provider,{value:v,children:(0,ns.jsx)(cz,h(h({ref:_,role:d,tabIndex:S,component:i,focusVisibleClassName:mo(w.focusVisible,u),className:mo(w.root,f)},m),{},{ownerState:b,classes:w}))})}),dz=uz,hz=dO((0,ns.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"})),pz=dO((0,ns.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"})),fz=dO((0,ns.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),mz=dO((0,ns.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"})),gz=dO((0,ns.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),vz=dO((0,ns.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"})),yz={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},bz={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},wz="mousemove",_z="mouseup";function Sz(e,t){if(0===t)return e;const n=Math.PI/180*t;return[e[0]*Math.cos(n)+e[1]*Math.sin(n),e[1]*Math.cos(n)-e[0]*Math.sin(n)]}function Cz(e,t){const n=t=>{const n="touches"in t;n&&t.touches.length>1||e((e,o)=>{o.trackMouse&&!n&&(document.addEventListener(wz,r),document.addEventListener(_z,i));const{clientX:s,clientY:a}=n?t.touches[0]:t,l=Sz([s,a],o.rotationAngle);return o.onTouchStartOrOnMouseDown&&o.onTouchStartOrOnMouseDown({event:t}),Object.assign(Object.assign(Object.assign({},e),bz),{initial:l.slice(),xy:l,start:t.timeStamp||0})})},r=t=>{e((e,n)=>{const r="touches"in t;if(r&&t.touches.length>1)return e;if(t.timeStamp-e.start>n.swipeDuration)return e.swiping?Object.assign(Object.assign({},e),{swiping:!1}):e;const{clientX:o,clientY:i}=r?t.touches[0]:t,[s,a]=Sz([o,i],n.rotationAngle),l=s-e.xy[0],c=a-e.xy[1],u=Math.abs(l),d=Math.abs(c),h=(t.timeStamp||0)-e.start,p=Math.sqrt(u*u+d*d)/(h||1),f=[l/(h||1),c/(h||1)],m=function(e,t,n,r){return e>t?n>0?"Right":"Left":r>0?"Down":"Up"}(u,d,l,c),g="number"===typeof n.delta?n.delta:n.delta[m.toLowerCase()]||yz.delta;if(u<g&&d<g&&!e.swiping)return e;const v={absX:u,absY:d,deltaX:l,deltaY:c,dir:m,event:t,first:e.first,initial:e.initial,velocity:p,vxvy:f};v.first&&n.onSwipeStart&&n.onSwipeStart(v),n.onSwiping&&n.onSwiping(v);let y=!1;return(n.onSwiping||n.onSwiped||n["onSwiped".concat(m)])&&(y=!0),y&&n.preventScrollOnSwipe&&n.trackTouch&&t.cancelable&&t.preventDefault(),Object.assign(Object.assign({},e),{first:!1,eventData:v,swiping:!0})})},o=t=>{e((e,n)=>{let r;if(e.swiping&&e.eventData){if(t.timeStamp-e.start<n.swipeDuration){r=Object.assign(Object.assign({},e.eventData),{event:t}),n.onSwiped&&n.onSwiped(r);const o=n["onSwiped".concat(r.dir)];o&&o(r)}}else n.onTap&&n.onTap({event:t});return n.onTouchEndOrOnMouseUp&&n.onTouchEndOrOnMouseUp({event:t}),Object.assign(Object.assign(Object.assign({},e),bz),{eventData:r})})},i=e=>{document.removeEventListener(wz,r),document.removeEventListener(_z,i),o(e)},s=(e,t)=>{let i=()=>{};if(e&&e.addEventListener){const s=Object.assign(Object.assign({},yz.touchEventOptions),t.touchEventOptions),a=[["touchstart",n,s],["touchmove",r,Object.assign(Object.assign({},s),t.preventScrollOnSwipe?{passive:!1}:{})],["touchend",o,s]];a.forEach(t=>{let[n,r,o]=t;return e.addEventListener(n,r,o)}),i=()=>a.forEach(t=>{let[n,r]=t;return e.removeEventListener(n,r)})}return i},a={ref:t=>{null!==t&&e((e,n)=>{if(e.el===t)return e;const r={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),r.cleanUpTouch=void 0),n.trackTouch&&t&&(r.cleanUpTouch=s(t,n)),Object.assign(Object.assign(Object.assign({},e),{el:t}),r)})}};return t.trackMouse&&(a.onMouseDown=n),[a,s]}function kz(e){const{trackMouse:t}=e,n=r.useRef(Object.assign({},bz)),o=r.useRef(Object.assign({},yz)),i=r.useRef(Object.assign({},o.current));let s;for(s in i.current=Object.assign({},o.current),o.current=Object.assign(Object.assign({},yz),e),yz)void 0===o.current[s]&&(o.current[s]=yz[s]);const[a,l]=r.useMemo(()=>Cz(e=>n.current=e(n.current,o.current),{trackMouse:t}),[t]);return n.current=function(e,t,n,r){return t.trackTouch&&e.el?e.cleanUpTouch?t.preventScrollOnSwipe!==n.preventScrollOnSwipe||t.touchEventOptions.passive!==n.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)}):(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0}))}(n.current,o.current,i.current,l),a}var Ez=(e=>(e.Mouse="mouse",e.Touch="touch",e.Pointer="pointer",e))(Ez||{}),xz=(e=>(e.CancelledByMovement="cancelled-by-movement",e.CancelledByRelease="cancelled-by-release",e.CancelledOutsideElement="cancelled-outside-element",e))(xz||{});const Tz=["mousedown","mousemove","mouseup","mouseleave","mouseout"],Iz=["touchstart","touchmove","touchend","touchcancel"],Pz=["pointerdown","pointermove","pointerup","pointerleave","pointerout"];function Rz(e){var t;return Iz.includes(null==(t=null==e?void 0:e.nativeEvent)?void 0:t.type)||"touches"in e}function Nz(e){return function(e){var t;return Tz.includes(null==(t=null==e?void 0:e.nativeEvent)?void 0:t.type)}(e)||Rz(e)||function(e){const{nativeEvent:t}=e;return!!t&&(Pz.includes(null==t?void 0:t.type)||"pointerId"in t)}(e)}function Az(e){var t;const n=Rz(e)?null==(t=null==e?void 0:e.touches)?void 0:t[0]:e;return function(e){return"object"==typeof e&&null!==e&&"pageX"in e&&"number"==typeof e.pageX&&"pageY"in e&&"number"==typeof e.pageY}(n)?{x:n.pageX,y:n.pageY}:null}const Oz=dO((0,ns.jsx)("path",{d:"m18 7-1.41-1.41-6.34 6.34 1.41 1.41zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12zM.41 13.41 6 19l1.41-1.41L1.83 12z"})),Mz=dO((0,ns.jsx)("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"})),Dz=e=>{var t,n;let{msg:o,user:i,users:s,onContextMenu:a,onReply:l}=e;const c=FN(),[u,d]=(0,r.useState)(!1),p=kz({onSwipedRight:()=>{l(o),d(!0),setTimeout(()=>d(!1),300)},preventDefaultTouchmoveEvent:!0,trackMouse:!0}),f=function(e){let{threshold:t=400,captureEvent:n=!1,detect:o=Ez.Pointer,cancelOnMovement:i=!1,cancelOutsideElement:s=!0,filterEvents:a,onStart:l,onMove:c,onFinish:u,onCancel:d}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const h=(0,r.useRef)(!1),p=(0,r.useRef)(!1),f=(0,r.useRef)(),m=(0,r.useRef)(),g=(0,r.useRef)(e),v=(0,r.useRef)(null),y=(0,r.useCallback)(e=>r=>{p.current||Nz(r)&&(void 0!==a&&!a(r)||(n&&r.persist(),null==l||l(r,{context:e}),v.current=Az(r),p.current=!0,f.current=r.currentTarget,m.current=setTimeout(()=>{g.current&&(g.current(r,{context:e}),h.current=!0)},t)))},[n,a,l,t]),b=(0,r.useCallback)(e=>(t,r)=>{Nz(t)&&p.current&&(v.current=null,n&&t.persist(),h.current?null==u||u(t,{context:e}):p.current&&(null==d||d(t,{context:e,reason:null!==r&&void 0!==r?r:xz.CancelledByRelease})),h.current=!1,p.current=!1,void 0!==m.current&&clearTimeout(m.current))},[n,u,d]),w=(0,r.useCallback)(e=>t=>{if(Nz(t)&&(null==c||c(t,{context:e}),!1!==i&&v.current)){const n=Az(t);if(n){const r=!0===i?25:i,o={x:Math.abs(n.x-v.current.x),y:Math.abs(n.y-v.current.y)};(o.x>r||o.y>r)&&b(e)(t,xz.CancelledByMovement)}}},[b,i,c]),_=(0,r.useCallback)(t=>{if(null===e)return{};switch(o){case Ez.Mouse:{const e={onMouseDown:y(t),onMouseMove:w(t),onMouseUp:b(t)};return s&&(e.onMouseLeave=e=>{b(t)(e,xz.CancelledOutsideElement)}),e}case Ez.Touch:return{onTouchStart:y(t),onTouchMove:w(t),onTouchEnd:b(t)};case Ez.Pointer:{const e={onPointerDown:y(t),onPointerMove:w(t),onPointerUp:b(t)};return s&&(e.onPointerLeave=e=>b(t)(e,xz.CancelledOutsideElement)),e}}},[e,b,s,o,w,y]);return(0,r.useEffect)(()=>{function e(e){const t=function(e){return{target:e.target,currentTarget:e.currentTarget,nativeEvent:e,persist:()=>{}}}(e);b()(t)}return window.addEventListener("mouseup",e),window.addEventListener("touchend",e),window.addEventListener("pointerup",e),()=>{window.removeEventListener("mouseup",e),window.removeEventListener("touchend",e),window.removeEventListener("pointerup",e)}},[b]),(0,r.useEffect)(()=>()=>{void 0!==m.current&&clearTimeout(m.current)},[]),(0,r.useEffect)(()=>{g.current=e},[e]),_}(e=>{a(e,o)});return(0,ns.jsx)(ha,h(h(h({sx:{display:"flex",justifyContent:o.senderId===i.uid?"flex-end":"flex-start",mb:1.5,transition:"transform 0.2s ease-in-out",transform:u?"translateX(20px) rotate(1deg)":"translateX(0) rotate(0deg)"},onContextMenu:e=>a(e,o)},p),f),{},{children:(0,ns.jsxs)(BN,{elevation:0,sx:{p:1.2,px:2,background:o.senderId===i.uid?c.palette.primary.main:c.palette.secondary.main,color:c.palette.primary.contrastText,borderRadius:o.senderId===i.uid?"18px 18px 6px 18px":"18px 18px 18px 6px",maxWidth:"70%",boxShadow:c.shadows[1],fontSize:16,fontWeight:400,transition:"background 0.2s"},children:[o.replyTo&&(0,ns.jsxs)(ha,{sx:{mb:1,p:1,borderLeft:"3px solid ".concat(c.palette.primary.contrastText),opacity:.8},children:[(0,ns.jsx)(JN,{variant:"caption",sx:{fontWeight:"bold"},children:(null===(t=s.find(e=>e.uid===o.replyTo.senderId))||void 0===t?void 0:t.displayName)||"User"}),(0,ns.jsx)(JN,{variant:"body2",sx:{fontStyle:"italic"},children:o.replyTo.text})]}),(0,ns.jsx)(JN,{variant:"body1",sx:{fontWeight:500,pb:1},children:o.text}),(0,ns.jsxs)(ha,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",mt:.5},children:[(0,ns.jsx)(JN,{variant:"caption",sx:{color:c.palette.primary.contrastText,mr:.5},children:null===(n=o.timestamp)||void 0===n?void 0:n.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),o.senderId===i.uid&&(o.read?(0,ns.jsx)(Oz,{fontSize:"inherit",sx:{color:"#4fc3f7"}}):(0,ns.jsx)(Mz,{fontSize:"inherit"}))]})]})}))},Lz=e=>{let t=0;for(let r=0;r<e.length;r+=1)t=e.charCodeAt(r)+((t<<5)-t);let n="#";for(let r=0;r<3;r+=1){n+="00".concat((t>>8*r&255).toString(16)).slice(-2)}return n},Fz=e=>{const t=e||"";return{sx:{bgcolor:Lz(t)},children:"".concat((t.split(" ")[0][0]||"").toUpperCase())}},jz=e=>{const t=new Date,n=new Date(t);return n.setDate(n.getDate()-1),e.toDateString()===t.toDateString()?"Today":e.toDateString()===n.toDateString()?"Yesterday":e.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})},zz=Na(jF)(e=>{let{theme:t,status:n}=e;return{"& .MuiBadge-badge":{backgroundColor:"online"===n?"#44b700":"#9e9e9e",color:"online"===n?"#44b700":"#9e9e9e",boxShadow:"0 0 0 2px ".concat(t.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",content:'""'}}}}),Uz=Na(TF)(e=>{let{theme:t}=e;return{borderRadius:"50%",width:"48px",height:"48px",minWidth:0,background:t.palette.primary.main,color:t.palette.primary.contrastText,boxShadow:t.shadows[2],transition:"transform 0.2s","&:hover":{background:t.palette.primary.dark,transform:"scale(1.1)"}}}),Vz=Na(fF)(e=>{let{theme:t}=e;return{"& .MuiOutlinedInput-root":{borderRadius:"25px",background:t.palette.background.default,fontSize:16,fontWeight:400,boxShadow:"none",transition:"box-shadow 0.2s","&:hover":{boxShadow:"0 0 10px rgba(0,0,0,0.2)"}}}});const Bz=function(e){var t,n;let{user:o}=e;const{userId:i}=ye(),s=ve(),[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(null),[d,p]=(0,r.useState)([]),[f,m]=(0,r.useState)([]),[g,v]=(0,r.useState)(!1),[y,b]=(0,r.useState)([]),[w,_]=(0,r.useState)(!0),[S,C]=(0,r.useState)({}),[k,E]=(0,r.useState)({}),[x,T]=(0,r.useState)(null),[I,P]=(0,r.useState)(null),R=(0,r.useRef)(null),N=(0,r.useRef)(null),A=(0,r.useRef)(null),O=(0,r.useRef)(null),M=FN(),D=Ji(M.breakpoints.down("sm")),[L,F]=(0,r.useState)(!D);(0,r.useEffect)(()=>{if(i){HP(VI(TN,"users",i)).then(e=>{e.exists()?u(e.data()):(console.log("No such document!"),u(null))})}else u(null)},[i]),(0,r.useEffect)(()=>{const e=(e=>{if(!e.length)return[];const t=[];let n=null;return e.forEach(e=>{var r;if(null!==(r=e.timestamp)&&void 0!==r&&r.toDate){const r=e.timestamp.toDate();n&&r.toDateString()===n.toDateString()||(t.push({type:"date",date:r,id:r.getTime()}),n=r)}t.push(h({type:"message"},e))}),t})(d);m(e)},[d]),(0,r.useEffect)(()=>{if(!o||!c)return void v(!1);const e=[o.uid,c.uid].sort().join("_"),t=Bb(Db(IN,"/privateTyping/".concat(e,"/").concat(c.uid)),e=>{v(!!e.val())});return()=>t()},[o,c]),(0,r.useEffect)(()=>{if(!o||!c)return;const e=[o.uid,c.uid].sort().join("_"),t=Db(IN,"/privateTyping/".concat(e,"/").concat(o.uid));return R.current&&clearTimeout(R.current),a?(jb(t,!0),Fb(t).set(!1),R.current=setTimeout(()=>jb(t,!1),2e3)):jb(t,!1),()=>{R.current&&clearTimeout(R.current),c&&jb(t,!1)}},[a,o,c]),(0,r.useEffect)(()=>{if(!o)return;const e=QP(IP(UI(TN,"users"),RP("uid","!=",o.uid)),e=>{const t=e.docs.map(e=>e.data());b(t),_(!1),t.forEach(e=>{Bb(Db(IN,"/status/".concat(e.uid)),t=>{const n=t.val();C(t=>h(h({},t),{},{[e.uid]:n}))})})});return()=>e()},[o]),(0,r.useEffect)(()=>{if(!o||!c)return void p([]);const e=[o.uid,c.uid].sort().join("_"),t=QP(IP(UI(TN,"privateMessages",e,"messages"),OP("timestamp","asc")),e=>{const t=e.docs.map(e=>h({id:e.id},e.data()));p(t);const n=(GI(r=Zw(r=TN,KI)),new JP(r,e=>$P(r,e)));var r;const i=e.docs.filter(e=>e.data().receiverId===o.uid&&!e.data().read);i.length>0&&(i.forEach(e=>n.update(e.ref,{read:!0})),n.commit())});return()=>t()},[o,c]),(0,r.useEffect)(()=>{if(!o||0===y.length)return;const e=y.map(e=>{const t=[o.uid,e.uid].sort().join("_");return QP(IP(UI(TN,"privateMessages",t,"messages"),RP("receiverId","==",o.uid),RP("read","==",!1)),t=>{E(n=>h(h({},n),{},{[e.uid]:t.size}))})});return()=>e.forEach(e=>e())},[y,o]),(0,r.useEffect)(()=>{var e;null===(e=N.current)||void 0===e||e.scrollIntoView({behavior:"auto"})},[f,g]),(0,r.useEffect)(()=>{if("undefined"!==typeof window.visualViewport){const e=()=>{O.current&&O.current.scrollIntoView({behavior:"smooth",block:"end"})};return window.visualViewport.addEventListener("resize",e),()=>{window.visualViewport.removeEventListener("resize",e)}}},[]);const j=async(e,t)=>{try{console.log("\ud83d\udd14 Sending notification for:",e.displayName);const n={receiverId:e.uid,senderId:o.uid,senderName:o.displayName||"Someone",message:t,timestamp:eR(),read:!1,type:"message"};if(await YP(UI(TN,"notifications"),n),console.log("\u2705 Notification stored in Firestore"),"serviceWorker"in navigator&&navigator.serviceWorker.controller){(await navigator.serviceWorker.ready).showNotification("\u2705 Message from ".concat(o.displayName||"Someone"),{body:t,icon:"/logo192.png",tag:"message-received"})}else console.warn("Service worker not available for notifications.")}catch(Df){console.error("\u274c Error sending notification:",Df)}},z=async e=>{if(!c||!e)return;const t=[o.uid,c.uid].sort().join("_"),n=VI(TN,"privateMessages",t,"messages",e.id);try{await(r=n,$P(Zw(r.firestore,KI),[new Ik(r._key,mk.none())]))}catch(Df){console.error("Error deleting message: ",Df)}var r},U=(e,t)=>{e.preventDefault(),P(null===I?{mouseX:e.clientX-2,mouseY:e.clientY-4,message:t}:null)},V=()=>P(null),B=e=>{T(e),V()},W=(0,ns.jsxs)(ha,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,ns.jsx)(WF,{children:(0,ns.jsx)(JN,{variant:"h6",noWrap:!0,component:"div",children:"Chats"})}),(0,ns.jsx)($F,{}),w?(0,ns.jsx)(ha,{sx:{display:"flex",justifyContent:"center",p:2},children:(0,ns.jsx)(Ja,{})}):(0,ns.jsx)(rD,{sx:{flexGrow:1,overflowY:"auto"},children:y.map(e=>{var t,n;return(0,ns.jsxs)(cj,{button:!0,selected:(null===c||void 0===c?void 0:c.uid)===e.uid,onClick:()=>{s("/chat/".concat(e.uid)),D&&F(!1)},children:[(0,ns.jsx)(mj,{children:(0,ns.jsx)(jF,{overlap:"circular",anchorOrigin:{vertical:"top",horizontal:"right"},badgeContent:k[e.uid]||0,color:"error",children:(0,ns.jsx)(zz,{status:(null===(t=S[e.uid])||void 0===t?void 0:t.state)||"offline",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:(0,ns.jsx)(Cj,h({src:e.photoURL},Fz(e.displayName)))})})}),(0,ns.jsx)(Pj,{primary:(0,ns.jsxs)(ha,{sx:{display:"flex",alignItems:"center"},children:[(0,ns.jsx)(JN,{component:"span",variant:"body1",sx:{fontWeight:"bold"},children:e.displayName||e.email}),(0,ns.jsxs)(JN,{component:"span",variant:"caption",sx:{ml:1,color:M.palette.text.secondary},children:["(",(null===(n=S[e.uid])||void 0===n?void 0:n.state)||"offline",")"]})]})})]},e.uid)})}),(0,ns.jsxs)(ha,{children:[(0,ns.jsx)($F,{}),(0,ns.jsxs)(cj,{button:!0,component:wt,to:"/profile",children:[(0,ns.jsx)(mj,{children:(0,ns.jsx)(hz,{})}),(0,ns.jsx)(Pj,{primary:"Profile"})]}),(0,ns.jsxs)(cj,{button:!0,onClick:()=>Gh(xN),children:[(0,ns.jsx)(mj,{children:(0,ns.jsx)(pz,{})}),(0,ns.jsx)(Pj,{primary:"Logout"})]})]})]});return(0,ns.jsxs)(ha,{sx:{display:"flex",height:"100vh",backgroundColor:M.palette.background.default},children:[(0,ns.jsx)(qj,{variant:D?"temporary":"persistent",open:L,onClose:()=>F(!1),sx:{width:260,flexShrink:0,"& .MuiDrawer-paper":{width:260,boxSizing:"border-box",backgroundColor:"dark"===M.palette.mode?"rgba(48, 47, 53, 0.5)":"#f8fafc",borderRight:"none",boxShadow:M.shadows[2]}},children:W}),(0,ns.jsxs)(ha,{component:"main",sx:{flexGrow:1,display:"flex",flexDirection:"column",height:"100vh",maxHeight:"100vh",overflow:"hidden"},children:[(0,ns.jsx)($j,{position:"static",elevation:0,sx:{background:"dark"===M.palette.mode?"rgba(48, 47, 53, 0.5)":"rgba(255,255,255,0.85)",color:M.palette.text.primary,borderRadius:"0 0 18px 18px",boxShadow:M.shadows[2],width:"100%",mx:"auto"},children:(0,ns.jsxs)(WF,{children:[D&&(0,ns.jsx)(iO,{color:"inherit",onClick:()=>s("/"),edge:"start",sx:{mr:2},children:(0,ns.jsx)(fz,{})}),!D&&!L&&(0,ns.jsx)(iO,{color:"inherit",onClick:()=>F(!0),edge:"start",sx:{mr:2},children:(0,ns.jsx)(mz,{})}),c&&(0,ns.jsx)(Cj,h({src:c.photoURL,sx:{mr:2,fontWeight:700,fontSize:20,boxShadow:2}},Fz(c.displayName))),(0,ns.jsxs)(ha,{sx:{flexGrow:1},children:[(0,ns.jsx)(JN,{variant:"h6",sx:{fontWeight:600,lineHeight:1.2},children:c?c.displayName||c.email:"Select a user"}),g&&(0,ns.jsx)(JN,{variant:"caption",sx:{color:M.palette.text.secondary},children:"typing..."})]})]})}),(0,ns.jsxs)(BN,{elevation:0,sx:{flexGrow:1,width:"100%",mx:"auto",my:0,p:{xs:1,sm:2},background:"transparent",borderRadius:0,boxShadow:"none",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,ns.jsxs)(ha,{sx:{flexGrow:1,overflowY:"auto",p:1},onContextMenu:e=>e.preventDefault(),children:[c?(0,ns.jsx)(ns.Fragment,{children:f.map(e=>{if("date"===e.type)return(0,ns.jsx)(ha,{sx:{display:"flex",justifyContent:"center",my:2},children:(0,ns.jsx)(iz,{label:jz(e.date)})},e.id);const t=e;return(0,ns.jsx)(Dz,{msg:t,user:o,users:y,onContextMenu:U,onReply:B},t.id)})}):(0,ns.jsx)(ha,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,ns.jsx)(JN,{variant:"h5",color:"text.secondary",sx:{fontWeight:400},children:"Select a user to start chatting"})}),(0,ns.jsx)("div",{ref:N})]}),c&&(0,ns.jsxs)(BN,{elevation:0,sx:{p:2,background:M.palette.background.paper,boxShadow:"0 -2px 10px rgba(0,0,0,0.05)"},children:[x&&(0,ns.jsxs)(ha,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:1,mb:1,background:M.palette.background.default,borderRadius:"12px"},children:[(0,ns.jsxs)(ha,{children:[(0,ns.jsxs)(JN,{variant:"caption",color:"text.secondary",children:["Replying to ",(0,ns.jsx)("strong",{children:(null===(t=y.find(e=>e.uid===x.senderId))||void 0===t?void 0:t.displayName)||"User"})]}),(0,ns.jsx)(JN,{variant:"body2",sx:{fontStyle:"italic"},children:x.text})]}),(0,ns.jsx)(iO,{onClick:()=>T(null),size:"small",children:(0,ns.jsx)(gz,{})})]}),(0,ns.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!a.trim()||!c)return;const t=a;l("");const n=[o.uid,c.uid].sort().join("_"),r=UI(TN,"privateMessages",n,"messages");try{const e={text:t,senderId:o.uid,receiverId:c.uid,timestamp:eR(),read:!1};x&&(e.replyTo={id:x.id,text:x.text,senderId:x.senderId},T(null)),await YP(r,e),await j(c,t),A.current&&A.current.blur()}catch(Df){console.error("Error sending message: ",Df),l(t)}},style:{display:"flex",alignItems:"center"},children:[(0,ns.jsx)(Vz,{fullWidth:!0,variant:"outlined",placeholder:"Type a message...",value:a,onChange:e=>l(e.target.value),autoComplete:"off",inputRef:O}),(0,ns.jsx)(Uz,{type:"submit",variant:"contained",disabled:!a.trim(),children:(0,ns.jsx)(vz,{})})]})]})]}),(0,ns.jsxs)(AL,{open:null!==I,onClose:V,anchorReference:"anchorPosition",anchorPosition:null!==I?{top:I.mouseY,left:I.mouseX}:void 0,children:[(0,ns.jsx)(dz,{onClick:()=>B(I.message),children:"Reply"}),(null===I||void 0===I||null===(n=I.message)||void 0===n?void 0:n.senderId)===o.uid&&(0,ns.jsx)(dz,{onClick:()=>{I&&z(I.message),V()},children:"Delete"})]})]})]})};const Wz=function(){const e=xN.currentUser,t=ve(),{userId:n}=ye(),[o,i]=(0,r.useState)(null),[s,a]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[p,f]=(0,r.useState)(!0),[m,g]=(0,r.useState)(""),[v,y]=(0,r.useState)("");(0,r.useEffect)(()=>{(async()=>{if(!e)return void t("/login");const r=n||e.uid;try{const e=await HP(VI(TN,"users",r));if(e.exists()){const t=e.data();i(h({id:e.id},t)),a(t.displayName||""),c(t.bio||""),d(t.photoURL||"")}else g("User not found.")}catch(o){console.error("Error fetching user data:",o),g("Failed to load user data.")}finally{f(!1)}})()},[n,e,t]);const b=o&&e&&o.id===e.uid,w=async e=>{if(e===o.displayName)return!0;const t=IP(UI(TN,"users"),RP("displayName","==",e)),n=await function(e){e=Zw(e,FI);const t=Zw(e.firestore,KI),n=GI(t),r=new KP(t);return EP(e._query),RI(n,e._query).then(n=>new WP(t,r,e,n))}(t);return n.empty};return p?(0,ns.jsx)(ha,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,ns.jsx)(Ja,{})}):m?(0,ns.jsxs)(LN,{component:"main",maxWidth:"sm",sx:{mt:8},children:[(0,ns.jsx)(kO,{severity:"error",children:m}),(0,ns.jsx)(TF,{component:wt,to:"/",startIcon:(0,ns.jsx)(fz,{}),sx:{mt:2},children:"Back to Home"})]}):o?(0,ns.jsxs)(LN,{component:"main",maxWidth:"sm",sx:{mt:8},children:[(0,ns.jsx)(TF,{component:wt,to:"/",startIcon:(0,ns.jsx)(fz,{}),sx:{mb:2},children:"Back to Home"}),(0,ns.jsxs)(BN,{elevation:3,sx:{p:4,display:"flex",flexDirection:"column",alignItems:"center",color:"text.primary"},children:[(0,ns.jsx)(Cj,{src:u,sx:{m:1,bgcolor:"secondary.main",width:100,height:100},children:(0,ns.jsx)(hz,{})}),(0,ns.jsx)(JN,{component:"h1",variant:"h5",sx:{color:"text.primary"},children:o.displayName||"User Profile"}),(0,ns.jsxs)(ha,{component:"form",onSubmit:async t=>{if(t.preventDefault(),g(""),y(""),s.trim()){f(!0);try{if(!await w(s))throw new Error("Username already taken. Please choose another one.");await Kh(e,{displayName:s,photoURL:u});const t=VI(TN,"users",e.uid);await function(e,t,n){e=Zw(e,jI);const r=Zw(e.firestore,KI),o=sP(r);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return i="string"==typeof(t=cc(t))||t instanceof $I?dP(o,"updateDoc",e._key,t,n,a):uP(o,"updateDoc",e._key,t),$P(r,[i.toMutation(e._key,mk.exists(!0))])}(t,{displayName:s,photoURL:u,bio:l}),y("Profile updated successfully!")}catch(n){g(n.message)}finally{f(!1)}}else g("Please enter a username.")},noValidate:!0,sx:{mt:1},children:[m&&(0,ns.jsx)(kO,{severity:"error",sx:{mb:2,width:"100%"},children:m}),v&&(0,ns.jsx)(kO,{severity:"success",sx:{mb:2,width:"100%"},children:v}),b&&(0,ns.jsx)(fF,{margin:"normal",fullWidth:!0,id:"email",label:"Email Address",name:"email",value:o.email,disabled:!0}),(0,ns.jsx)(fF,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",value:s,onChange:e=>a(e.target.value),autoFocus:!0,disabled:!b}),(0,ns.jsx)(fF,{margin:"normal",fullWidth:!0,id:"photoURL",label:"Photo URL",name:"photoURL",value:u,onChange:e=>d(e.target.value),disabled:!b}),(0,ns.jsx)(fF,{margin:"normal",fullWidth:!0,id:"bio",label:"Bio",name:"bio",value:l,onChange:e=>c(e.target.value),multiline:!0,rows:3,disabled:!b}),b&&(0,ns.jsx)(TF,{type:"submit",fullWidth:!0,variant:"contained",disabled:p,sx:{mt:3,mb:2},children:p?(0,ns.jsx)(Ja,{size:24,color:"inherit"}):"Update Profile"})]})]})]}):null};function qz(e){return aa("MuiFab",e)}const Hz=la("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),Kz=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],Gz=Na(JA,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>Ra(e)||"classes"===e,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["size".concat(Da(n.size))],"inherit"===n.color&&t.colorInherit,t[Da(n.size)],t[n.color]]}})(Oa(e=>{var t,n;let{theme:r}=e;return h(h({},r.typography.button),{},{minHeight:36,transition:r.transitions.create(["background-color","box-shadow","border-color"],{duration:r.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(r.vars||r).zIndex.fab,boxShadow:(r.vars||r).shadows[6],"&:active":{boxShadow:(r.vars||r).shadows[12]},color:r.vars?r.vars.palette.grey[900]:null===(t=(n=r.palette).getContrastText)||void 0===t?void 0:t.call(n,r.palette.grey[300]),backgroundColor:(r.vars||r).palette.grey[300],"&:hover":{backgroundColor:(r.vars||r).palette.grey.A100,"@media (hover: none)":{backgroundColor:(r.vars||r).palette.grey[300]},textDecoration:"none"},["&.".concat(Hz.focusVisible)]:{boxShadow:(r.vars||r).shadows[6]},variants:[{props:{size:"small"},style:{width:40,height:40}},{props:{size:"medium"},style:{width:48,height:48}},{props:{variant:"extended"},style:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48}},{props:{variant:"extended",size:"small"},style:{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34}},{props:{variant:"extended",size:"medium"},style:{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},{props:{color:"inherit"},style:{color:"inherit"}}]})}),Oa(e=>{let{theme:t}=e;return{variants:[...Object.entries(t.palette).filter(La(["dark","contrastText"])).map(e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].contrastText,backgroundColor:(t.vars||t).palette[n].main,"&:hover":{backgroundColor:(t.vars||t).palette[n].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n].main}}}}})]}}),Oa(e=>{let{theme:t}=e;return{["&.".concat(Hz.disabled)]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}})),Yz=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiFab"}),{children:r,className:o,color:i="default",component:s="button",disabled:l=!1,disableFocusRipple:c=!1,focusVisibleClassName:u,size:d="large",variant:p="circular"}=n,f=a(n,Kz),m=h(h({},n),{},{color:i,component:s,disabled:l,disableFocusRipple:c,size:d,variant:p}),g=(e=>{const{color:t,variant:n,classes:r,size:o}=e,i=fa({root:["root",n,"size".concat(Da(o)),"inherit"===t?"colorInherit":t]},qz,r);return h(h({},r),i)})(m);return(0,ns.jsx)(Gz,h(h({className:mo(g.root,o),component:s,disabled:l,focusRipple:!c,focusVisibleClassName:mo(g.focusVisible,u),ownerState:m,ref:t},f),{},{classes:g,children:r}))}),Qz=Yz,$z=dO((0,ns.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}));const Xz=function(){const[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)(""),[i,s]=(0,r.useState)({}),[a,l]=(0,r.useState)({}),[c,u]=(0,r.useState)({}),d=ve();(0,r.useEffect)(()=>{(async()=>{if(xN.currentUser){const e=VI(TN,"users",xN.currentUser.uid),t=await HP(e);t.exists()&&o(t.data().photoURL)}})();const e=QP(IP(UI(TN,"users"),RP("uid","!=",xN.currentUser.uid)),e=>{const n=[];e.forEach(e=>{n.push(h({id:e.id},e.data()))}),t(n)});return()=>e()},[]),(0,r.useEffect)(()=>{const t=[];return e.forEach(e=>{const n=Bb(Db(IN,"/status/".concat(e.id)),t=>{const n=t.val();s(t=>h(h({},t),{},{[e.id]:n}))});t.push(n)}),()=>t.forEach(e=>e())},[e]),(0,r.useEffect)(()=>{if(!xN.currentUser||0===e.length)return;const t=e.map(e=>{const t=[xN.currentUser.uid,e.id].sort().join("_");return QP(IP(UI(TN,"privateMessages",t,"messages"),RP("receiverId","==",xN.currentUser.uid),RP("read","==",!1)),t=>{l(n=>h(h({},n),{},{[e.id]:t.size}))})});return()=>t.forEach(e=>e())},[e,xN.currentUser]),(0,r.useEffect)(()=>{if(!xN.currentUser||0===e.length)return;const t=e.map(e=>{const t=[xN.currentUser.uid,e.id].sort().join("_");var n;return QP(IP(UI(TN,"privateMessages",t,"messages"),OP("timestamp","desc"),(e_("limit",n=1),MP._create("limit",n,"F"))),t=>{if(t.empty)u(t=>h(h({},t),{},{[e.id]:null}));else{const n=t.docs[0].data();u(t=>h(h({},t),{},{[e.id]:n}))}})});return()=>t.forEach(e=>e())},[e,xN.currentUser]);const p=[...e].sort((e,t)=>{const n=a[e.id]||0,r=a[t.id]||0;if(n>0&&0===r)return-1;if(0===n&&r>0)return 1;const o=c[e.id],i=c[t.id];return o&&i?i.timestamp.toDate().getTime()-o.timestamp.toDate().getTime():o?-1:i?1:0});return(0,ns.jsxs)(ha,{sx:{display:"flex",flexDirection:"column",height:"100vh",bgcolor:"background.default"},children:[(0,ns.jsx)($j,{position:"static",elevation:0,sx:{background:"transparent",color:"text.primary",boxShadow:"none"},children:(0,ns.jsxs)(WF,{children:[(0,ns.jsx)(JN,{variant:"h5",component:"div",sx:{flexGrow:1,fontWeight:"bold"},children:"Chats"}),(0,ns.jsx)(iO,{color:"inherit",onClick:()=>d("/profile"),children:(0,ns.jsx)(Cj,{src:n})}),(0,ns.jsx)(iO,{color:"inherit",onClick:()=>{Gh(xN).then(()=>{d("/login")})},children:(0,ns.jsx)(pz,{})})]})}),(0,ns.jsx)(rD,{sx:{flexGrow:1,overflowY:"auto",px:2,pt:1},children:p.map(t=>{var n,r,o;return(0,ns.jsxs)(cj,{button:!0,onClick:()=>(e=>{d("/chat/".concat(e.uid))})(t),sx:{mb:1.5,borderRadius:1,boxShadow:2,bgcolor:"background.paper","&:hover":{bgcolor:"action.hover"},py:1.5,px:2},children:[(0,ns.jsx)(jF,{badgeContent:a[t.id]||0,color:"error",invisible:0===a[t.id],sx:{mr:2},children:(0,ns.jsx)(Cj,{src:t.photoURL})}),(0,ns.jsx)(Pj,{sx:{minWidth:0},primary:(0,ns.jsx)(JN,{variant:"subtitle1",sx:{fontWeight:"medium",fontFamily:"Roboto, sans-serif"},children:t.displayName}),secondary:(0,ns.jsxs)(ha,{sx:{display:"flex",flexDirection:"column"},children:[(0,ns.jsxs)(ha,{sx:{display:"flex",alignItems:"center"},children:[(0,ns.jsx)(ha,{sx:{width:10,height:10,borderRadius:"50%",bgcolor:"online"===(null===(n=i[t.id])||void 0===n?void 0:n.state)?"green":"red",display:"inline-block",mr:1}}),(0,ns.jsx)(JN,{variant:"caption",sx:{color:"text.secondary",display:"inline-block",fontFamily:"Roboto, sans-serif"},children:"online"===(null===(r=i[t.id])||void 0===r?void 0:r.state)?"Online":"Offline"})]}),(0,ns.jsx)(JN,{variant:"body2",color:"text.secondary",sx:{mt:.5,fontFamily:"Roboto, sans-serif",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:c[t.id]?(0,ns.jsxs)(ns.Fragment,{children:[(0,ns.jsx)("strong",{children:c[t.id].senderId===xN.currentUser.uid?"You: ":"".concat((null===(o=e.find(e=>e.uid===c[t.id].senderId))||void 0===o?void 0:o.displayName)||"User",": ")}),c[t.id].text]}):"No messages yet."})]})}),(0,ns.jsx)(iO,{edge:"end","aria-label":"view profile",onClick:e=>((e,t)=>{e.stopPropagation(),d("/profile/".concat(t))})(e,t.id),children:(0,ns.jsx)($z,{})})]},t.id)})}),(0,ns.jsx)(Qz,{color:"primary","aria-label":"add",sx:{position:"fixed",bottom:24,right:24},onClick:()=>d("/gemini-chat"),children:(0,ns.jsx)(JN,{variant:"h5",sx:{fontWeight:"bold",fontFamily:"Roboto, sans-serif"},children:"AI"})})]})};const Jz=function(){const[e,t]=(0,r.useState)([]),n=ve();return(0,r.useEffect)(()=>{const e=QP(IP(UI(TN,"users"),RP("uid","!=",xN.currentUser.uid)),e=>{const n=[];e.forEach(e=>{n.push(h({id:e.id},e.data()))}),t(n)});return()=>e()},[]),(0,ns.jsxs)(ha,{sx:{flexGrow:1},children:[(0,ns.jsx)($j,{position:"static",children:(0,ns.jsxs)(WF,{children:[(0,ns.jsx)(iO,{component:wt,to:"/",color:"inherit",children:(0,ns.jsx)(fz,{})}),(0,ns.jsx)(JN,{variant:"h6",component:"div",sx:{flexGrow:1},children:"New Chat"}),(0,ns.jsx)(iO,{color:"inherit",onClick:()=>{Gh(xN).then(()=>{n("/login")})},children:(0,ns.jsx)(pz,{})})]})}),(0,ns.jsx)(rD,{children:e.map(e=>(0,ns.jsxs)(cj,{button:"true",onClick:()=>(e=>{n("/chat?uid=".concat(e.uid))})(e),children:[(0,ns.jsx)(Cj,{src:e.photoURL,sx:{mr:2}}),(0,ns.jsx)(Pj,{primary:e.displayName,secondary:e.bio})]},e.id))})]})};var Zz,eU,tU;!function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"}(Zz||(Zz={})),function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"}(eU||(eU={})),function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"}(tU||(tU={}));const nU=["user","model","function","system"];var rU,oU,iU,sU,aU,lU,cU,uU;!function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"}(rU||(rU={})),function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"}(oU||(oU={})),function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(iU||(iU={})),function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"}(sU||(sU={})),function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"}(aU||(aU={})),function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"}(lU||(lU={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"}(cU||(cU={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(uU||(uU={}));class dU extends Error{constructor(e){super("[GoogleGenerativeAI Error]: ".concat(e))}}class hU extends dU{constructor(e,t){super(e),this.response=t}}class pU extends dU{constructor(e,t,n,r){super(e),this.status=t,this.statusText=n,this.errorDetails=r}}class fU extends dU{}class mU extends dU{}var gU;!function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"}(gU||(gU={}));class vU{constructor(e,t,n,r,o){this.model=e,this.task=t,this.apiKey=n,this.stream=r,this.requestOptions=o}toString(){var e,t;const n=(null===(e=this.requestOptions)||void 0===e?void 0:e.apiVersion)||"v1beta",r=(null===(t=this.requestOptions)||void 0===t?void 0:t.baseUrl)||"https://generativelanguage.googleapis.com";let o="".concat(r,"/").concat(n,"/").concat(this.model,":").concat(this.task);return this.stream&&(o+="?alt=sse"),o}}async function yU(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",function(e){const t=[];return(null===e||void 0===e?void 0:e.apiClient)&&t.push(e.apiClient),t.push("".concat("genai-js","/").concat("0.24.1")),t.join(" ")}(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let r=null===(t=e.requestOptions)||void 0===t?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(gV){throw new fU("unable to convert customHeaders value ".concat(JSON.stringify(r)," to Headers: ").concat(gV.message))}for(const[e,t]of r.entries()){if("x-goog-api-key"===e)throw new fU("Cannot set reserved header name ".concat(e));if("x-goog-api-client"===e)throw new fU("Header name ".concat(e," can only be set using the apiClient field"));n.append(e,t)}}return n}async function bU(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fetch;const{url:a,fetchOptions:l}=await async function(e,t,n,r,o,i){const s=new vU(e,t,n,r,i);return{url:s.toString(),fetchOptions:Object.assign(Object.assign({},wU(i)),{method:"POST",headers:await yU(s),body:o})}}(e,t,n,r,o,i);return async function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fetch;try{n=await r(e,t)}catch(gV){!function(e,t){let n=e;"AbortError"===n.name?(n=new mU("Request aborted when fetching ".concat(t.toString(),": ").concat(e.message)),n.stack=e.stack):e instanceof pU||e instanceof fU||(n=new dU("Error fetching from ".concat(t.toString(),": ").concat(e.message)),n.stack=e.stack);throw n}(gV,e)}n.ok||await async function(e,t){let n,r="";try{const t=await e.json();r=t.error.message,t.error.details&&(r+=" ".concat(JSON.stringify(t.error.details)),n=t.error.details)}catch(gV){}throw new pU("Error fetching from ".concat(t.toString(),": [").concat(e.status," ").concat(e.statusText,"] ").concat(r),e.status,e.statusText,n)}(n,e);return n}(a,l,s)}function wU(e){const t={};if(void 0!==(null===e||void 0===e?void 0:e.signal)||(null===e||void 0===e?void 0:e.timeout)>=0){const n=new AbortController;(null===e||void 0===e?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),(null===e||void 0===e?void 0:e.signal)&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}function _U(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn("This response had ".concat(e.candidates.length," ")+"candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates."),kU(e.candidates[0]))throw new hU("".concat(EU(e)),e);return function(e){var t,n,r,o;const i=[];if(null===(n=null===(t=e.candidates)||void 0===t?void 0:t[0].content)||void 0===n?void 0:n.parts)for(const s of null===(o=null===(r=e.candidates)||void 0===r?void 0:r[0].content)||void 0===o?void 0:o.parts)s.text&&i.push(s.text),s.executableCode&&i.push("\n```"+s.executableCode.language+"\n"+s.executableCode.code+"\n```\n"),s.codeExecutionResult&&i.push("\n```\n"+s.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}(e)}if(e.promptFeedback)throw new hU("Text not available. ".concat(EU(e)),e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn("This response had ".concat(e.candidates.length," ")+"candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates."),kU(e.candidates[0]))throw new hU("".concat(EU(e)),e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),SU(e)[0]}if(e.promptFeedback)throw new hU("Function call not available. ".concat(EU(e)),e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn("This response had ".concat(e.candidates.length," ")+"candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates."),kU(e.candidates[0]))throw new hU("".concat(EU(e)),e);return SU(e)}if(e.promptFeedback)throw new hU("Function call not available. ".concat(EU(e)),e)},e}function SU(e){var t,n,r,o;const i=[];if(null===(n=null===(t=e.candidates)||void 0===t?void 0:t[0].content)||void 0===n?void 0:n.parts)for(const s of null===(o=null===(r=e.candidates)||void 0===r?void 0:r[0].content)||void 0===o?void 0:o.parts)s.functionCall&&i.push(s.functionCall);return i.length>0?i:void 0}const CU=[aU.RECITATION,aU.SAFETY,aU.LANGUAGE];function kU(e){return!!e.finishReason&&CU.includes(e.finishReason)}function EU(e){var t,n,r;let o="";if(e.candidates&&0!==e.candidates.length||!e.promptFeedback){if(null===(r=e.candidates)||void 0===r?void 0:r[0]){const t=e.candidates[0];kU(t)&&(o+="Candidate was blocked due to ".concat(t.finishReason),t.finishMessage&&(o+=": ".concat(t.finishMessage)))}}else o+="Response was blocked",(null===(t=e.promptFeedback)||void 0===t?void 0:t.blockReason)&&(o+=" due to ".concat(e.promptFeedback.blockReason)),(null===(n=e.promptFeedback)||void 0===n?void 0:n.blockReasonMessage)&&(o+=": ".concat(e.promptFeedback.blockReasonMessage));return o}function xU(e){return this instanceof xU?(this.v=e,this):new xU(e)}function TU(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise(function(n,r){i.push([e,t,n,r])>1||a(e,t)})})}function a(e,t){try{!function(e){e.value instanceof xU?Promise.resolve(e.value.v).then(l,c):u(i[0][2],e)}(o[e](t))}catch(gV){u(i[0][3],gV)}}function l(e){a("next",e)}function c(e){a("throw",e)}function u(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}"function"===typeof SuppressedError&&SuppressedError;const IU=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function PU(e){const t=function(e){const t=e.getReader();return new ReadableStream({start(e){let n="";return r();function r(){return t.read().then(t=>{let{value:o,done:i}=t;if(i)return n.trim()?void e.error(new dU("Failed to parse stream")):void e.close();n+=o;let s,a=n.match(IU);for(;a;){try{s=JSON.parse(a[1])}catch(gV){return void e.error(new dU('Error parsing JSON response: "'.concat(a[1],'"')))}e.enqueue(s),n=n.substring(a[0].length),a=n.match(IU)}return r()}).catch(e=>{let t=e;throw t.stack=e.stack,t="AbortError"===t.name?new mU("Request aborted when reading from the stream"):new dU("Error reading from the stream"),t})}}})}(e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0}))),[n,r]=t.tee();return{stream:NU(n),response:RU(r)}}async function RU(e){const t=[],n=e.getReader();for(;;){const{done:e,value:r}=await n.read();if(e)return _U(AU(t));t.push(r)}}function NU(e){return TU(this,arguments,function*(){const t=e.getReader();for(;;){const{value:e,done:n}=yield xU(t.read());if(n)break;yield yield xU(_U(e))}})}function AU(e){const t=e[e.length-1],n={promptFeedback:null===t||void 0===t?void 0:t.promptFeedback};for(const r of e){if(r.candidates){let e=0;for(const t of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[e]||(n.candidates[e]={index:e}),n.candidates[e].citationMetadata=t.citationMetadata,n.candidates[e].groundingMetadata=t.groundingMetadata,n.candidates[e].finishReason=t.finishReason,n.candidates[e].finishMessage=t.finishMessage,n.candidates[e].safetyRatings=t.safetyRatings,t.content&&t.content.parts){n.candidates[e].content||(n.candidates[e].content={role:t.content.role||"user",parts:[]});const r={};for(const o of t.content.parts)o.text&&(r.text=o.text),o.functionCall&&(r.functionCall=o.functionCall),o.executableCode&&(r.executableCode=o.executableCode),o.codeExecutionResult&&(r.codeExecutionResult=o.codeExecutionResult),0===Object.keys(r).length&&(r.text=""),n.candidates[e].content.parts.push(r)}e++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}async function OU(e,t,n,r){return PU(await bU(t,gU.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r))}async function MU(e,t,n,r){const o=await bU(t,gU.GENERATE_CONTENT,e,!1,JSON.stringify(n),r);return{response:_U(await o.json())}}function DU(e){if(null!=e)return"string"===typeof e?{role:"system",parts:[{text:e}]}:e.text?{role:"system",parts:[e]}:e.parts?e.role?e:{role:"system",parts:e.parts}:void 0}function LU(e){let t=[];if("string"===typeof e)t=[{text:e}];else for(const n of e)"string"===typeof n?t.push({text:n}):t.push(n);return function(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,o=!1;for(const i of e)"functionResponse"in i?(n.parts.push(i),o=!0):(t.parts.push(i),r=!0);if(r&&o)throw new dU("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!o)throw new dU("No content is provided for sending chat message.");if(r)return t;return n}(t)}function FU(e){let t;if(e.contents)t=e;else{t={contents:[LU(e)]}}return e.systemInstruction&&(t.systemInstruction=DU(e.systemInstruction)),t}const jU=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],zU={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function UU(e){var t;if(void 0===e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;if(void 0===n)return!1;if(void 0===n.parts||0===n.parts.length)return!1;for(const r of n.parts){if(void 0===r||0===Object.keys(r).length)return!1;if(void 0!==r.text&&""===r.text)return!1}return!0}const VU="SILENT_ERROR";class BU{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.model=t,this.params=n,this._requestOptions=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,(null===n||void 0===n?void 0:n.history)&&(!function(e){let t=!1;for(const n of e){const{role:e,parts:r}=n;if(!t&&"user"!==e)throw new dU("First content should be with role 'user', got ".concat(e));if(!nU.includes(e))throw new dU("Each item should include role field. Got ".concat(e," but valid roles are: ").concat(JSON.stringify(nU)));if(!Array.isArray(r))throw new dU("Content should have 'parts' property with an array of Parts");if(0===r.length)throw new dU("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const t of r)for(const e of jU)e in t&&(o[e]+=1);const i=zU[e];for(const t of jU)if(!i.includes(t)&&o[t]>0)throw new dU("Content with role '".concat(e,"' can't contain '").concat(t,"' part"));t=!0}}(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r,o,i,s,a;await this._sendPromise;const l=LU(e),c={safetySettings:null===(n=this.params)||void 0===n?void 0:n.safetySettings,generationConfig:null===(r=this.params)||void 0===r?void 0:r.generationConfig,tools:null===(o=this.params)||void 0===o?void 0:o.tools,toolConfig:null===(i=this.params)||void 0===i?void 0:i.toolConfig,systemInstruction:null===(s=this.params)||void 0===s?void 0:s.systemInstruction,cachedContent:null===(a=this.params)||void 0===a?void 0:a.cachedContent,contents:[...this._history,l]},u=Object.assign(Object.assign({},this._requestOptions),t);let d;return this._sendPromise=this._sendPromise.then(()=>MU(this._apiKey,this.model,c,u)).then(e=>{var t;if(UU(e.response)){this._history.push(l);const n=Object.assign({parts:[],role:"model"},null===(t=e.response.candidates)||void 0===t?void 0:t[0].content);this._history.push(n)}else{const t=EU(e.response);t&&console.warn("sendMessage() was unsuccessful. ".concat(t,". Inspect response object for details."))}d=e}).catch(e=>{throw this._sendPromise=Promise.resolve(),e}),await this._sendPromise,d}async sendMessageStream(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r,o,i,s,a;await this._sendPromise;const l=LU(e),c={safetySettings:null===(n=this.params)||void 0===n?void 0:n.safetySettings,generationConfig:null===(r=this.params)||void 0===r?void 0:r.generationConfig,tools:null===(o=this.params)||void 0===o?void 0:o.tools,toolConfig:null===(i=this.params)||void 0===i?void 0:i.toolConfig,systemInstruction:null===(s=this.params)||void 0===s?void 0:s.systemInstruction,cachedContent:null===(a=this.params)||void 0===a?void 0:a.cachedContent,contents:[...this._history,l]},u=Object.assign(Object.assign({},this._requestOptions),t),d=OU(this._apiKey,this.model,c,u);return this._sendPromise=this._sendPromise.then(()=>d).catch(e=>{throw new Error(VU)}).then(e=>e.response).then(e=>{if(UU(e)){this._history.push(l);const t=Object.assign({},e.candidates[0].content);t.role||(t.role="model"),this._history.push(t)}else{const t=EU(e);t&&console.warn("sendMessageStream() was unsuccessful. ".concat(t,". Inspect response object for details."))}}).catch(e=>{e.message!==VU&&console.error(e)}),d}}class WU{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.apiKey=e,this._requestOptions=n,t.model.includes("/")?this.model=t.model:this.model="models/".concat(t.model),this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=DU(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const r=FU(e),o=Object.assign(Object.assign({},this._requestOptions),t);return MU(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(n=this.cachedContent)||void 0===n?void 0:n.name},r),o)}async generateContentStream(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const r=FU(e),o=Object.assign(Object.assign({},this._requestOptions),t);return OU(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(n=this.cachedContent)||void 0===n?void 0:n.name},r),o)}startChat(e){var t;return new BU(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(t=this.cachedContent)||void 0===t?void 0:t.name},e),this._requestOptions)}async countTokens(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=function(e,t){var n;let r={model:null===t||void 0===t?void 0:t.model,generationConfig:null===t||void 0===t?void 0:t.generationConfig,safetySettings:null===t||void 0===t?void 0:t.safetySettings,tools:null===t||void 0===t?void 0:t.tools,toolConfig:null===t||void 0===t?void 0:t.toolConfig,systemInstruction:null===t||void 0===t?void 0:t.systemInstruction,cachedContent:null===(n=null===t||void 0===t?void 0:t.cachedContent)||void 0===n?void 0:n.name,contents:[]};const o=null!=e.generateContentRequest;if(e.contents){if(o)throw new fU("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(o)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const t=LU(e);r.contents=[t]}return{generateContentRequest:r}}(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),r=Object.assign(Object.assign({},this._requestOptions),t);return async function(e,t,n,r){return(await bU(t,gU.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}(this.apiKey,this.model,n,r)}async embedContent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=function(e){if("string"===typeof e||Array.isArray(e))return{content:LU(e)};return e}(e),r=Object.assign(Object.assign({},this._requestOptions),t);return async function(e,t,n,r){return(await bU(t,gU.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}(this.apiKey,this.model,n,r)}async batchEmbedContents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Object.assign(Object.assign({},this._requestOptions),t);return async function(e,t,n,r){const o=n.requests.map(e=>Object.assign(Object.assign({},e),{model:t}));return(await bU(t,gU.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:o}),r)).json()}(this.apiKey,this.model,e,n)}}class qU{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new dU("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new WU(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,n){if(!e.name)throw new fU("Cached content must contain a `name` field.");if(!e.model)throw new fU("Cached content must contain a `model` field.");const r=["model","systemInstruction"];for(const i of r)if((null===t||void 0===t?void 0:t[i])&&e[i]&&(null===t||void 0===t?void 0:t[i])!==e[i]){if("model"===i){if((t.model.startsWith("models/")?t.model.replace("models/",""):t.model)===(e.model.startsWith("models/")?e.model.replace("models/",""):e.model))continue}throw new fU('Different value for "'.concat(i,'" specified in modelParams')+" (".concat(t[i],") and cachedContent (").concat(e[i],")"))}const o=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new WU(this.apiKey,o,n)}}const HU=e=>{const t=new Date,n=new Date(t);return n.setDate(n.getDate()-1),e.toDateString()===t.toDateString()?"Today":e.toDateString()===n.toDateString()?"Yesterday":e.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})};const KU=function(){const[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)([]),[i,s]=(0,r.useState)(""),[a,l]=(0,r.useState)(!1),c=(0,r.useRef)(null),u=(0,r.useRef)(null),d=ve(),p=xN.currentUser,f=new qU("AIzaSyB4Y3RIiX6Mrai8aXYtIKnx2bAgfFkR-G8");return(0,r.useEffect)(()=>{if(!p)return;const e=QP(IP(UI(TN,"geminiChats",p.uid,"messages"),OP("timestamp","asc")),e=>{const n=e.docs.map(e=>h({id:e.id},e.data()));t(n)});return()=>e()},[p]),(0,r.useEffect)(()=>{const t=(e=>{if(!e.length)return[];const t=[];let n=null;return e.forEach(e=>{var r;if(null!==(r=e.timestamp)&&void 0!==r&&r.toDate){const r=e.timestamp.toDate();n&&r.toDateString()===n.toDateString()||(t.push({type:"date",date:r,id:r.getTime()}),n=r)}t.push(h({type:"message"},e))}),t})(e);o(t)},[e]),(0,r.useEffect)(()=>{var e;null===(e=c.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[n]),(0,ns.jsxs)(ha,{sx:{display:"flex",height:"100vh",flexDirection:"column"},children:[(0,ns.jsx)($j,{position:"static",children:(0,ns.jsxs)(WF,{children:[(0,ns.jsx)(iO,{color:"inherit",onClick:()=>d(-1),edge:"start",sx:{mr:2},children:(0,ns.jsx)(fz,{})}),(0,ns.jsx)(JN,{variant:"h6",component:"div",sx:{flexGrow:1},children:"AI Chat"})]})}),(0,ns.jsxs)(BN,{elevation:0,sx:{flexGrow:1,overflowY:"auto",p:2},children:[n.map(e=>{if("date"===e.type)return(0,ns.jsx)(ha,{sx:{display:"flex",justifyContent:"center",my:2},children:(0,ns.jsx)(iz,{label:HU(e.date)})},e.id);const t=e,n=t.senderId===(null===p||void 0===p?void 0:p.uid);return(0,ns.jsx)(ha,{sx:{display:"flex",justifyContent:n?"flex-end":"flex-start",mb:2},children:(0,ns.jsx)(BN,{elevation:1,sx:{p:2,borderRadius:n?"20px 20px 5px 20px":"20px 20px 20px 5px",backgroundColor:n?"primary.main":"background.paper",color:n?"primary.contrastText":"text.primary",maxWidth:"80%"},children:(0,ns.jsx)(JN,{variant:"body1",children:t.text})})},t.id)}),a&&(0,ns.jsx)(ha,{sx:{display:"flex",justifyContent:"flex-start",mb:2},children:(0,ns.jsx)(BN,{elevation:1,sx:{p:2,borderRadius:"20px 20px 20px 5px",backgroundColor:"background.paper"},children:(0,ns.jsx)(JN,{variant:"body1",children:"..."})})}),(0,ns.jsx)("div",{ref:c})]}),(0,ns.jsx)(BN,{elevation:3,sx:{p:2},children:(0,ns.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!i.trim()||!p)return;const t={text:i,senderId:p.uid,timestamp:eR()},n=UI(TN,"geminiChats",p.uid,"messages");await YP(n,t),s(""),l(!0),u.current&&u.current.blur();try{const e=f.getGenerativeModel({model:"gemini-1.5-flash-latest"}),t=await e.generateContent(i),r=await t.response,o={text:r.text(),senderId:"gemini",timestamp:eR()};await YP(n,o)}catch(Df){console.error("Error sending message to Gemini:",Df);const t={text:"Sorry, I am having trouble connecting. Please try again later.",senderId:"gemini",timestamp:eR()};await YP(n,t)}finally{l(!1)}},style:{display:"flex",alignItems:"center"},children:[(0,ns.jsx)(fF,{fullWidth:!0,variant:"outlined",placeholder:"Type a message...",value:i,onChange:e=>s(e.target.value),autoComplete:"off",inputRef:u}),(0,ns.jsx)(TF,{type:"submit",variant:"contained",disabled:!i.trim()||a,sx:{ml:2},children:(0,ns.jsx)(vz,{})})]})})]})};const GU=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:o,open:i,resumeHideDuration:s}=e,a=NA();r.useEffect(()=>{if(i)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"===e.key&&(null===o||void 0===o||o(e,"escapeKeyDown"))}},[i,o]);const l=mA((e,t)=>{null===o||void 0===o||o(e,t)}),c=mA(e=>{o&&null!=e&&a.start(e,()=>{l(null,"timeout")})});r.useEffect(()=>(i&&c(t),a.clear),[i,t,c,a]);const u=a.clear,d=r.useCallback(()=>{null!=t&&c(null!=s?s:.5*t)},[t,s,c]),p=e=>t=>{const n=e.onFocus;null===n||void 0===n||n(t),u()},f=e=>t=>{const n=e.onMouseEnter;null===n||void 0===n||n(t),u()},m=e=>t=>{const n=e.onMouseLeave;null===n||void 0===n||n(t),d()};return r.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",d),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",u)}},[n,i,d,u]),{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=h(h({},rA(e)),rA(t));return h(h(h({role:"presentation"},t),n),{},{onBlur:(r=n,e=>{const t=r.onBlur;null===t||void 0===t||t(e),d()}),onFocus:p(n),onMouseEnter:f(n),onMouseLeave:m(n)});var r},onClickAway:e=>{null===o||void 0===o||o(e,"clickaway")}}};function YU(e){return e.substring(2).toLowerCase()}function QU(e){const{children:t,disableReactTree:n=!1,mouseEvent:o="onClick",onClickAway:i,touchEvent:s="onTouchEnd"}=e,a=r.useRef(!1),l=r.useRef(null),c=r.useRef(!1),u=r.useRef(!1);r.useEffect(()=>(setTimeout(()=>{c.current=!0},0),()=>{c.current=!1}),[]);const d=ZN(YM(t),l),h=mA(e=>{const t=u.current;u.current=!1;const r=xO(l.current);if(!c.current||!l.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,r))return;if(a.current)return void(a.current=!1);let o;o=e.composedPath?e.composedPath().includes(l.current):!r.documentElement.contains(e.target)||l.current.contains(e.target),o||!n&&t||i(e)}),p=e=>n=>{u.current=!0;const r=t.props[e];r&&r(n)},f={ref:d};return!1!==s&&(f[s]=p(s)),r.useEffect(()=>{if(!1!==s){const e=YU(s),t=xO(l.current),n=()=>{a.current=!0};return t.addEventListener(e,h),t.addEventListener("touchmove",n),()=>{t.removeEventListener(e,h),t.removeEventListener("touchmove",n)}}},[h,s]),!1!==o&&(f[o]=p(o)),r.useEffect(()=>{if(!1!==o){const e=YU(o),t=xO(l.current);return t.addEventListener(e,h),()=>{t.removeEventListener(e,h)}}},[h,o]),r.cloneElement(t,f)}function $U(e){return aa("MuiSnackbarContent",e)}la("MuiSnackbarContent",["root","message","action"]);const XU=["action","className","message","role"],JU=Na(BN,{name:"MuiSnackbarContent",slot:"Root"})(Oa(e=>{let{theme:t}=e;const n="light"===t.palette.mode?.8:.98;return h(h({},t.typography.body2),{},{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(Kt(t.palette.background.default,n)),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:Kt(t.palette.background.default,n),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})})),ZU=Na("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"}),eV=Na("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),tV=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiSnackbarContent"}),{action:r,className:o,message:i,role:s="alert"}=n,l=a(n,XU),c=n,u=(e=>{const{classes:t}=e;return fa({root:["root"],action:["action"],message:["message"]},$U,t)})(c);return(0,ns.jsxs)(JU,h(h({role:s,elevation:6,className:mo(u.root,o),ownerState:c,ref:t},l),{},{children:[(0,ns.jsx)(ZU,{className:u.message,ownerState:c,children:i}),r?(0,ns.jsx)(eV,{className:u.action,ownerState:c,children:r}):null]}))}),nV=tV;function rV(e){return aa("MuiSnackbar",e)}la("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const oV=["onEnter","onExited"],iV=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","slots","slotProps","TransitionComponent","transitionDuration","TransitionProps"],sV=["ownerState"],aV=Na("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["anchorOrigin".concat(Da(n.anchorOrigin.vertical)).concat(Da(n.anchorOrigin.horizontal))]]}})(Oa(e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical},style:{top:8,[t.breakpoints.up("sm")]:{top:24}}},{props:e=>{let{ownerState:t}=e;return"top"!==t.anchorOrigin.vertical},style:{bottom:8,[t.breakpoints.up("sm")]:{bottom:24}}},{props:e=>{let{ownerState:t}=e;return"left"===t.anchorOrigin.horizontal},style:{justifyContent:"flex-start",[t.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.anchorOrigin.horizontal},style:{justifyContent:"flex-end",[t.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:e=>{let{ownerState:t}=e;return"center"===t.anchorOrigin.horizontal},style:{[t.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}})),lV=r.forwardRef(function(e,t){const n=Ma({props:e,name:"MuiSnackbar"}),o=FN(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:l,horizontal:c}={vertical:"bottom",horizontal:"left"},autoHideDuration:u=null,children:d,className:p,ClickAwayListenerProps:f,ContentProps:m,disableWindowBlurListener:g=!1,message:v,onBlur:y,onClose:b,onFocus:w,onMouseEnter:_,onMouseLeave:S,open:C,resumeHideDuration:k,slots:E={},slotProps:x={},TransitionComponent:T,transitionDuration:I=i,TransitionProps:{onEnter:P,onExited:R}={}}=n,N=a(n.TransitionProps,oV),A=a(n,iV),O=h(h({},n),{},{anchorOrigin:{vertical:l,horizontal:c},autoHideDuration:u,disableWindowBlurListener:g,TransitionComponent:T,transitionDuration:I}),M=(e=>{const{classes:t,anchorOrigin:n}=e;return fa({root:["root","anchorOrigin".concat(Da(n.vertical)).concat(Da(n.horizontal))]},rV,t)})(O),{getRootProps:D,onClickAway:L}=GU(h({},O)),[F,j]=r.useState(!0),z={slots:h({transition:T},E),slotProps:h({content:m,clickAwayListener:f,transition:N},x)},[U,V]=cA("root",{ref:t,className:[M.root,p],elementType:aV,getSlotProps:D,externalForwardedProps:h(h({},z),A),ownerState:O}),[B,W]=cA("clickAwayListener",{elementType:QU,externalForwardedProps:z,getSlotProps:e=>({onClickAway:function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];const i=r[0];null===(t=e.onClickAway)||void 0===t||t.call(e,...r),null!==i&&void 0!==i&&i.defaultMuiPrevented||L(...r)}}),ownerState:O}),{ownerState:q}=W,H=a(W,sV),[K,G]=cA("content",{elementType:nV,shouldForwardComponentProp:!0,externalForwardedProps:z,additionalProps:{message:v,action:s},ownerState:O}),[Y,Q]=cA("transition",{elementType:OD,externalForwardedProps:z,getSlotProps:e=>({onEnter:function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null===(t=e.onEnter)||void 0===t||t.call(e,...r),((e,t)=>{j(!1),P&&P(e,t)})(...r)},onExited:function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null===(t=e.onExited)||void 0===t||t.call(e,...r),(e=>{j(!0),R&&R(e)})(...r)}}),additionalProps:{appear:!0,in:C,timeout:I,direction:"top"===l?"down":"up"},ownerState:O});return!C&&F?null:(0,ns.jsx)(B,h(h(h({},H),E.clickAwayListener&&{ownerState:q}),{},{children:(0,ns.jsx)(U,h(h({},V),{},{children:(0,ns.jsx)(Y,h(h({},Q),{},{children:d||(0,ns.jsx)(K,h({},G))}))}))}))}),cV=lV,uV=ho({palette:{mode:"light",primary:{main:"#6750A4"},secondary:{main:"#625B71"},background:{default:"#FFFBFE",paper:"#FFFBFE"}},typography:{fontFamily:"Roboto, Arial, sans-serif"},shape:{borderRadius:12}}),dV=ho({palette:{mode:"dark",primary:{main:"#D0BCFF"},secondary:{main:"#CCC2DC"},background:{default:"#1C1B1F",paper:"rgba(48, 47, 53, 0.5)"}},typography:{fontFamily:"Roboto, Arial, sans-serif"},shape:{borderRadius:12},components:{MuiPaper:{styleOverrides:{root:{backdropFilter:"blur(10px)"}}},MuiAppBar:{styleOverrides:{root:{backdropFilter:"blur(10px)"}}},MuiDrawer:{styleOverrides:{paper:{backdropFilter:"blur(10px)"}}}}});function hV(e){let{user:t,loading:n,theme:o}=e;const[i,s]=(0,r.useState)(!1),[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)("info"),d=fe(),h=(e,t)=>{"clickaway"!==t&&s(!1)};return(0,r.useEffect)(()=>{if(t){console.log("\ud83d\udd14 Setting up notification listener for user:",t.uid);const e=QP(IP(UI(TN,"notifications"),RP("receiverId","==",t.uid),RP("read","==",!1)),e=>{console.log("\ud83d\udcec Notification snapshot received, changes:",e.docChanges().length),e.docChanges().forEach(e=>{if("added"===e.type){const t=e.doc.data();console.log("\ud83d\udd14 New notification received:",t);const n="/chat/".concat(t.senderId);if(!(d.pathname===n)){if("granted"===Notification.permission){console.log("\u2705 Showing browser notification");const e=new Notification("\ud83d\udcac ".concat(t.senderName||"New Message"),{body:t.message,icon:"/logo192.png",tag:"chat-notification",requireInteraction:!1});e.onclick=function(){window.focus(),window.location.href="/#/chat/".concat(t.senderId),e.close()},setTimeout(()=>e.close(),5e3)}else console.log("\u274c Notification permission not granted");l("New message from ".concat(t.senderName,": ").concat(t.message)),u("info"),s(!0)}GP(VI(TN,"notifications",e.doc.id),{read:!0},{merge:!0})}})});return()=>e()}},[t,d.pathname]),n?(0,ns.jsx)(ha,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,ns.jsx)(Ja,{})}):(0,ns.jsxs)(ns.Fragment,{children:[(0,ns.jsxs)(je,{children:[(0,ns.jsx)(Le,{path:"/login",element:t?(0,ns.jsx)(De,{to:"/"}):(0,ns.jsx)(IF,{})}),(0,ns.jsx)(Le,{path:"/chat/:userId",element:t?(0,ns.jsx)(Bz,{user:t}):(0,ns.jsx)(De,{to:"/login"})}),(0,ns.jsx)(Le,{path:"/gemini-chat",element:t?(0,ns.jsx)(KU,{}):(0,ns.jsx)(De,{to:"/login"})}),(0,ns.jsx)(Le,{path:"/profile",element:t?(0,ns.jsx)(Wz,{}):(0,ns.jsx)(De,{to:"/login"})}),(0,ns.jsx)(Le,{path:"/profile/:userId",element:t?(0,ns.jsx)(Wz,{}):(0,ns.jsx)(De,{to:"/login"})}),(0,ns.jsx)(Le,{path:"/users",element:t?(0,ns.jsx)(Jz,{}):(0,ns.jsx)(De,{to:"/login"})}),(0,ns.jsx)(Le,{path:"/",element:t?(0,ns.jsx)(Xz,{}):(0,ns.jsx)(De,{to:"/login"})})]}),(0,ns.jsx)(cV,{open:i,autoHideDuration:6e3,onClose:h,children:(0,ns.jsx)(kO,{onClose:h,severity:c,sx:{width:"100%"},children:a})})]})}const pV=function(){const[e,t]=(0,r.useState)(null),[n,o]=(0,r.useState)(!0),i=Ji("(prefers-color-scheme: dark)"),s=r.useMemo(()=>i?dV:uV,[i]);return(0,r.useEffect)(()=>{const e=function(e,t,n,r){return cc(e).onAuthStateChanged(t,n,r)}(xN,e=>{if(t(e),e){const t=Db(IN,"/status/"+e.uid),n={state:"offline",last_changed:Yb()},r={state:"online",last_changed:Yb()};Bb(Db(IN,".info/connected"),e=>{!1!==e.val()&&Fb(t).set(n).then(()=>{jb(t,r)})})}o(!1)});return()=>e()},[]),(0,r.useEffect)(()=>{(async()=>{if(e)try{if("granted"===await Notification.requestPermission()){console.log("Notification permission granted.");const t=await async function(e,t){return gN(e=cc(e),t)}(PN,{vapidKey:"BMtlpDpByOD2lwV3QgeAG99ONZzW8g3GwrXevd_gSucWToG3KLJ0kLx95t2Kulm52ovP9riMaitB6Qrkw0_jYsWY"});if(t){console.log("FCM Token:",t);const n=VI(TN,"users",e.uid);await GP(n,{fcmToken:t},{merge:!0})}else console.log("No registration token available. Request permission to generate one.")}else console.log("Unable to get permission to notify.")}catch(Df){console.error("An error occurred while retrieving token. ",Df)}})()},[e]),(0,r.useEffect)(()=>{if(e){const e=kN(PN,e=>{if(console.log("Message received in foreground: ",e),"granted"===Notification.permission){var t,n,r;const o=new Notification((null===(t=e.notification)||void 0===t?void 0:t.title)||"New Message",{body:(null===(n=e.notification)||void 0===n?void 0:n.body)||"You have a new message",icon:"/logo192.png",badge:"/logo192.png",tag:(null===(r=e.data)||void 0===r?void 0:r.chatId)||"chat-notification",requireInteraction:!1,data:e.data});o.onclick=function(){var t;window.focus(),null!==(t=e.data)&&void 0!==t&&t.click_action&&(window.location.href=e.data.click_action),o.close()},setTimeout(()=>o.close(),5e3)}});return()=>e()}},[e]),(0,ns.jsxs)(ea,{theme:s,children:[(0,ns.jsx)(al,{}),(0,ns.jsx)(yt,{children:(0,ns.jsx)(hV,{user:e,loading:n,theme:s})})]})},fV=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function mV(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const n=e.installing;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}i.createRoot(document.getElementById("root")).render((0,ns.jsx)(pV,{})),function(e){if("serviceWorker"in navigator){if(new URL("/my-new-chat-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="".concat("/my-new-chat-app","/service-worker.js");fV?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(n=>{const r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):mV(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):mV(t,e)})}}()})();
//# sourceMappingURL=main.c8cb65a2.js.map